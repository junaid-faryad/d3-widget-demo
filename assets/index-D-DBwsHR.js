const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-o7l87HI9.js","assets/index-1Recl8PV.js","assets/index-BGGa49ve.css","assets/tslib.es6-BhEoeJ03.js"])))=>i.map(i=>d[i]);
var Ea=e=>{throw TypeError(e)};var Qr=(e,t,n)=>t.has(e)||Ea("Cannot "+n);var M=(e,t,n)=>(Qr(e,t,"read from private field"),n?n.call(e):t.get(e)),ce=(e,t,n)=>t.has(e)?Ea("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ee=(e,t,n,r)=>(Qr(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),se=(e,t,n)=>(Qr(e,t,"access private method"),n);import{S as Bi,p as Ta,r as Le,s as Zn,a as Wn,n as kf,i as Io,b as Pa,t as Of,f as Df,c as Ff,d as Ia,e as ur,h as Na,g as Bf,j as h,u as ms,k as U,B as L,l as Se,m as et,o as ze,I as Tt,q as xt,v as $f,w as Yn,x as Xn,y as lr,z as me,A as ys,C as hn,D as tt,_ as $i,E as Pt,F as Jt,G as Lf,H as dr,J as zf,K as Wf,L as On,M as No,N as Aa,O as Ra,P as Ma,Q as _a,R as ja,T as ka,U as Oa,V as Da,W as Ao,X as fr,Y as Hf,Z as Ne,$ as Uf,a0 as qf,a1 as Te,a2 as Ct,a3 as Li,a4 as gs,a5 as zi,a6 as Fa,a7 as Vf,a8 as Gf,a9 as Kf,aa as Zf,ab as Yf,ac as Xf,ad as pr,ae as hr,af as Qf,ag as Jf,ah as ep,ai as mr,aj as Ro,ak as We,al as tp,am as fn,an as np,ao as Wi,ap as rp,aq as op,ar as It,as as Hi,at as sp,au as Ui,av as ap,aw as Ba,ax as qi,ay as ip,az as cp,aA as up,aB as $a,aC as bs,aD as lp,aE as dp,aF as fp,aG as La,aH as pp,aI as hp,aJ as mp,aK as yp,aL as gp,aM as bp,aN as wp,aO as vp,aP as xp,aQ as Cp,aR as Sp,aS as Ep,aT as Tp,aU as Pp,aV as Ip,aW as Np,aX as st,aY as f,aZ as ne,a_ as mn,a$ as en,b0 as Ap,b1 as G,b2 as ws,b3 as Ut,b4 as Ae,b5 as he,b6 as F,b7 as vs,b8 as Rp,b9 as yr,ba as Vi,bb as He,bc as q,bd as Mp,be as ge,bf as Mo,bg as Gi,bh as Ze,bi as Jr,bj as Q,bk as _p,bl as Ki,bm as gr,bn as Zi,bo as xs,bp as Yi,bq as Ye,br as Xi,bs as Qi,bt as Qn,bu as Jn,bv as jp,bw as Ji,bx as kp,by as Op,bz as Dp,bA as Fp,bB as Bp,bC as er,bD as $p}from"./index-1Recl8PV.js";import{_ as it,a as ec,b as Lp}from"./tslib.es6-BhEoeJ03.js";const zp=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"InvalidDeposit",type:"error"},{inputs:[],name:"InvalidPaymentAmount",type:"error"},{inputs:[],name:"InvalidPaymentId",type:"error"},{inputs:[],name:"InvalidSender",type:"error"},{inputs:[],name:"InvalidSigner",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{inputs:[],name:"TransferFailed",type:"error"},{inputs:[],name:"ZeroAddressSigner",type:"error"},{inputs:[],name:"ZeroAddressTreasury",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint8",name:"version",type:"uint8"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"paymentId",type:"string"},{indexed:!1,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"contract IERC20Upgradeable",name:"token",type:"address"},{indexed:!1,internalType:"bool",name:"immediateMint",type:"bool"}],name:"PaymentFulfilled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"_secondaryFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"_signer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"_treasury",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"signer",type:"address"},{internalType:"address",name:"treasury",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"buyer",type:"address"},{internalType:"contract IERC20Upgradeable",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"voucherExpiration",type:"uint256"},{internalType:"string",name:"paymentId",type:"string"},{internalType:"string",name:"orderId",type:"string"},{components:[{internalType:"contract Registry",name:"registry",type:"address"},{internalType:"string",name:"label",type:"string"},{internalType:"string",name:"tld",type:"string"},{internalType:"uint256",name:"expirationTime",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"bool",name:"renewal",type:"bool"}],internalType:"struct Marketplace.NameMintInfo[]",name:"names",type:"tuple[]"}],internalType:"struct Marketplace.PaymentVoucher",name:"voucher",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"pay",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"buyer",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"voucherExpiration",type:"uint256"},{internalType:"string",name:"paymentId",type:"string"},{internalType:"string",name:"orderId",type:"string"},{components:[{internalType:"contract Registry",name:"registry",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"price",type:"uint256"}],internalType:"struct Marketplace.NameTransferInfo[]",name:"names",type:"tuple[]"}],internalType:"struct Marketplace.SecondarySaleVoucher",name:"voucher",type:"tuple"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"secondarySale",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"secondaryFee",type:"uint256"}],name:"setSecondarySaleFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"signer",type:"address"}],name:"setSigner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"treasury",type:"address"}],name:"setTreasury",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedPaymentIdHashes",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];var ve,Z,xn,ye,bt,Lt,ct,$e,Cn,zt,Wt,wt,vt,ut,Ht,te,cn,_o,jo,ko,Oo,Do,Fo,Bo,tc,Di,Wp=(Di=class extends Bi{constructor(t,n){super();ce(this,te);ce(this,ve);ce(this,Z);ce(this,xn);ce(this,ye);ce(this,bt);ce(this,Lt);ce(this,ct);ce(this,$e);ce(this,Cn);ce(this,zt);ce(this,Wt);ce(this,wt);ce(this,vt);ce(this,ut);ce(this,Ht,new Set);this.options=n,ee(this,ve,t),ee(this,$e,null),ee(this,ct,Ta()),this.options.experimental_prefetchInRender||M(this,ct).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Z).addObserver(this),za(M(this,Z),this.options)?se(this,te,cn).call(this):this.updateResult(),se(this,te,Oo).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $o(M(this,Z),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $o(M(this,Z),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,se(this,te,Do).call(this),se(this,te,Fo).call(this),M(this,Z).removeObserver(this)}setOptions(t,n){const r=this.options,o=M(this,Z);if(this.options=M(this,ve).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Le(this.options.enabled,M(this,Z))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");se(this,te,Bo).call(this),M(this,Z).setOptions(this.options),r._defaulted&&!Zn(this.options,r)&&M(this,ve).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Z),observer:this});const s=this.hasListeners();s&&Wa(M(this,Z),o,this.options,r)&&se(this,te,cn).call(this),this.updateResult(n),s&&(M(this,Z)!==o||Le(this.options.enabled,M(this,Z))!==Le(r.enabled,M(this,Z))||Wn(this.options.staleTime,M(this,Z))!==Wn(r.staleTime,M(this,Z)))&&se(this,te,_o).call(this);const a=se(this,te,jo).call(this);s&&(M(this,Z)!==o||Le(this.options.enabled,M(this,Z))!==Le(r.enabled,M(this,Z))||a!==M(this,ut))&&se(this,te,ko).call(this,a)}getOptimisticResult(t){const n=M(this,ve).getQueryCache().build(M(this,ve),t),r=this.createResult(n,t);return Up(this,r)&&(ee(this,ye,r),ee(this,Lt,this.options),ee(this,bt,M(this,Z).state)),r}getCurrentResult(){return M(this,ye)}trackResult(t,n){const r={};return Object.keys(t).forEach(o=>{Object.defineProperty(r,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),n==null||n(o),t[o])})}),r}trackProp(t){M(this,Ht).add(t)}getCurrentQuery(){return M(this,Z)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=M(this,ve).defaultQueryOptions(t),r=M(this,ve).getQueryCache().build(M(this,ve),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return se(this,te,cn).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,ye)))}createResult(t,n){var P;const r=M(this,Z),o=this.options,s=M(this,ye),a=M(this,bt),i=M(this,Lt),u=t!==r?t.state:M(this,xn),{state:d}=t;let l={...d},p=!1,g;if(n._optimisticResults){const T=this.hasListeners(),k=!T&&za(t,n),_=T&&Wa(t,r,n,o);(k||_)&&(l={...l,...Ff(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:w,errorUpdatedAt:m,status:y}=l;if(n.select&&l.data!==void 0)if(s&&l.data===(a==null?void 0:a.data)&&n.select===M(this,Cn))g=M(this,zt);else try{ee(this,Cn,n.select),g=n.select(l.data),g=Ia(s==null?void 0:s.data,g,n),ee(this,zt,g),ee(this,$e,null)}catch(T){ee(this,$e,T)}else g=l.data;if(n.placeholderData!==void 0&&g===void 0&&y==="pending"){let T;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(i==null?void 0:i.placeholderData))T=s.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((P=M(this,Wt))==null?void 0:P.state.data,M(this,Wt)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),ee(this,$e,null)}catch(k){ee(this,$e,k)}T!==void 0&&(y="success",g=Ia(s==null?void 0:s.data,T,n),p=!0)}M(this,$e)&&(w=M(this,$e),g=M(this,zt),m=Date.now(),y="error");const b=l.fetchStatus==="fetching",v=y==="pending",x=y==="error",C=v&&b,I=g!==void 0,E={status:y,fetchStatus:l.fetchStatus,isPending:v,isSuccess:y==="success",isError:x,isInitialLoading:C,isLoading:C,data:g,dataUpdatedAt:l.dataUpdatedAt,error:w,errorUpdatedAt:m,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>u.dataUpdateCount||l.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:x&&!I,isPaused:l.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:x&&I,isStale:Cs(t,n),refetch:this.refetch,promise:M(this,ct)};if(this.options.experimental_prefetchInRender){const T=O=>{E.status==="error"?O.reject(E.error):E.data!==void 0&&O.resolve(E.data)},k=()=>{const O=ee(this,ct,E.promise=Ta());T(O)},_=M(this,ct);switch(_.status){case"pending":t.queryHash===r.queryHash&&T(_);break;case"fulfilled":(E.status==="error"||E.data!==_.value)&&k();break;case"rejected":(E.status!=="error"||E.error!==_.reason)&&k();break}}return E}updateResult(t){const n=M(this,ye),r=this.createResult(M(this,Z),this.options);if(ee(this,bt,M(this,Z).state),ee(this,Lt,this.options),M(this,bt).data!==void 0&&ee(this,Wt,M(this,Z)),Zn(r,n))return;ee(this,ye,r);const o={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!M(this,Ht).size)return!0;const c=new Set(i??M(this,Ht));return this.options.throwOnError&&c.add("error"),Object.keys(M(this,ye)).some(u=>{const d=u;return M(this,ye)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&s()&&(o.listeners=!0),se(this,te,tc).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&se(this,te,Oo).call(this)}},ve=new WeakMap,Z=new WeakMap,xn=new WeakMap,ye=new WeakMap,bt=new WeakMap,Lt=new WeakMap,ct=new WeakMap,$e=new WeakMap,Cn=new WeakMap,zt=new WeakMap,Wt=new WeakMap,wt=new WeakMap,vt=new WeakMap,ut=new WeakMap,Ht=new WeakMap,te=new WeakSet,cn=function(t){se(this,te,Bo).call(this);let n=M(this,Z).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(kf)),n},_o=function(){se(this,te,Do).call(this);const t=Wn(this.options.staleTime,M(this,Z));if(Io||M(this,ye).isStale||!Pa(t))return;const r=Of(M(this,ye).dataUpdatedAt,t)+1;ee(this,wt,setTimeout(()=>{M(this,ye).isStale||this.updateResult()},r))},jo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Z)):this.options.refetchInterval)??!1},ko=function(t){se(this,te,Fo).call(this),ee(this,ut,t),!(Io||Le(this.options.enabled,M(this,Z))===!1||!Pa(M(this,ut))||M(this,ut)===0)&&ee(this,vt,setInterval(()=>{(this.options.refetchIntervalInBackground||Df.isFocused())&&se(this,te,cn).call(this)},M(this,ut)))},Oo=function(){se(this,te,_o).call(this),se(this,te,ko).call(this,se(this,te,jo).call(this))},Do=function(){M(this,wt)&&(clearTimeout(M(this,wt)),ee(this,wt,void 0))},Fo=function(){M(this,vt)&&(clearInterval(M(this,vt)),ee(this,vt,void 0))},Bo=function(){const t=M(this,ve).getQueryCache().build(M(this,ve),this.options);if(t===M(this,Z))return;const n=M(this,Z);ee(this,Z,t),ee(this,xn,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},tc=function(t){ur.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(M(this,ye))}),M(this,ve).getQueryCache().notify({query:M(this,Z),type:"observerResultsUpdated"})})},Di);function Hp(e,t){return Le(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function za(e,t){return Hp(e,t)||e.state.data!==void 0&&$o(e,t,t.refetchOnMount)}function $o(e,t,n){if(Le(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Cs(e,t)}return!1}function Wa(e,t,n,r){return(e!==t||Le(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Cs(e,n)}function Cs(e,t){return Le(t.enabled,e)!==!1&&e.isStaleByTime(Wn(t.staleTime,e))}function Up(e,t){return!Zn(e.getCurrentResult(),t)}var lt,dt,xe,Ge,Je,Hn,Lo,Fi,qp=(Fi=class extends Bi{constructor(n,r){super();ce(this,Je);ce(this,lt);ce(this,dt);ce(this,xe);ce(this,Ge);ee(this,lt,n),this.setOptions(r),this.bindMethods(),se(this,Je,Hn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const r=this.options;this.options=M(this,lt).defaultMutationOptions(n),Zn(this.options,r)||M(this,lt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,xe),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Na(r.mutationKey)!==Na(this.options.mutationKey)?this.reset():((o=M(this,xe))==null?void 0:o.state.status)==="pending"&&M(this,xe).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,xe))==null||n.removeObserver(this)}onMutationUpdate(n){se(this,Je,Hn).call(this),se(this,Je,Lo).call(this,n)}getCurrentResult(){return M(this,dt)}reset(){var n;(n=M(this,xe))==null||n.removeObserver(this),ee(this,xe,void 0),se(this,Je,Hn).call(this),se(this,Je,Lo).call(this)}mutate(n,r){var o;return ee(this,Ge,r),(o=M(this,xe))==null||o.removeObserver(this),ee(this,xe,M(this,lt).getMutationCache().build(M(this,lt),this.options)),M(this,xe).addObserver(this),M(this,xe).execute(n)}},lt=new WeakMap,dt=new WeakMap,xe=new WeakMap,Ge=new WeakMap,Je=new WeakSet,Hn=function(){var r;const n=((r=M(this,xe))==null?void 0:r.state)??Bf();ee(this,dt,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Lo=function(n){ur.batch(()=>{var r,o,s,a,i,c,u,d;if(M(this,Ge)&&this.hasListeners()){const l=M(this,dt).variables,p=M(this,dt).context;(n==null?void 0:n.type)==="success"?((o=(r=M(this,Ge)).onSuccess)==null||o.call(r,n.data,l,p),(a=(s=M(this,Ge)).onSettled)==null||a.call(s,n.data,null,l,p)):(n==null?void 0:n.type)==="error"&&((c=(i=M(this,Ge)).onError)==null||c.call(i,n.error,l,p),(d=(u=M(this,Ge)).onSettled)==null||d.call(u,void 0,n.error,l,p))}this.listeners.forEach(l=>{l(M(this,dt))})})},Fi),nc=h.createContext(!1),Vp=()=>h.useContext(nc);nc.Provider;function Gp(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Kp=h.createContext(Gp()),Zp=()=>h.useContext(Kp);function rc(e,t){return typeof e=="function"?e(...t):!!e}function oc(){}var Yp=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Xp=e=>{h.useEffect(()=>{e.clearReset()},[e])},Qp=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&rc(n,[e.error,r]),Jp=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},eh=(e,t)=>e.isLoading&&e.isFetching&&!t,th=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ha=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function nh(e,t,n){var d,l,p,g,w;const r=ms(),o=Vp(),s=Zp(),a=r.defaultQueryOptions(e);(l=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||l.call(d,a),a._optimisticResults=o?"isRestoring":"optimistic",Jp(a),Yp(a,s),Xp(s);const i=!r.getQueryCache().get(a.queryHash),[c]=h.useState(()=>new t(r,a)),u=c.getOptimisticResult(a);if(h.useSyncExternalStore(h.useCallback(m=>{const y=o?()=>{}:c.subscribe(ur.batchCalls(m));return c.updateResult(),y},[c,o]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),th(a,u))throw Ha(a,c,s);if(Qp({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw u.error;if((g=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||g.call(p,a,u),a.experimental_prefetchInRender&&!Io&&eh(u,o)){const m=i?Ha(a,c,s):(w=r.getQueryCache().get(a.queryHash))==null?void 0:w.promise;m==null||m.catch(oc).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function sc(e,t){return nh(e,Wp)}function Ss(e,t){const n=ms(),[r]=h.useState(()=>new qp(n,e));h.useEffect(()=>{r.setOptions(e)},[r,e]);const o=h.useSyncExternalStore(h.useCallback(a=>r.subscribe(ur.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=h.useCallback((a,i)=>{r.mutate(a,i).catch(oc)},[r]);if(o.error&&rc(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}async function rh(e,{chain:t}){const{id:n,name:r,nativeCurrency:o,rpcUrls:s,blockExplorers:a}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:U(n),chainName:r,nativeCurrency:o,rpcUrls:s.default.http,blockExplorerUrls:a?Object.values(a).map(({url:i})=>i):void 0}]},{dedupe:!0,retryCount:0})}function nt(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new yh(e.type);return`${e.name}(${br(e.inputs,{includeName:t})})`}function br(e,{includeName:t=!1}={}){return e?e.map(n=>oh(n,{includeName:t})).join(t?", ":","):""}function oh(e,{includeName:t}){return e.type.startsWith("tuple")?`(${br(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class sh extends L{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Ua extends L{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class ac extends L{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${br(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class wr extends L{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class ah extends L{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class ih extends L{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Se(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class ch extends L{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class ic extends L{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class uh extends L{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class cc extends L{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class qa extends L{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class tr extends L{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class lh extends L{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class dh extends L{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${nt(t.abiItem)}\`, and`,`\`${n.type}\` in \`${nt(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}class fh extends L{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}}class yn extends L{constructor({abiItem:t,data:n,params:r,size:o}){super([`Data size of ${o} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${br(r,{includeName:!0})})`,`Data:   ${n} (${o} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=o}}class vr extends L{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${nt(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class ph extends L{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class hh extends L{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}class mh extends L{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}}class yh extends L{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}function tn(e,t){if(e.length!==t.length)throw new ch({expectedLength:e.length,givenLength:t.length});const n=gh({params:e,values:t}),r=Ts(n);return r.length===0?"0x":r}function gh({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Es({param:e[r],value:t[r]}));return n}function Es({param:e,value:t}){const n=Ps(e.type);if(n){const[r,o]=n;return wh(t,{length:r,param:{...e,type:o}})}if(e.type==="tuple")return Eh(t,{param:e});if(e.type==="address")return bh(t);if(e.type==="bool")return xh(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return Ch(t,{signed:r})}if(e.type.startsWith("bytes"))return vh(t,{param:e});if(e.type==="string")return Sh(t);throw new ph(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ts(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:i}=e[s];a?t+=32:t+=Se(i)}const n=[],r=[];let o=0;for(let s=0;s<e.length;s++){const{dynamic:a,encoded:i}=e[s];a?(n.push(U(t+o,{size:32})),r.push(i),o+=Se(i)):n.push(i)}return et([...n,...r])}function bh(e){if(!ze(e))throw new Tt({address:e});return{dynamic:!1,encoded:xt(e.toLowerCase())}}function wh(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new mh(e);if(!r&&e.length!==t)throw new ah({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let o=!1;const s=[];for(let a=0;a<e.length;a++){const i=Es({param:n,value:e[a]});i.dynamic&&(o=!0),s.push(i)}if(r||o){const a=Ts(s);if(r){const i=U(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?et([i,a]):i}}if(o)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:et(s.map(({encoded:a})=>a))}}function vh(e,{param:t}){const[,n]=t.type.split("bytes"),r=Se(e);if(!n){let o=e;return r%32!==0&&(o=xt(o,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:et([xt(U(r,{size:32})),o])}}if(r!==Number.parseInt(n))throw new ih({expectedSize:Number.parseInt(n),value:e});return{dynamic:!1,encoded:xt(e,{dir:"right"})}}function xh(e){if(typeof e!="boolean")throw new L(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:xt($f(e))}}function Ch(e,{signed:t}){return{dynamic:!1,encoded:U(e,{size:32,signed:t})}}function Sh(e){const t=Yn(e),n=Math.ceil(Se(t)/32),r=[];for(let o=0;o<n;o++)r.push(xt(Xn(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:et([xt(U(Se(t),{size:32})),...r])}}function Eh(e,{param:t}){let n=!1;const r=[];for(let o=0;o<t.components.length;o++){const s=t.components[o],a=Array.isArray(e)?o:s.name,i=Es({param:s,value:e[a]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Ts(r):et(r.map(({encoded:o})=>o))}}function Ps(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const eo="/docs/contract/encodeDeployData";function xr(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const o=t.find(a=>"type"in a&&a.type==="constructor");if(!o)throw new sh({docsPath:eo});if(!("inputs"in o))throw new Ua({docsPath:eo});if(!o.inputs||o.inputs.length===0)throw new Ua({docsPath:eo});const s=tn(o.inputs,n);return lr([r,s])}class Sn extends L{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class to extends L{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function Th(e){const t=me(`0x${e.substring(4)}`).substring(26);return ys(`0x${t}`)}async function Ph({hash:e,signature:t}){const n=hn(e)?e:tt(e),{secp256k1:r}=await $i(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>Qg);return{secp256k1:a}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:d,v:l,yParity:p}=t,g=Number(p??l),w=Va(g);return new r.Signature(Pt(u),Pt(d)).addRecoveryBit(w)}const a=hn(t)?t:tt(t),i=Jt(`0x${a.slice(130)}`),c=Va(i);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Va(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function uc({hash:e,signature:t}){return Th(await Ph({hash:e,signature:t}))}function Ih(e){const{chainId:t,contractAddress:n,nonce:r,to:o}=e,s=me(lr(["0x05",Lf([t?U(t):"0x",n,r?U(r):"0x"])]));return o==="bytes"?dr(s):s}async function lc(e){const{authorization:t,signature:n}=e;return uc({hash:Ih(t),signature:n??t})}function dc({chain:e,currentChainId:t}){if(!e)throw new zf;if(t!==e.id)throw new Wf({chain:e,currentChainId:t})}function Is(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof L?e.walk(o=>(o==null?void 0:o.code)===On.code):e;return r instanceof L?new On({cause:e,message:r.details}):On.nodeMessage.test(n)?new On({cause:e,message:e.details}):No.nodeMessage.test(n)?new No({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Aa.nodeMessage.test(n)?new Aa({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ra.nodeMessage.test(n)?new Ra({cause:e,nonce:t==null?void 0:t.nonce}):Ma.nodeMessage.test(n)?new Ma({cause:e,nonce:t==null?void 0:t.nonce}):_a.nodeMessage.test(n)?new _a({cause:e,nonce:t==null?void 0:t.nonce}):ja.nodeMessage.test(n)?new ja({cause:e}):ka.nodeMessage.test(n)?new ka({cause:e,gas:t==null?void 0:t.gas}):Oa.nodeMessage.test(n)?new Oa({cause:e,gas:t==null?void 0:t.gas}):Da.nodeMessage.test(n)?new Da({cause:e}):Ao.nodeMessage.test(n)?new Ao({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new fr({cause:e})}function Nh(e,{docsPath:t,...n}){const r=(()=>{const o=Is(e,n);return o instanceof fr?e:o})();return new Hf(r,{docsPath:t,...n})}function Ns(e,{format:t}){if(!t)return{};const n={};function r(s){const a=Object.keys(s);for(const i of a)i in e&&(n[i]=e[i]),s[i]&&typeof s[i]=="object"&&!Array.isArray(s[i])&&r(s[i])}const o=t(e||{});return r(o),n}const Ah={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Cr(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=Rh(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>Ne(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=U(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=U(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=U(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=U(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=U(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=U(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=Ah[e.type]),typeof e.value<"u"&&(t.value=U(e.value)),t}function Rh(e){return e.map(t=>({address:t.contractAddress,r:t.r,s:t.s,chainId:U(t.chainId),nonce:U(t.nonce),...typeof t.yParity<"u"?{yParity:U(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:U(t.v)}:{}}))}function W(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const o=e[n];return typeof o=="function"?o:s=>t(e,s)}function En(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:o,to:s}=e,a=t?Te(t):void 0;if(a&&!ze(a.address))throw new Tt({address:a.address});if(s&&!ze(s))throw new Tt({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof o<"u"))throw new Uf;if(r&&r>qf)throw new No({maxFeePerGas:r});if(o&&r&&o>r)throw new Ao({maxFeePerGas:r,maxPriorityFeePerGas:o})}async function Tn(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return Jt(t)}class Mh extends L{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class As extends L{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class _h extends L{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ct(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class fc extends L{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function Xe(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:o}={}){var d,l,p;const s=r??"latest",a=o??!1,i=n!==void 0?U(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,a]},{dedupe:!0}):c=await e.request({method:"eth_getBlockByNumber",params:[i||s,a]},{dedupe:!!i}),!c)throw new fc({blockHash:t,blockNumber:n});return(((p=(l=(d=e.chain)==null?void 0:d.formatters)==null?void 0:l.block)==null?void 0:p.format)||Li)(c)}async function Rs(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function jh(e,t){return pc(e,t)}async function pc(e,t){var s,a;const{block:n,chain:r=e.chain,request:o}=t||{};try{const i=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee);if(typeof i=="function"){const u=n||await W(e,Xe,"getBlock")({}),d=await i({block:u,client:e,request:o});if(d===null)throw new Error;return d}if(typeof i<"u")return i;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Pt(c)}catch{const[i,c]=await Promise.all([n?Promise.resolve(n):W(e,Xe,"getBlock")({}),W(e,Rs,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new As;const u=c-i.baseFeePerGas;return u<0n?0n:u}}async function kh(e,t){return zo(e,t)}async function zo(e,t){var p,g;const{block:n,chain:r=e.chain,request:o,type:s="eip1559"}=t||{},a=await(async()=>{var w,m;return typeof((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:o}):((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)??1.2})();if(a<1)throw new Mh;const c=10**(((p=a.toString().split(".")[1])==null?void 0:p.length)??0),u=w=>w*BigInt(Math.ceil(a*c))/BigInt(c),d=n||await W(e,Xe,"getBlock")({});if(typeof((g=r==null?void 0:r.fees)==null?void 0:g.estimateFeesPerGas)=="function"){const w=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:o,type:s});if(w!==null)return w}if(s==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new As;const w=typeof(o==null?void 0:o.maxPriorityFeePerGas)=="bigint"?o.maxPriorityFeePerGas:await pc(e,{block:d,chain:r,request:o}),m=u(d.baseFeePerGas);return{maxFeePerGas:(o==null?void 0:o.maxFeePerGas)??m+w,maxPriorityFeePerGas:w}}return{gasPrice:(o==null?void 0:o.gasPrice)??u(await W(e,Rs,"getGasPrice")({}))}}class Oh extends L{constructor(t,{account:n,docsPath:r,chain:o,data:s,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:p}){var w;const g=gs({from:n==null?void 0:n.address,to:l,value:typeof p<"u"&&`${zi(p)} ${((w=o==null?void 0:o.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:s,gas:a,gasPrice:typeof i<"u"&&`${Ct(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ct(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ct(u)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Dh(e,{docsPath:t,...n}){const r=(()=>{const o=Is(e,n);return o instanceof fr?e:o})();return new Oh(r,{docsPath:t,...n})}class Fh extends L{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class Bh extends L{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Ga(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function $h(e){return e.reduce((t,{address:n,...r})=>{let o=`${t}    ${n}:
`;return r.nonce&&(o+=`      nonce: ${r.nonce}
`),r.balance&&(o+=`      balance: ${r.balance}
`),r.code&&(o+=`      code: ${r.code}
`),r.state&&(o+=`      state:
`,o+=Ga(r.state)),r.stateDiff&&(o+=`      stateDiff:
`,o+=Ga(r.stateDiff)),o},`  State Override:
`).slice(0,-1)}function Ka(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Fa({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Fa({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Lh(e){const{balance:t,nonce:n,state:r,stateDiff:o,code:s}=e,a={};if(s!==void 0&&(a.code=s),t!==void 0&&(a.balance=U(t)),n!==void 0&&(a.nonce=U(n)),r!==void 0&&(a.state=Ka(r)),o!==void 0){if(a.state)throw new Bh;a.stateDiff=Ka(o)}return a}function hc(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ze(n,{strict:!1}))throw new Tt({address:n});if(t[n])throw new Fh({address:n});t[n]=Lh(r)}return t}async function mc(e,{address:t,blockNumber:n,blockTag:r="latest"}){const o=n?U(n):void 0,s=await e.request({method:"eth_getBalance",params:[t,o||r]});return BigInt(s)}async function Ms(e,t){var o,s,a;const{account:n=e.account}=t,r=n?Te(n):void 0;try{let S=function(A){const{block:D,request:B,rpcStateOverride:j}=A;return e.request({method:"eth_estimateGas",params:j?[B,D??"latest",j]:D?[B,D]:[B]})};const{accessList:i,authorizationList:c,blobs:u,blobVersionedHashes:d,blockNumber:l,blockTag:p,data:g,gas:w,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:x,value:C,stateOverride:I,...N}=await Sr(e,{...t,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),P=(l?U(l):void 0)||p,T=hc(I),k=await(async()=>{if(N.to)return N.to;if(c&&c.length>0)return await lc({authorization:c[0]}).catch(()=>{throw new L("`to` is required. Could not infer from `authorizationList`")})})();En(t);const _=(a=(s=(o=e.chain)==null?void 0:o.formatters)==null?void 0:s.transactionRequest)==null?void 0:a.format,$=(_||Cr)({...Ns(N,{format:_}),from:r==null?void 0:r.address,accessList:i,authorizationList:c,blobs:u,blobVersionedHashes:d,data:g,gas:w,gasPrice:m,maxFeePerBlobGas:y,maxFeePerGas:b,maxPriorityFeePerGas:v,nonce:x,to:k,value:C});let R=BigInt(await S({block:P,request:$,rpcStateOverride:T}));if(c){const A=await mc(e,{address:$.from}),D=await Promise.all(c.map(async B=>{const{contractAddress:j}=B,H=await S({block:P,request:{authorizationList:void 0,data:g,from:r==null?void 0:r.address,to:j,value:U(A)},rpcStateOverride:T}).catch(()=>100000n);return 2n*BigInt(H)}));R+=D.reduce((B,j)=>B+j,0n)}return R}catch(i){throw Dh(i,{...t,account:r,chain:e.chain})}}async function yc(e,{address:t,blockTag:n="latest",blockNumber:r}){const o=await e.request({method:"eth_getTransactionCount",params:[t,r?U(r):n]},{dedupe:!!r});return Jt(o)}const gc=["blobVersionedHashes","chainId","fees","gas","nonce","type"];async function Sr(e,t){const{account:n=e.account,blobs:r,chain:o,gas:s,kzg:a,nonce:i,nonceManager:c,parameters:u=gc,type:d}=t,l=n&&Te(n),p={...t,...l?{from:l==null?void 0:l.address}:{}};let g;async function w(){return g||(g=await W(e,Xe,"getBlock")({blockTag:"latest"}),g)}let m;async function y(){return m||(o?o.id:typeof t.chainId<"u"?t.chainId:(m=await W(e,Tn,"getChainId")({}),m))}if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&a){const b=Vf({blobs:r,kzg:a});if(u.includes("blobVersionedHashes")){const v=Gf({commitments:b,to:"hex"});p.blobVersionedHashes=v}if(u.includes("sidecars")){const v=Kf({blobs:r,commitments:b,kzg:a}),x=Zf({blobs:r,commitments:b,proofs:v,to:"hex"});p.sidecars=x}}if(u.includes("chainId")&&(p.chainId=await y()),u.includes("nonce")&&typeof i>"u"&&l)if(c){const b=await y();p.nonce=await c.consume({address:l.address,chainId:b,client:e})}else p.nonce=await W(e,yc,"getTransactionCount")({address:l.address,blockTag:"pending"});if((u.includes("fees")||u.includes("type"))&&typeof d>"u")try{p.type=Yf(p)}catch{const b=await w();p.type=typeof(b==null?void 0:b.baseFeePerGas)=="bigint"?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const b=await w(),{maxFeePerGas:v,maxPriorityFeePerGas:x}=await zo(e,{block:b,chain:o,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<x)throw new _h({maxPriorityFeePerGas:x});p.maxPriorityFeePerGas=x,p.maxFeePerGas=v}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new As;const b=await w(),{gasPrice:v}=await zo(e,{block:b,chain:o,request:p,type:"legacy"});p.gasPrice=v}return u.includes("gas")&&typeof s>"u"&&(p.gas=await W(e,Ms,"estimateGas")({...p,account:l&&{address:l.address,type:"json-rpc"}})),En(p),delete p.parameters,p}async function _s(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const Za=new Xf(128);async function js(e,t){var b,v,x,C;const{account:n=e.account,chain:r=e.chain,accessList:o,authorizationList:s,blobs:a,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:g,value:w,...m}=t;if(typeof n>"u")throw new Sn({docsPath:"/docs/actions/wallet/sendTransaction"});const y=n?Te(n):null;try{En(t);const I=await(async()=>{if(t.to)return t.to;if(s&&s.length>0)return await lc({authorization:s[0]}).catch(()=>{throw new L("`to` is required. Could not infer from `authorizationList`.")})})();if((y==null?void 0:y.type)==="json-rpc"||y===null){let N;r!==null&&(N=await W(e,Tn,"getChainId")({}),dc({currentChainId:N,chain:r}));const E=(x=(v=(b=e.chain)==null?void 0:b.formatters)==null?void 0:v.transactionRequest)==null?void 0:x.format,T=(E||Cr)({...Ns(m,{format:E}),accessList:o,authorizationList:s,blobs:a,chainId:N,data:i,from:y==null?void 0:y.address,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:g,to:I,value:w}),k=Za.get(e.uid)?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:k,params:[T]},{retryCount:0})}catch(_){const O=_;if(O.name==="InvalidInputRpcError"||O.name==="InvalidParamsRpcError"||O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[T]},{retryCount:0}).then($=>(Za.set(e.uid,!0),$));throw O}}if((y==null?void 0:y.type)==="local"){const N=await W(e,Sr,"prepareTransactionRequest")({account:y,accessList:o,authorizationList:s,blobs:a,chain:r,data:i,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:p,nonce:g,nonceManager:y.nonceManager,parameters:[...gc,"sidecars"],value:w,...m,to:I}),E=(C=r==null?void 0:r.serializers)==null?void 0:C.transaction,P=await y.signTransaction(N,{serializer:E});return await W(e,_s,"sendRawTransaction")({serializedTransaction:P})}throw(y==null?void 0:y.type)==="smart"?new to({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new to({docsPath:"/docs/actions/wallet/sendTransaction",type:y==null?void 0:y.type})}catch(I){throw I instanceof to?I:Nh(I,{...t,account:y,chain:t.chain||void 0})}}function zh(e,t){const{abi:n,args:r,bytecode:o,...s}=t,a=xr({abi:n,args:r,bytecode:o});return js(e,{...s,data:a})}const Wo=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],bc=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],wc=[...bc,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Wh=[...bc,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Ya=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Xa=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Qa=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Hh=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function Uh(e,t={}){typeof t.size<"u"&&pr(e,{size:t.size});const n=Ne(e,t);return Pt(n,t)}function qh(e,t={}){let n=e;if(typeof t.size<"u"&&(pr(n,{size:t.size}),n=hr(n)),n.length>1||n[0]>1)throw new Qf(n);return!!n[0]}function Qe(e,t={}){typeof t.size<"u"&&pr(e,{size:t.size});const n=Ne(e,t);return Jt(n,t)}function Vh(e,t={}){let n=e;return typeof t.size<"u"&&(pr(n,{size:t.size}),n=hr(n,{dir:"right"})),new TextDecoder().decode(n)}function Er(e,t){const n=typeof t=="string"?dr(t):t,r=Jf(n);if(Se(n)===0&&e.length>0)throw new wr;if(Se(t)&&Se(t)<32)throw new ac({data:typeof t=="string"?t:Ne(t),params:e,size:Se(t)});let o=0;const s=[];for(let a=0;a<e.length;++a){const i=e[a];r.setPosition(o);const[c,u]=Bt(r,i,{staticPosition:0});o+=u,s.push(c)}return s}function Bt(e,t,{staticPosition:n}){const r=Ps(t.type);if(r){const[o,s]=r;return Kh(e,{...t,type:s},{length:o,staticPosition:n})}if(t.type==="tuple")return Qh(e,t,{staticPosition:n});if(t.type==="address")return Gh(e);if(t.type==="bool")return Zh(e);if(t.type.startsWith("bytes"))return Yh(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Xh(e,t);if(t.type==="string")return Jh(e,{staticPosition:n});throw new hh(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Ja=32,Ho=32;function Gh(e){const t=e.readBytes(32);return[ys(Ne(ep(t,-20))),32]}function Kh(e,t,{length:n,staticPosition:r}){if(!n){const a=Qe(e.readBytes(Ho)),i=r+a,c=i+Ja;e.setPosition(i);const u=Qe(e.readBytes(Ja)),d=gn(t);let l=0;const p=[];for(let g=0;g<u;++g){e.setPosition(c+(d?g*32:l));const[w,m]=Bt(e,t,{staticPosition:c});l+=m,p.push(w)}return e.setPosition(r+32),[p,32]}if(gn(t)){const a=Qe(e.readBytes(Ho)),i=r+a,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[d]=Bt(e,t,{staticPosition:i});c.push(d)}return e.setPosition(r+32),[c,32]}let o=0;const s=[];for(let a=0;a<n;++a){const[i,c]=Bt(e,t,{staticPosition:r+o});o+=c,s.push(i)}return[s,o]}function Zh(e){return[qh(e.readBytes(32),{size:32}),32]}function Yh(e,t,{staticPosition:n}){const[r,o]=t.type.split("bytes");if(!o){const a=Qe(e.readBytes(32));e.setPosition(n+a);const i=Qe(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[Ne(c),32]}return[Ne(e.readBytes(Number.parseInt(o),32)),32]}function Xh(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256"),o=e.readBytes(32);return[r>48?Uh(o,{signed:n}):Qe(o,{signed:n}),32]}function Qh(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),o=r?[]:{};let s=0;if(gn(t)){const a=Qe(e.readBytes(Ho)),i=n+a;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+s);const[d,l]=Bt(e,u,{staticPosition:i});s+=l,o[r?c:u==null?void 0:u.name]=d}return e.setPosition(n+32),[o,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[c,u]=Bt(e,i,{staticPosition:n});o[r?a:i==null?void 0:i.name]=c,s+=u}return[o,s]}function Jh(e,{staticPosition:t}){const n=Qe(e.readBytes(32)),r=t+n;e.setPosition(r);const o=Qe(e.readBytes(32));if(o===0)return e.setPosition(t+32),["",32];const s=e.readBytes(o,32),a=Vh(hr(s));return e.setPosition(t+32),[a,32]}function gn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(gn);const n=Ps(e.type);return!!(n&&gn({...e,type:n[1]}))}const em=e=>me(mr(e));function tm(e){return em(e)}const nm="1.0.6";let Re=class Uo extends Error{constructor(t,n={}){var a;const r=n.cause instanceof Uo?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,o=n.cause instanceof Uo&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${nm}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.shortMessage=t}};function pt(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const vc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xc=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Cc=/^\(.+?\).*?$/,ei=/^tuple(?<array>(\[(\d*)\])*)$/;function qo(e){let t=e.type;if(ei.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let o=0;o<n;o++){const s=e.components[o];t+=qo(s),o<n-1&&(t+=", ")}const r=pt(ei,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,qo({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function sn(e){let t="";const n=e.length;for(let r=0;r<n;r++){const o=e[r];t+=qo(o),r!==n-1&&(t+=", ")}return t}function rm(e){return e.type==="function"?`function ${e.name}(${sn(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${sn(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${sn(e.inputs)})`:e.type==="error"?`error ${e.name}(${sn(e.inputs)})`:e.type==="constructor"?`constructor(${sn(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}const Sc=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function om(e){return Sc.test(e)}function sm(e){return pt(Sc,e)}const Ec=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function am(e){return Ec.test(e)}function im(e){return pt(Ec,e)}const Tc=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function cm(e){return Tc.test(e)}function um(e){return pt(Tc,e)}const Pc=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Ic(e){return Pc.test(e)}function lm(e){return pt(Pc,e)}const Nc=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function dm(e){return Nc.test(e)}function fm(e){return pt(Nc,e)}const pm=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function hm(e){return pm.test(e)}const mm=/^receive\(\) external payable$/;function ym(e){return mm.test(e)}const gm=new Set(["indexed"]),Vo=new Set(["calldata","memory","storage"]);class bm extends Re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class wm extends Re{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class vm extends Re{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class xm extends Re{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Cm extends Re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Sm extends Re{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Em extends Re{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class un extends Re{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Tm extends Re{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Pm extends Re{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Im extends Re{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class Nm extends Re{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Am(e,t){return t?`${t}:${e}`:e}const no=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Rm(e,t={}){if(cm(e)){const n=um(e);if(!n)throw new un({signature:e,type:"function"});const r=De(n.parameters),o=[],s=r.length;for(let i=0;i<s;i++)o.push(yt(r[i],{modifiers:Vo,structs:t,type:"function"}));const a=[];if(n.returns){const i=De(n.returns),c=i.length;for(let u=0;u<c;u++)a.push(yt(i[u],{modifiers:Vo,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:o,outputs:a}}if(am(e)){const n=im(e);if(!n)throw new un({signature:e,type:"event"});const r=De(n.parameters),o=[],s=r.length;for(let a=0;a<s;a++)o.push(yt(r[a],{modifiers:gm,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:o}}if(om(e)){const n=sm(e);if(!n)throw new un({signature:e,type:"error"});const r=De(n.parameters),o=[],s=r.length;for(let a=0;a<s;a++)o.push(yt(r[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:o}}if(dm(e)){const n=fm(e);if(!n)throw new un({signature:e,type:"constructor"});const r=De(n.parameters),o=[],s=r.length;for(let a=0;a<s;a++)o.push(yt(r[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:o}}if(hm(e))return{type:"fallback"};if(ym(e))return{type:"receive",stateMutability:"payable"};throw new Tm({signature:e})}const Mm=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,_m=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,jm=/^u?int$/;function yt(e,t){var l,p;const n=Am(e,t==null?void 0:t.type);if(no.has(n))return no.get(n);const r=Cc.test(e),o=pt(r?_m:Mm,e);if(!o)throw new vm({param:e});if(o.name&&Om(o.name))throw new xm({param:e,name:o.name});const s=o.name?{name:o.name}:{},a=o.modifier==="indexed"?{indexed:!0}:{},i=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const g=De(o.type),w=[],m=g.length;for(let y=0;y<m;y++)w.push(yt(g[y],{structs:i}));u={components:w}}else if(o.type in i)c="tuple",u={components:i[o.type]};else if(jm.test(o.type))c=`${o.type}256`;else if(c=o.type,(t==null?void 0:t.type)!=="struct"&&!Ac(c))throw new wm({type:c});if(o.modifier){if(!((p=(l=t==null?void 0:t.modifiers)==null?void 0:l.has)!=null&&p.call(l,o.modifier)))throw new Cm({param:e,type:t==null?void 0:t.type,modifier:o.modifier});if(Vo.has(o.modifier)&&!Dm(c,!!o.array))throw new Sm({param:e,type:t==null?void 0:t.type,modifier:o.modifier})}const d={type:`${c}${o.array??""}`,...s,...a,...u};return no.set(n,d),d}function De(e,t=[],n="",r=0){const o=e.trim().length;for(let s=0;s<o;s++){const a=e[s],i=e.slice(s+1);switch(a){case",":return r===0?De(i,[...t,n.trim()]):De(i,t,`${n}${a}`,r);case"(":return De(i,t,`${n}${a}`,r+1);case")":return De(i,t,`${n}${a}`,r-1);default:return De(i,t,`${n}${a}`,r)}}if(n==="")return t;if(r!==0)throw new Nm({current:n,depth:r});return t.push(n.trim()),t}function Ac(e){return e==="address"||e==="bool"||e==="function"||e==="string"||vc.test(e)||xc.test(e)}const km=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Om(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||vc.test(e)||xc.test(e)||km.test(e)}function Dm(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Fm(e){const t={},n=e.length;for(let a=0;a<n;a++){const i=e[a];if(!Ic(i))continue;const c=lm(i);if(!c)throw new un({signature:i,type:"struct"});const u=c.properties.split(";"),d=[],l=u.length;for(let p=0;p<l;p++){const w=u[p].trim();if(!w)continue;const m=yt(w,{type:"struct"});d.push(m)}if(!d.length)throw new Pm({signature:i});t[c.name]=d}const r={},o=Object.entries(t),s=o.length;for(let a=0;a<s;a++){const[i,c]=o[a];r[i]=Rc(c,t)}return r}const Bm=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Rc(e,t,n=new Set){const r=[],o=e.length;for(let s=0;s<o;s++){const a=e[s];if(Cc.test(a.type))r.push(a);else{const c=pt(Bm,a.type);if(!(c!=null&&c.type))throw new Em({abiParameter:a});const{array:u,type:d}=c;if(d in t){if(n.has(d))throw new Im({type:d});r.push({...a,type:`tuple${u??""}`,components:Rc(t[d]??[],t,new Set([...n,d]))})}else if(Ac(d))r.push(a);else throw new bm({type:d})}}return r}function Mc(e){const t=Fm(e),n=[],r=e.length;for(let o=0;o<r;o++){const s=e[o];Ic(s)||n.push(Rm(s,t))}return n}function $m(e){let t=!0,n="",r=0,o="",s=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(o))o="";else if(o+=i,i===")"){s=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}o+=i,n+=i}}if(!s)throw new L("Unable to normalize signature.");return o}const Lm=e=>{const t=typeof e=="string"?e:rm(e);return $m(t)};function _c(e){return tm(Lm(e))}const Tr=_c,ks=e=>Xn(_c(e),0,4);function Pn(e){const{abi:t,args:n=[],name:r}=e,o=hn(r,{strict:!1}),s=t.filter(i=>o?i.type==="function"?ks(i)===r:i.type==="event"?Tr(i)===r:!1:"name"in i&&i.name===r);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const i of s){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,d)=>{const l="inputs"in i&&i.inputs[d];return l?Go(u,l):!1})){if(a&&"inputs"in a&&a.inputs){const u=jc(i.inputs,a.inputs,n);if(u)throw new dh({abiItem:i,type:u[0]},{abiItem:a,type:u[1]})}a=i}}return a||s[0]}function Go(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ze(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((o,s)=>Go(Object.values(e)[s],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(o=>Go(o,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function jc(e,t,n){for(const r in e){const o=e[r],s=t[r];if(o.type==="tuple"&&s.type==="tuple"&&"components"in o&&"components"in s)return jc(o.components,s.components,n[r]);const a=[o.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?ze(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?ze(n[r],{strict:!1}):!1)return a}}const ro="/docs/contract/decodeFunctionResult";function nn(e){const{abi:t,args:n,functionName:r,data:o}=e;let s=t[0];if(r){const i=Pn({abi:t,args:n,name:r});if(!i)throw new tr(r,{docsPath:ro});s=i}if(s.type!=="function")throw new tr(void 0,{docsPath:ro});if(!s.outputs)throw new lh(s.name,{docsPath:ro});const a=Er(s.outputs,o);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const ti="/docs/contract/encodeFunctionData";function zm(e){const{abi:t,args:n,functionName:r}=e;let o=t[0];if(r){const s=Pn({abi:t,args:n,name:r});if(!s)throw new tr(r,{docsPath:ti});o=s}if(o.type!=="function")throw new tr(void 0,{docsPath:ti});return{abi:[o],functionName:ks(nt(o))}}function ot(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var i;return e.abi.length===1&&((i=e.functionName)!=null&&i.startsWith("0x"))?e:zm(e)})(),o=n[0],s=r,a="inputs"in o&&o.inputs?tn(o.inputs,t??[]):void 0;return lr([s,a??"0x"])}function rn({blockNumber:e,chain:t,contract:n}){var o;const r=(o=t==null?void 0:t.contracts)==null?void 0:o[n];if(!r)throw new Ro({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Ro({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const kc={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Wm={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Hm={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Um(e){const{abi:t,data:n}=e,r=Xn(n,0,4);if(r==="0x")throw new wr;const s=[...t||[],Wm,Hm].find(a=>a.type==="error"&&r===ks(nt(a)));if(!s)throw new ic(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Er(s.inputs,Xn(n,4)):void 0,errorName:s.name}}function Oc({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((o,s)=>`${r&&o.name?`${o.name}: `:""}${typeof t[s]=="object"?We(t[s]):t[s]}`).join(", ")})`}class Dc extends L{constructor(t,{account:n,docsPath:r,chain:o,data:s,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:l,value:p,stateOverride:g}){var y;const w=n?Te(n):void 0;let m=gs({from:w==null?void 0:w.address,to:l,value:typeof p<"u"&&`${zi(p)} ${((y=o==null?void 0:o.nativeCurrency)==null?void 0:y.symbol)||"ETH"}`,data:s,gas:a,gasPrice:typeof i<"u"&&`${Ct(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ct(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Ct(u)} gwei`,nonce:d});g&&(m+=`
${$h(g)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",m].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class qm extends L{constructor(t,{abi:n,args:r,contractAddress:o,docsPath:s,functionName:a,sender:i}){const c=Pn({abi:n,args:r,name:a}),u=c?Oc({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?nt(c,{includeName:!0}):void 0,l=gs({address:o&&tp(o),function:d,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],l&&"Contract Call:",l].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=o,this.functionName=a,this.sender=i}}class Ko extends L{constructor({abi:t,data:n,functionName:r,message:o}){let s,a,i,c;if(n&&n!=="0x")try{a=Um({abi:t,data:n});const{abiItem:d,errorName:l,args:p}=a;if(l==="Error")c=p[0];else if(l==="Panic"){const[g]=p;c=kc[g]}else{const g=d?nt(d,{includeName:!0}):void 0,w=d&&p?Oc({abiItem:d,args:p,includeFunctionName:!1,includeName:!1}):void 0;i=[g?`Error: ${g}`:"",w&&w!=="()"?`       ${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${w}`:""]}}catch(d){s=d}else o&&(c=o);let u;s instanceof ic&&(u=s.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.reason=c,this.signature=u}}class Vm extends L{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Gm extends L{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Os extends L{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function Ds(e,t){var r,o,s,a,i,c;if(!(e instanceof L))return!1;const n=e.walk(u=>u instanceof Ko);return n instanceof Ko?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((o=n.data)==null?void 0:o.errorName)==="ResolverWildcardNotSupported"||((s=n.data)==null?void 0:s.errorName)==="ResolverNotContract"||((a=n.data)==null?void 0:a.errorName)==="ResolverError"||((i=n.data)==null?void 0:i.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===kc[50]):!1}function Fc(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return hn(t)?t:null}function Un(e){let t=new Uint8Array(32).fill(0);if(!e)return Ne(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const o=Fc(n[r]),s=o?mr(o):me(fn(n[r]),"bytes");t=me(et([t,s]),"bytes")}return Ne(t)}function Km(e){return`[${e.slice(2)}]`}function Zm(e){const t=new Uint8Array(32).fill(0);return e?Fc(e)||me(fn(e)):Ne(t)}function Pr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(fn(t).byteLength+2);let r=0;const o=t.split(".");for(let s=0;s<o.length;s++){let a=fn(o[s]);a.byteLength>255&&(a=fn(Km(Zm(o[s])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}const Ym=3;function qt(e,{abi:t,address:n,args:r,docsPath:o,functionName:s,sender:a}){const{code:i,data:c,message:u,shortMessage:d}=e instanceof Os?e:e instanceof L?e.walk(p=>"data"in p)||e.walk():{},l=e instanceof wr?new Vm({functionName:s}):[Ym,np.code].includes(i)&&(c||u||d)?new Ko({abi:t,data:typeof c=="object"?c.data:c,functionName:s,message:d??u}):e;return new qm(l,{abi:t,args:r,contractAddress:n,docsPath:o,functionName:s,sender:a})}const Xm="0x82ad56cb",Qm="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Jm="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",ey="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";function ty(e,{docsPath:t,...n}){const r=(()=>{const o=Is(e,n);return o instanceof fr?e:o})();return new Dc(r,{docsPath:t,...n})}async function Ir(e,t){var _,O,$,S;const{account:n=e.account,batch:r=!!((_=e.batch)!=null&&_.multicall),blockNumber:o,blockTag:s="latest",accessList:a,blobs:i,code:c,data:u,factory:d,factoryData:l,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:b,to:v,value:x,stateOverride:C,...I}=t,N=n?Te(n):void 0;if(c&&(d||l))throw new L("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(c&&v)throw new L("Cannot provide both `code` & `to` as parameters.");const E=c&&u,P=d&&l&&v&&u,T=E||P,k=E?oy({code:c,data:u}):P?sy({data:u,factory:d,factoryData:l,to:v}):u;try{En(t);const A=(o?U(o):void 0)||s,D=hc(C),B=(S=($=(O=e.chain)==null?void 0:O.formatters)==null?void 0:$.transactionRequest)==null?void 0:S.format,H=(B||Cr)({...Ns(I,{format:B}),from:N==null?void 0:N.address,accessList:a,blobs:i,data:k,gas:p,gasPrice:g,maxFeePerBlobGas:w,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:b,to:T?void 0:v,value:x});if(r&&ny({request:H})&&!D)try{return await ry(e,{...H,blockNumber:o,blockTag:s})}catch(re){if(!(re instanceof Wi)&&!(re instanceof Ro))throw re}const K=await e.request({method:"eth_call",params:D?[H,A,D]:[H,A]});return K==="0x"?{data:void 0}:{data:K}}catch(R){const A=ay(R),{offchainLookup:D,offchainLookupSignature:B}=await $i(async()=>{const{offchainLookup:j,offchainLookupSignature:H}=await import("./ccip-o7l87HI9.js");return{offchainLookup:j,offchainLookupSignature:H}},__vite__mapDeps([0,1,2,3]));if(e.ccipRead!==!1&&(A==null?void 0:A.slice(0,10))===B&&v)return{data:await D(e,{data:A,to:v})};throw T&&(A==null?void 0:A.slice(0,10))==="0x101bb98d"?new Gm({factory:d}):ty(R,{...t,account:N,chain:e.chain})}}function ny({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Xm)||!n||Object.values(r).filter(o=>typeof o<"u").length>0)}async function ry(e,t){var m;const{batchSize:n=1024,wait:r=0}=typeof((m=e.batch)==null?void 0:m.multicall)=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:s="latest",data:a,multicallAddress:i,to:c}=t;let u=i;if(!u){if(!e.chain)throw new Wi;u=rn({blockNumber:o,chain:e.chain,contract:"multicall3"})}const l=(o?U(o):void 0)||s,{schedule:p}=rp({id:`${e.uid}.${l}`,wait:r,shouldSplitBatch(y){return y.reduce((v,{data:x})=>v+(x.length-2),0)>n*2},fn:async y=>{const b=y.map(C=>({allowFailure:!0,callData:C.data,target:C.to})),v=ot({abi:Wo,args:[b],functionName:"aggregate3"}),x=await e.request({method:"eth_call",params:[{data:v,to:u},l]});return nn({abi:Wo,args:[b],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:g,success:w}]=await p({data:a,to:c});if(!w)throw new Os({data:g});return g==="0x"?{data:void 0}:{data:g}}function oy(e){const{code:t,data:n}=e;return xr({abi:Mc(["constructor(bytes, bytes)"]),bytecode:Qm,args:[t,n]})}function sy(e){const{data:t,factory:n,factoryData:r,to:o}=e;return xr({abi:Mc(["constructor(address, bytes, address, bytes)"]),bytecode:Jm,args:[o,t,n,r]})}function ay(e){var n;if(!(e instanceof L))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function rt(e,t){const{abi:n,address:r,args:o,functionName:s,...a}=t,i=ot({abi:n,args:o,functionName:s});try{const{data:c}=await W(e,Ir,"call")({...a,data:i,to:r});return nn({abi:n,args:o,functionName:s,data:c||"0x"})}catch(c){throw qt(c,{abi:n,address:r,args:o,docsPath:"/docs/contract/readContract",functionName:s})}}async function iy(e,{blockNumber:t,blockTag:n,coinType:r,name:o,gatewayUrls:s,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=rn({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u=ot({abi:Xa,functionName:"addr",...r!=null?{args:[Un(o),BigInt(r)]}:{args:[Un(o)]}}),d={address:c,abi:wc,functionName:"resolve",args:[tt(Pr(o)),u],blockNumber:t,blockTag:n},l=W(e,rt,"readContract"),p=s?await l({...d,args:[...d.args,s]}):await l(d);if(p[0]==="0x")return null;const g=nn({abi:Xa,args:r!=null?[Un(o),BigInt(r)]:void 0,functionName:"addr",data:p[0]});return g==="0x"||hr(g)==="0x00"?null:g}catch(u){if(a)throw u;if(Ds(u,"resolve"))return null;throw u}}class cy extends L{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class an extends L{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Fs extends L{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class uy extends L{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const ly=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,dy=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,fy=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,py=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function hy(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function ni(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Bc({uri:e,gatewayUrls:t}){const n=fy.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=ni(t==null?void 0:t.ipfs,"https://ipfs.io"),o=ni(t==null?void 0:t.arweave,"https://arweave.net"),s=e.match(ly),{protocol:a,subpath:i,target:c,subtarget:u=""}=(s==null?void 0:s.groups)||{},d=a==="ipns:/"||i==="ipns/",l=a==="ipfs:/"||i==="ipfs/"||dy.test(e);if(e.startsWith("http")&&!d&&!l){let g=e;return t!=null&&t.arweave&&(g=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((d||l)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${o}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(py,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new Fs({uri:e})}function $c(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new cy({data:e});return e.image||e.image_url||e.image_data}async function my({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(o=>o.json());return await Bs({gatewayUrls:e,uri:$c(n)})}catch{throw new Fs({uri:t})}}async function Bs({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Bc({uri:t,gatewayUrls:e});if(r||await hy(n))return n;throw new Fs({uri:t})}function yy(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,o]=t.split("/"),[s,a]=n.split(":"),[i,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new an({reason:"Only EIP-155 supported"});if(!a)throw new an({reason:"Chain ID not found"});if(!c)throw new an({reason:"Contract address not found"});if(!o)throw new an({reason:"Token ID not found"});if(!i)throw new an({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a),namespace:i.toLowerCase(),contractAddress:c,tokenID:o}}async function gy(e,{nft:t}){if(t.namespace==="erc721")return rt(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return rt(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new uy({namespace:t.namespace})}async function by(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?wy(e,{gatewayUrls:t,record:n}):Bs({uri:n,gatewayUrls:t})}async function wy(e,{gatewayUrls:t,record:n}){const r=yy(n),o=await gy(e,{nft:r}),{uri:s,isOnChain:a,isEncoded:i}=Bc({uri:o,gatewayUrls:t});if(a&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const u=i?atob(s.replace("data:application/json;base64,","")):s,d=JSON.parse(u);return Bs({uri:$c(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),my({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function Lc(e,{blockNumber:t,blockTag:n,name:r,key:o,gatewayUrls:s,strict:a,universalResolverAddress:i}){let c=i;if(!c){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=rn({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const u={address:c,abi:wc,functionName:"resolve",args:[tt(Pr(r)),ot({abi:Ya,functionName:"text",args:[Un(r),o]})],blockNumber:t,blockTag:n},d=W(e,rt,"readContract"),l=s?await d({...u,args:[...u.args,s]}):await d(u);if(l[0]==="0x")return null;const p=nn({abi:Ya,functionName:"text",data:l[0]});return p===""?null:p}catch(u){if(a)throw u;if(Ds(u,"resolve"))return null;throw u}}async function vy(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:o,gatewayUrls:s,strict:a,universalResolverAddress:i}){const c=await W(e,Lc,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:o,universalResolverAddress:i,gatewayUrls:s,strict:a});if(!c)return null;try{return await by(e,{record:c,gatewayUrls:r})}catch{return null}}async function xy(e,{address:t,blockNumber:n,blockTag:r,gatewayUrls:o,strict:s,universalResolverAddress:a}){let i=a;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=rn({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const c=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:i,abi:Wh,functionName:"reverse",args:[tt(Pr(c))],blockNumber:n,blockTag:r},d=W(e,rt,"readContract"),[l,p]=o?await d({...u,args:[...u.args,o]}):await d(u);return t.toLowerCase()!==p.toLowerCase()?null:l}catch(u){if(s)throw u;if(Ds(u,"reverse"))return null;throw u}}async function Cy(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:o}){let s=o;if(!s){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");s=rn({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[a]=await W(e,rt,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[tt(Pr(r))],blockNumber:t,blockTag:n});return a}function Nr(e,{method:t}){var r,o;const n={};return e.transport.type==="fallback"&&((o=(r=e.transport).onResponse)==null||o.call(r,({method:s,response:a,status:i,transport:c})=>{i==="success"&&t===s&&(n[a]=c.request)})),s=>n[s]||e.request}async function Sy(e){const t=Nr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class Ey extends L{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const ri="/docs/contract/encodeEventTopics";function In(e){var c;const{abi:t,eventName:n,args:r}=e;let o=t[0];if(n){const u=Pn({abi:t,name:n});if(!u)throw new qa(n,{docsPath:ri});o=u}if(o.type!=="event")throw new qa(void 0,{docsPath:ri});const s=nt(o),a=Tr(s);let i=[];if(r&&"inputs"in o){const u=(c=o.inputs)==null?void 0:c.filter(l=>"indexed"in l&&l.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(l=>r[l.name]))??[]:[];d.length>0&&(i=(u==null?void 0:u.map((l,p)=>Array.isArray(d[p])?d[p].map((g,w)=>oi({param:l,value:d[p][w]})):d[p]?oi({param:l,value:d[p]}):null))??[])}return[a,...i]}function oi({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return me(mr(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new Ey(e.type);return tn([e],[t])}async function zc(e,t){const{address:n,abi:r,args:o,eventName:s,fromBlock:a,strict:i,toBlock:c}=t,u=Nr(e,{method:"eth_newFilter"}),d=s?In({abi:r,args:o,eventName:s}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?U(a):a,toBlock:typeof c=="bigint"?U(c):c,topics:d}]});return{abi:r,args:o,eventName:s,id:l,request:u(l),strict:!!i,type:"event"}}async function Wc(e,{address:t,args:n,event:r,events:o,fromBlock:s,strict:a,toBlock:i}={}){const c=o??(r?[r]:void 0),u=Nr(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(g=>In({abi:[g],eventName:g.name,args:n}))],r&&(d=d[0]));const l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?U(s):s,toBlock:typeof i=="bigint"?U(i):i,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:l,request:u(l),strict:!!a,toBlock:i,type:"event"}}async function Hc(e){const t=Nr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Ty(e,t){const{abi:n,address:r,args:o,functionName:s,...a}=t,i=ot({abi:n,args:o,functionName:s});try{return await W(e,Ms,"estimateGas")({data:i,to:r,...a})}catch(c){const u=a.account?Te(a.account):void 0;throw qt(c,{abi:n,address:r,args:o,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:u==null?void 0:u.address})}}async function Py(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const Iy=new Map,Ny=new Map;function Ay(e){const t=(o,s)=>({clear:()=>s.delete(o),get:()=>s.get(o),set:a=>s.set(o,a)}),n=t(e,Iy),r=t(e,Ny);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Ry(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Ay(t),o=r.response.get();if(o&&n>0&&new Date().getTime()-o.created.getTime()<n)return o.data;let s=r.promise.get();s||(s=e(),r.promise.set(s));try{const a=await s;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const My=e=>`blockNumber.${e}`;async function Nn(e,{cacheTime:t=e.cacheTime}={}){const n=await Ry(()=>e.request({method:"eth_blockNumber"}),{cacheKey:My(e.uid),cacheTime:t});return BigInt(n)}async function _y(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const o=n!==void 0?U(n):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[o||r]},{dedupe:!!o}),Jt(s)}async function si(e,{address:t,blockNumber:n,blockTag:r="latest"}){const o=n!==void 0?U(n):void 0,s=await e.request({method:"eth_getCode",params:[t,o||r]},{dedupe:!!o});if(s!=="0x")return s}function $s(e,t){if(!ze(e,{strict:!1}))throw new Tt({address:e});if(!ze(t,{strict:!1}))throw new Tt({address:t});return e.toLowerCase()===t.toLowerCase()}const ai="/docs/contract/decodeEventLog";function Ls(e){const{abi:t,data:n,strict:r,topics:o}=e,s=r??!0,[a,...i]=o;if(!a)throw new uh({docsPath:ai});const c=t.length===1?t[0]:t.find(m=>m.type==="event"&&a===Tr(nt(m)));if(!(c&&"name"in c)||c.type!=="event")throw new cc(a,{docsPath:ai});const{name:u,inputs:d}=c,l=d==null?void 0:d.some(m=>!("name"in m&&m.name));let p=l?[]:{};const g=d.filter(m=>"indexed"in m&&m.indexed);for(let m=0;m<g.length;m++){const y=g[m],b=i[m];if(!b)throw new vr({abiItem:c,param:y});p[l?m:y.name||m]=jy({param:y,value:b})}const w=d.filter(m=>!("indexed"in m&&m.indexed));if(w.length>0){if(n&&n!=="0x")try{const m=Er(w,n);if(m)if(l)p=[...p,...m];else for(let y=0;y<w.length;y++)p[w[y].name]=m[y]}catch(m){if(s)throw m instanceof ac||m instanceof op?new yn({abiItem:c,data:n,params:w,size:Se(n)}):m}else if(s)throw new yn({abiItem:c,data:"0x",params:w,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function jy({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Er([e],t)||[])[0]}function zs(e){const{abi:t,args:n,logs:r,strict:o=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(a=>{var i;try{const c=t.find(d=>d.type==="event"&&a.topics[0]===Tr(d));if(!c)return null;const u=Ls({...a,abi:[c],strict:o});return s&&!s.includes(u.eventName)||!ky({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...a}}catch(c){let u,d;if(c instanceof cc)return null;if(c instanceof yn||c instanceof vr){if(o)return null;u=c.abiItem.name,d=(i=c.abiItem.inputs)==null?void 0:i.some(l=>!("name"in l&&l.name))}return{...a,args:d?[]:{},eventName:u}}}).filter(Boolean)}function ky(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function o(s,a,i){try{return s.type==="address"?$s(a,i):s.type==="string"||s.type==="bytes"?me(mr(a))===i:a===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((s,a)=>{if(s==null)return!0;const i=n[a];return i?(Array.isArray(s)?s:[s]).some(u=>o(i,u,t[a])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,a])=>{if(a==null)return!0;const i=n.find(u=>u.name===s);return i?(Array.isArray(a)?a:[a]).some(u=>o(i,u,t[s])):!1}):!1}async function Ws(e,{address:t,blockHash:n,fromBlock:r,toBlock:o,event:s,events:a,args:i,strict:c}={}){const u=c??!1,d=a??(s?[s]:void 0);let l=[];d&&(l=[d.flatMap(m=>In({abi:[m],eventName:m.name,args:a?void 0:i}))],s&&(l=l[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:l,fromBlock:typeof r=="bigint"?U(r):r,toBlock:typeof o=="bigint"?U(o):o}]});const g=p.map(w=>It(w));return d?zs({abi:d,args:i,logs:g,strict:u}):g}async function Uc(e,t){const{abi:n,address:r,args:o,blockHash:s,eventName:a,fromBlock:i,toBlock:c,strict:u}=t,d=a?Pn({abi:n,name:a}):void 0,l=d?void 0:n.filter(p=>p.type==="event");return W(e,Ws,"getLogs")({address:r,args:o,blockHash:s,event:d,events:l,fromBlock:i,toBlock:c,strict:u})}class Oy extends L{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function Dy(e,t){const{address:n,factory:r,factoryData:o}=t;try{const[s,a,i,c,u,d,l]=await W(e,rt,"readContract")({abi:Fy,address:n,functionName:"eip712Domain",factory:r,factoryData:o});return{domain:{name:a,version:i,chainId:Number(c),verifyingContract:u,salt:d},extensions:l,fields:s}}catch(s){const a=s;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new Oy({address:n}):a}}const Fy=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function By(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function $y(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:o}){const s=n?U(n):void 0,a=await e.request({method:"eth_feeHistory",params:[U(t),s||r,o]},{dedupe:!!s});return By(a)}async function Ar(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const o=r.map(s=>It(s));return!("abi"in t)||!t.abi?o:zs({abi:t.abi,logs:o,strict:n})}async function Ly(e,{filter:t}){const n=t.strict??!1,o=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>It(s));return t.abi?zs({abi:t.abi,logs:o,strict:n}):o}async function zy(e,{address:t,blockNumber:n,blockTag:r="latest",slot:o}){const s=n!==void 0?U(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,o,s||r]})}async function Hs(e,{blockHash:t,blockNumber:n,blockTag:r,hash:o,index:s}){var d,l,p;const a=r||"latest",i=n!==void 0?U(n):void 0;let c=null;if(o?c=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,U(s)]},{dedupe:!0}):(i||a)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||a,U(s)]},{dedupe:!!i})),!c)throw new Hi({blockHash:t,blockNumber:n,blockTag:a,hash:o,index:s});return(((p=(l=(d=e.chain)==null?void 0:d.formatters)==null?void 0:l.transaction)==null?void 0:p.format)||sp)(c)}async function Wy(e,{hash:t,transactionReceipt:n}){const[r,o]=await Promise.all([W(e,Nn,"getBlockNumber")({}),t?W(e,Hs,"getTransaction")({hash:t}):void 0]),s=(n==null?void 0:n.blockNumber)||(o==null?void 0:o.blockNumber);return s?r-s+1n:0n}async function Zo(e,{hash:t}){var o,s,a;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new Ui({hash:t});return(((a=(s=(o=e.chain)==null?void 0:o.formatters)==null?void 0:s.transactionReceipt)==null?void 0:a.format)||ap)(n)}async function Hy(e,t){var y;const{allowFailure:n=!0,batchSize:r,blockNumber:o,blockTag:s,multicallAddress:a,stateOverride:i}=t,c=t.contracts,u=r??(typeof((y=e.batch)==null?void 0:y.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=a;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=rn({blockNumber:o,chain:e.chain,contract:"multicall3"})}const l=[[]];let p=0,g=0;for(let b=0;b<c.length;b++){const{abi:v,address:x,args:C,functionName:I}=c[b];try{const N=ot({abi:v,args:C,functionName:I});g+=(N.length-2)/2,u>0&&g>u&&l[p].length>0&&(p++,g=(N.length-2)/2,l[p]=[]),l[p]=[...l[p],{allowFailure:!0,callData:N,target:x}]}catch(N){const E=qt(N,{abi:v,address:x,args:C,docsPath:"/docs/contract/multicall",functionName:I});if(!n)throw E;l[p]=[...l[p],{allowFailure:!0,callData:"0x",target:x}]}}const w=await Promise.allSettled(l.map(b=>W(e,rt,"readContract")({abi:Wo,address:d,args:[b],blockNumber:o,blockTag:s,functionName:"aggregate3",stateOverride:i}))),m=[];for(let b=0;b<w.length;b++){const v=w[b];if(v.status==="rejected"){if(!n)throw v.reason;for(let C=0;C<l[b].length;C++)m.push({status:"failure",error:v.reason,result:void 0});continue}const x=v.value;for(let C=0;C<x.length;C++){const{returnData:I,success:N}=x[C],{callData:E}=l[b][C],{abi:P,address:T,functionName:k,args:_}=c[m.length];try{if(E==="0x")throw new wr;if(!N)throw new Os({data:I});const O=nn({abi:P,args:_,data:I,functionName:k});m.push(n?{result:O,status:"success"}:O)}catch(O){const $=qt(O,{abi:P,address:T,args:_,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw $;m.push({error:$,result:void 0,status:"failure"})}}}if(m.length!==c.length)throw new L("multicall results mismatch");return m}const oo=new Map,ii=new Map;let Uy=0;function ft(e,t,n){const r=++Uy,o=()=>oo.get(e)||[],s=()=>{const d=o();oo.set(e,d.filter(l=>l.id!==r))},a=()=>{const d=ii.get(e);o().length===1&&d&&d(),s()},i=o();if(oo.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return a;const c={};for(const d in t)c[d]=(...l)=>{var g,w;const p=o();if(p.length!==0)for(const m of p)(w=(g=m.fns)[d])==null||w.call(g,...l)};const u=n(c);return typeof u=="function"&&ii.set(e,u),a}function An(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let o=!0;const s=()=>o=!1;return(async()=>{let i;t&&(i=await e({unpoll:s}));const c=await(n==null?void 0:n(i))??r;await Ba(c);const u=async()=>{o&&(await e({unpoll:s}),await Ba(r),u())};u()})(),s}function qy(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:o,onError:s,includeTransactions:a,poll:i,pollingInterval:c=e.pollingInterval}){const u=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),d=a??!1;let l;return u?(()=>{const w=We(["watchBlocks",e.uid,t,n,r,d,c]);return ft(w,{onBlock:o,onError:s},m=>An(async()=>{var y;try{const b=await W(e,Xe,"getBlock")({blockTag:t,includeTransactions:d});if(b.number&&(l!=null&&l.number)){if(b.number===l.number)return;if(b.number-l.number>1&&n)for(let v=(l==null?void 0:l.number)+1n;v<b.number;v++){const x=await W(e,Xe,"getBlock")({blockNumber:v,includeTransactions:d});m.onBlock(x,l),l=x}}(!(l!=null&&l.number)||t==="pending"&&!(b!=null&&b.number)||b.number&&b.number>l.number)&&(m.onBlock(b,l),l=b)}catch(b){(y=m.onError)==null||y.call(m,b)}},{emitOnBegin:r,interval:c}))})():(()=>{let w=!0,m=!0,y=()=>w=!1;return(async()=>{try{r&&W(e,Xe,"getBlock")({blockTag:t,includeTransactions:d}).then(x=>{w&&m&&(o(x,void 0),m=!1)});const b=(()=>{if(e.transport.type==="fallback"){const x=e.transport.transports.find(C=>C.config.type==="webSocket");return x?x.value:e.transport}return e.transport})(),{unsubscribe:v}=await b.subscribe({params:["newHeads"],onData(x){var N,E,P;if(!w)return;const I=(((P=(E=(N=e.chain)==null?void 0:N.formatters)==null?void 0:E.block)==null?void 0:P.format)||Li)(x.result);o(I,l),m=!1,l=I},onError(x){s==null||s(x)}});y=v,w||y()}catch(b){s==null||s(b)}})(),()=>y()})()}function qc(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:o,poll:s,pollingInterval:a=e.pollingInterval}){const i=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket");let c;return i?(()=>{const l=We(["watchBlockNumber",e.uid,t,n,a]);return ft(l,{onBlockNumber:r,onError:o},p=>An(async()=>{var g;try{const w=await W(e,Nn,"getBlockNumber")({cacheTime:0});if(c){if(w===c)return;if(w-c>1&&n)for(let m=c+1n;m<w;m++)p.onBlockNumber(m,c),c=m}(!c||w>c)&&(p.onBlockNumber(w,c),c=w)}catch(w){(g=p.onError)==null||g.call(p,w)}},{emitOnBegin:t,interval:a}))})():(()=>{const l=We(["watchBlockNumber",e.uid,t,n]);return ft(l,{onBlockNumber:r,onError:o},p=>{let g=!0,w=()=>g=!1;return(async()=>{try{const m=(()=>{if(e.transport.type==="fallback"){const b=e.transport.transports.find(v=>v.config.type==="webSocket");return b?b.value:e.transport}return e.transport})(),{unsubscribe:y}=await m.subscribe({params:["newHeads"],onData(b){var x;if(!g)return;const v=Pt((x=b.result)==null?void 0:x.number);p.onBlockNumber(v,c),c=v},onError(b){var v;(v=p.onError)==null||v.call(p,b)}});w=y,g||w()}catch(m){o==null||o(m)}})(),()=>w()})})()}async function Rr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Vy(e,{address:t,args:n,batch:r=!0,event:o,events:s,fromBlock:a,onError:i,onLogs:c,poll:u,pollingInterval:d=e.pollingInterval,strict:l}){const p=typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),g=l??!1;return p?(()=>{const y=We(["watchEvent",t,n,r,e.uid,o,d,a]);return ft(y,{onLogs:c,onError:i},b=>{let v;a!==void 0&&(v=a-1n);let x,C=!1;const I=An(async()=>{var N;if(!C){try{x=await W(e,Wc,"createEventFilter")({address:t,args:n,event:o,events:s,strict:g,fromBlock:a})}catch{}C=!0;return}try{let E;if(x)E=await W(e,Ar,"getFilterChanges")({filter:x});else{const P=await W(e,Nn,"getBlockNumber")({});v&&v!==P?E=await W(e,Ws,"getLogs")({address:t,args:n,event:o,events:s,fromBlock:v+1n,toBlock:P}):E=[],v=P}if(E.length===0)return;if(r)b.onLogs(E);else for(const P of E)b.onLogs([P])}catch(E){x&&E instanceof qi&&(C=!1),(N=b.onError)==null||N.call(b,E)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await W(e,Rr,"uninstallFilter")({filter:x}),I()}})})():(()=>{let y=!0,b=()=>y=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const N=e.transport.transports.find(E=>E.config.type==="webSocket");return N?N.value:e.transport}return e.transport})(),x=s??(o?[o]:void 0);let C=[];x&&(C=[x.flatMap(E=>In({abi:[E],eventName:E.name,args:n}))],o&&(C=C[0]));const{unsubscribe:I}=await v.subscribe({params:["logs",{address:t,topics:C}],onData(N){var P;if(!y)return;const E=N.result;try{const{eventName:T,args:k}=Ls({abi:x??[],data:E.data,topics:E.topics,strict:g}),_=It(E,{args:k,eventName:T});c([_])}catch(T){let k,_;if(T instanceof yn||T instanceof vr){if(l)return;k=T.abiItem.name,_=(P=T.abiItem.inputs)==null?void 0:P.some($=>!("name"in $&&$.name))}const O=It(E,{args:_?[]:{},eventName:k});c([O])}},onError(N){i==null||i(N)}});b=I,y||b()}catch(v){i==null||i(v)}})(),()=>b()})()}function Gy(e,{batch:t=!0,onError:n,onTransactions:r,poll:o,pollingInterval:s=e.pollingInterval}){return(typeof o<"u"?o:e.transport.type!=="webSocket")?(()=>{const u=We(["watchPendingTransactions",e.uid,t,s]);return ft(u,{onTransactions:r,onError:n},d=>{let l;const p=An(async()=>{var g;try{if(!l)try{l=await W(e,Hc,"createPendingTransactionFilter")({});return}catch(m){throw p(),m}const w=await W(e,Ar,"getFilterChanges")({filter:l});if(w.length===0)return;if(t)d.onTransactions(w);else for(const m of w)d.onTransactions([m])}catch(w){(g=d.onError)==null||g.call(d,w)}},{emitOnBegin:!0,interval:s});return async()=>{l&&await W(e,Rr,"uninstallFilter")({filter:l}),p()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:l}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const g=p.result;r([g])},onError(p){n==null||n(p)}});d=l,u||d()}catch(l){n==null||n(l)}})(),()=>d()})()}async function Ky(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>ys(r))}async function Zy(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}const Yy=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xy=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;class Qy extends L{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Jy(e){const{domain:t={},message:n,primaryType:r}=e,o={EIP712Domain:Xc({domain:t}),...e.types};Yc({domain:t,message:n,primaryType:r,types:o});const s=["0x1901"];return t&&s.push(eg({domain:t,types:o})),r!=="EIP712Domain"&&s.push(Vc({data:n,primaryType:r,types:o})),me(et(s))}function eg({domain:e,types:t}){return Vc({data:e,primaryType:"EIP712Domain",types:t})}function Vc({data:e,primaryType:t,types:n}){const r=Gc({data:e,primaryType:t,types:n});return me(r)}function Gc({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],o=[tg({primaryType:t,types:n})];for(const s of n[t]){const[a,i]=Zc({types:n,name:s.name,type:s.type,value:e[s.name]});r.push(a),o.push(i)}return tn(r,o)}function tg({primaryType:e,types:t}){const n=tt(ng({primaryType:e,types:t}));return me(n)}function ng({primaryType:e,types:t}){let n="";const r=Kc({primaryType:e,types:t});r.delete(e);const o=[e,...Array.from(r).sort()];for(const s of o)n+=`${s}(${t[s].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return n}function Kc({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),o=r==null?void 0:r[0];if(n.has(o)||t[o]===void 0)return n;n.add(o);for(const s of t[o])Kc({primaryType:s.type,types:t},n);return n}function Zc({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},me(Gc({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},me(r)];if(n==="string")return[{type:"bytes32"},me(tt(r))];if(n.lastIndexOf("]")===n.length-1){const o=n.slice(0,n.lastIndexOf("[")),s=r.map(a=>Zc({name:t,type:o,types:e,value:a}));return[{type:"bytes32"},me(tn(s.map(([a])=>a),s.map(([,a])=>a)))]}return[{type:n},r]}function rg(e){const{domain:t,message:n,primaryType:r,types:o}=e,s=(c,u)=>{const d={...u};for(const l of c){const{name:p,type:g}=l;g==="address"&&(d[p]=d[p].toLowerCase())}return d},a=o.EIP712Domain?t?s(o.EIP712Domain,t):{}:{},i=(()=>{if(r!=="EIP712Domain")return s(o[r],n)})();return We({domain:a,message:i,primaryType:r,types:o})}function Yc(e){const{domain:t,message:n,primaryType:r,types:o}=e,s=(a,i)=>{for(const c of a){const{name:u,type:d}=c,l=i[u],p=d.match(Xy);if(p&&(typeof l=="number"||typeof l=="bigint")){const[m,y,b]=p;U(l,{signed:y==="int",size:Number.parseInt(b)/8})}if(d==="address"&&typeof l=="string"&&!ze(l))throw new Tt({address:l});const g=d.match(Yy);if(g){const[m,y]=g;if(y&&Se(l)!==Number.parseInt(y))throw new fh({expectedSize:Number.parseInt(y),givenSize:Se(l)})}const w=o[d];w&&(og(d),s(w,l))}};o.EIP712Domain&&t&&s(o.EIP712Domain,t),r!=="EIP712Domain"&&s(o[r],n)}function Xc({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function og(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Qy({type:e})}const sg=`Ethereum Signed Message:
`;function ag(e){const t=typeof e=="string"?Yn(e):typeof e.raw=="string"?e.raw:Ne(e.raw),n=Yn(`${sg}${Se(t)}`);return et([n,t])}function Qc(e,t){return me(ag(e),t)}const Jc="0x6492649264926492649264926492649264926492649264926492649264926492";function ig(e){return ip(e,-32)===Jc}function cg(e){const{address:t,data:n,signature:r,to:o="hex"}=e,s=lr([tn([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,n,r]),Jc]);return o==="hex"?s:dr(s)}function ug(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function lg(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?Jt(e.nonce):void 0,storageProof:e.storageProof?ug(e.storageProof):void 0}}async function dg(e,{address:t,blockNumber:n,blockTag:r,storageKeys:o}){const s=r??"latest",a=n!==void 0?U(n):void 0,i=await e.request({method:"eth_getProof",params:[t,o,a||s]});return lg(i)}async function fg(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:o=e.pollingInterval,retryCount:s=6,retryDelay:a=({count:c})=>~~(1<<c)*200,timeout:i=18e4}){const c=We(["waitForTransactionReceipt",e.uid,n]);let u,d,l,p=!1;const{promise:g,resolve:w,reject:m}=cp(),y=i?setTimeout(()=>m(new up({hash:n})),i):void 0,b=ft(c,{onReplaced:r,resolve:w,reject:m},v=>{const x=W(e,qc,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:o,async onBlockNumber(C){const I=E=>{clearTimeout(y),x(),E(),b()};let N=C;if(!p)try{if(l){if(t>1&&(!l.blockNumber||N-l.blockNumber+1n<t))return;I(()=>v.resolve(l));return}if(u||(p=!0,await $a(async()=>{u=await W(e,Hs,"getTransaction")({hash:n}),u.blockNumber&&(N=u.blockNumber)},{delay:a,retryCount:s}),p=!1),l=await W(e,Zo,"getTransactionReceipt")({hash:n}),t>1&&(!l.blockNumber||N-l.blockNumber+1n<t))return;I(()=>v.resolve(l))}catch(E){if(E instanceof Hi||E instanceof Ui){if(!u){p=!1;return}try{d=u,p=!0;const P=await $a(()=>W(e,Xe,"getBlock")({blockNumber:N,includeTransactions:!0}),{delay:a,retryCount:s,shouldRetry:({error:_})=>_ instanceof fc});p=!1;const T=P.transactions.find(({from:_,nonce:O})=>_===d.from&&O===d.nonce);if(!T||(l=await W(e,Zo,"getTransactionReceipt")({hash:T.hash}),t>1&&(!l.blockNumber||N-l.blockNumber+1n<t)))return;let k="replaced";T.to===d.to&&T.value===d.value?k="repriced":T.from===T.to&&T.value===0n&&(k="cancelled"),I(()=>{var _;(_=v.onReplaced)==null||_.call(v,{reason:k,replacedTransaction:d,transaction:T,transactionReceipt:l}),v.resolve(l)})}catch(P){I(()=>v.reject(P))}}else I(()=>v.reject(E))}}})});return g}async function pg(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>bs(n))}async function hg(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function mg(e,t){var u,d,l,p;const{account:n=e.account,chain:r=e.chain,...o}=t;if(!n)throw new Sn({docsPath:"/docs/actions/wallet/signTransaction"});const s=Te(n);En({account:s,...t});const a=await W(e,Tn,"getChainId")({});r!==null&&dc({currentChainId:a,chain:r});const i=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((d=i==null?void 0:i.transactionRequest)==null?void 0:d.format)||Cr;return s.signTransaction?s.signTransaction({...o,chainId:a},{serializer:(p=(l=e.chain)==null?void 0:l.serializers)==null?void 0:p.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(o),chainId:U(a),from:s.address}]},{retryCount:0})}async function yg(e,{account:t=e.account,message:n}){if(!t)throw new Sn({docsPath:"/docs/actions/wallet/signMessage"});const r=Te(t);if(r.signMessage)return r.signMessage({message:n});const o=typeof n=="string"?Yn(n):n.raw instanceof Uint8Array?tt(n.raw):n.raw;return e.request({method:"personal_sign",params:[o,r.address]},{retryCount:0})}async function gg(e,t){const{account:n=e.account,domain:r,message:o,primaryType:s}=t;if(!n)throw new Sn({docsPath:"/docs/actions/wallet/signTypedData"});const a=Te(n),i={EIP712Domain:Xc({domain:r}),...t.types};if(Yc({domain:r,message:o,primaryType:s,types:i}),a.signTypedData)return a.signTypedData({domain:r,message:o,primaryType:s,types:i});const c=rg({domain:r,message:o,primaryType:s,types:i});return e.request({method:"eth_signTypedData_v4",params:[a.address,c]},{retryCount:0})}async function bg(e,t){const{abi:n,address:r,args:o,dataSuffix:s,functionName:a,...i}=t,c=i.account?Te(i.account):e.account,u=ot({abi:n,args:o,functionName:a});try{const{data:d}=await W(e,Ir,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:r,...i,account:c}),l=nn({abi:n,args:o,functionName:a,data:d||"0x"}),p=n.filter(g=>"name"in g&&g.name===t.functionName);return{result:l,request:{abi:p,address:r,args:o,dataSuffix:s,functionName:a,...i,account:c}}}catch(d){throw qt(d,{abi:n,address:r,args:o,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c==null?void 0:c.address})}}async function wg(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:U(t)}]},{retryCount:0})}class eu extends lp{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,dp(t);const r=fp(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?t.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=t.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(t){return La(this),this.iHash.update(t),this}digestInto(t){La(this),pp(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:s,blockLen:a,outputLen:i}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=a,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tu=(e,t,n)=>new eu(e,t).update(n).digest();tu.create=(e,t)=>new eu(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Us=BigInt(0),Mr=BigInt(1),vg=BigInt(2);function Nt(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Rn(e){if(!Nt(e))throw new Error("Uint8Array expected")}function Vt(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}const xg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Gt(e){Rn(e);let t="";for(let n=0;n<e.length;n++)t+=xg[e[n]];return t}function Ft(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function qs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const qe={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ci(e){if(e>=qe._0&&e<=qe._9)return e-qe._0;if(e>=qe._A&&e<=qe._F)return e-(qe._A-10);if(e>=qe._a&&e<=qe._f)return e-(qe._a-10)}function Kt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,s=0;o<n;o++,s+=2){const a=ci(e.charCodeAt(s)),i=ci(e.charCodeAt(s+1));if(a===void 0||i===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[o]=a*16+i}return r}function St(e){return qs(Gt(e))}function Vs(e){return Rn(e),qs(Gt(Uint8Array.from(e).reverse()))}function Zt(e,t){return Kt(e.toString(16).padStart(t*2,"0"))}function Gs(e,t){return Zt(e,t).reverse()}function Cg(e){return Kt(Ft(e))}function Oe(e,t,n){let r;if(typeof t=="string")try{r=Kt(t)}catch(s){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${s}`)}else if(Nt(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function bn(...e){let t=0;for(let r=0;r<e.length;r++){const o=e[r];Rn(o),t+=o.length}const n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){const s=e[r];n.set(s,o),o+=s.length}return n}function Sg(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function Eg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}const so=e=>typeof e=="bigint"&&Us<=e;function _r(e,t,n){return so(e)&&so(t)&&so(n)&&t<=e&&e<n}function Et(e,t,n,r){if(!_r(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)}function nu(e){let t;for(t=0;e>Us;e>>=Mr,t+=1);return t}function Tg(e,t){return e>>BigInt(t)&Mr}function Pg(e,t,n){return e|(n?Mr:Us)<<BigInt(t)}const Ks=e=>(vg<<BigInt(e-1))-Mr,ao=e=>new Uint8Array(e),ui=e=>Uint8Array.from(e);function ru(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ao(e),o=ao(e),s=0;const a=()=>{r.fill(1),o.fill(0),s=0},i=(...l)=>n(o,r,...l),c=(l=ao())=>{o=i(ui([0]),l),r=i(),l.length!==0&&(o=i(ui([1]),l),r=i())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let l=0;const p=[];for(;l<t;){r=i();const g=r.slice();p.push(g),l+=r.length}return bn(...p)};return(l,p)=>{a(),c(l);let g;for(;!(g=p(u()));)c();return a(),g}}const Ig={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Nt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Mn(e,t,n={}){const r=(o,s,a)=>{const i=Ig[s];if(typeof i!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=e[o];if(!(a&&c===void 0)&&!i(c,e))throw new Error(`Invalid param ${String(o)}=${c} (${typeof c}), expected ${s}`)};for(const[o,s]of Object.entries(t))r(o,s,!1);for(const[o,s]of Object.entries(n))r(o,s,!0);return e}const Ng=()=>{throw new Error("not implemented")};function Yo(e){const t=new WeakMap;return(n,...r)=>{const o=t.get(n);if(o!==void 0)return o;const s=e(n,...r);return t.set(n,s),s}}const Ag=Object.freeze(Object.defineProperty({__proto__:null,aInRange:Et,abool:Vt,abytes:Rn,bitGet:Tg,bitLen:nu,bitMask:Ks,bitSet:Pg,bytesToHex:Gt,bytesToNumberBE:St,bytesToNumberLE:Vs,concatBytes:bn,createHmacDrbg:ru,ensureBytes:Oe,equalBytes:Sg,hexToBytes:Kt,hexToNumber:qs,inRange:_r,isBytes:Nt,memoized:Yo,notImplemented:Ng,numberToBytesBE:Zt,numberToBytesLE:Gs,numberToHexUnpadded:Ft,numberToVarBytesBE:Cg,utf8ToBytes:Eg,validateObject:Mn},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pe=BigInt(0),ue=BigInt(1),gt=BigInt(2),Rg=BigInt(3),Xo=BigInt(4),li=BigInt(5),di=BigInt(8);BigInt(9);BigInt(16);function Ce(e,t){const n=e%t;return n>=pe?n:t+n}function Mg(e,t,n){if(n<=pe||t<pe)throw new Error("Expected power/modulo > 0");if(n===ue)return pe;let r=ue;for(;t>pe;)t&ue&&(r=r*e%n),e=e*e%n,t>>=ue;return r}function Pe(e,t,n){let r=e;for(;t-- >pe;)r*=r,r%=n;return r}function Qo(e,t){if(e===pe||t<=pe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Ce(e,t),r=t,o=pe,s=ue;for(;n!==pe;){const i=r/n,c=r%n,u=o-s*i;r=n,n=c,o=s,s=u}if(r!==ue)throw new Error("invert: does not exist");return Ce(o,t)}function _g(e){const t=(e-ue)/gt;let n,r,o;for(n=e-ue,r=0;n%gt===pe;n/=gt,r++);for(o=gt;o<e&&Mg(o,t,e)!==e-ue;o++);if(r===1){const a=(e+ue)/Xo;return function(c,u){const d=c.pow(u,a);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const s=(n+ue)/gt;return function(i,c){if(i.pow(c,t)===i.neg(i.ONE))throw new Error("Cannot find square root");let u=r,d=i.pow(i.mul(i.ONE,o),n),l=i.pow(c,s),p=i.pow(c,n);for(;!i.eql(p,i.ONE);){if(i.eql(p,i.ZERO))return i.ZERO;let g=1;for(let m=i.sqr(p);g<u&&!i.eql(m,i.ONE);g++)m=i.sqr(m);const w=i.pow(d,ue<<BigInt(u-g-1));d=i.sqr(w),l=i.mul(l,w),p=i.mul(p,d),u=g}return l}}function jg(e){if(e%Xo===Rg){const t=(e+ue)/Xo;return function(r,o){const s=r.pow(o,t);if(!r.eql(r.sqr(s),o))throw new Error("Cannot find square root");return s}}if(e%di===li){const t=(e-li)/di;return function(r,o){const s=r.mul(o,gt),a=r.pow(s,t),i=r.mul(o,a),c=r.mul(r.mul(i,gt),a),u=r.mul(i,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),o))throw new Error("Cannot find square root");return u}}return _g(e)}const kg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Og(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kg.reduce((r,o)=>(r[o]="function",r),t);return Mn(e,n)}function Dg(e,t,n){if(n<pe)throw new Error("Expected power > 0");if(n===pe)return e.ONE;if(n===ue)return t;let r=e.ONE,o=t;for(;n>pe;)n&ue&&(r=e.mul(r,o)),o=e.sqr(o),n>>=ue;return r}function Fg(e,t){const n=new Array(t.length),r=t.reduce((s,a,i)=>e.is0(a)?s:(n[i]=s,e.mul(s,a)),e.ONE),o=e.inv(r);return t.reduceRight((s,a,i)=>e.is0(a)?s:(n[i]=e.mul(s,n[i]),e.mul(s,a)),o),n}function ou(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function su(e,t,n=!1,r={}){if(e<=pe)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:s}=ou(e,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=jg(e),i=Object.freeze({ORDER:e,BITS:o,BYTES:s,MASK:Ks(o),ZERO:pe,ONE:ue,create:c=>Ce(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return pe<=c&&c<e},is0:c=>c===pe,isOdd:c=>(c&ue)===ue,neg:c=>Ce(-c,e),eql:(c,u)=>c===u,sqr:c=>Ce(c*c,e),add:(c,u)=>Ce(c+u,e),sub:(c,u)=>Ce(c-u,e),mul:(c,u)=>Ce(c*u,e),pow:(c,u)=>Dg(i,c,u),div:(c,u)=>Ce(c*Qo(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Qo(c,e),sqrt:r.sqrt||(c=>a(i,c)),invertBatch:c=>Fg(i,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>n?Gs(c,s):Zt(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?Vs(c):St(c)}});return Object.freeze(i)}function au(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function iu(e){const t=au(e);return t+Math.ceil(t/2)}function Bg(e,t,n=!1){const r=e.length,o=au(t),s=iu(t);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const a=n?St(e):Vs(e),i=Ce(a,t-ue)+ue;return n?Gs(i,o):Zt(i,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $g=BigInt(0),io=BigInt(1),co=new WeakMap,fi=new WeakMap;function Lg(e,t){const n=(s,a)=>{const i=a.negate();return s?i:a},r=s=>{if(!Number.isSafeInteger(s)||s<=0||s>t)throw new Error(`Wrong window size=${s}, should be [1..${t}]`)},o=s=>{r(s);const a=Math.ceil(t/s)+1,i=2**(s-1);return{windows:a,windowSize:i}};return{constTimeNegate:n,unsafeLadder(s,a){let i=e.ZERO,c=s;for(;a>$g;)a&io&&(i=i.add(c)),c=c.double(),a>>=io;return i},precomputeWindow(s,a){const{windows:i,windowSize:c}=o(a),u=[];let d=s,l=d;for(let p=0;p<i;p++){l=d,u.push(l);for(let g=1;g<c;g++)l=l.add(d),u.push(l);d=l.double()}return u},wNAF(s,a,i){const{windows:c,windowSize:u}=o(s);let d=e.ZERO,l=e.BASE;const p=BigInt(2**s-1),g=2**s,w=BigInt(s);for(let m=0;m<c;m++){const y=m*u;let b=Number(i&p);i>>=w,b>u&&(b-=g,i+=io);const v=y,x=y+Math.abs(b)-1,C=m%2!==0,I=b<0;b===0?l=l.add(n(C,a[v])):d=d.add(n(I,a[x]))}return{p:d,f:l}},wNAFCached(s,a,i){const c=fi.get(s)||1;let u=co.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&co.set(s,i(u))),this.wNAF(c,u,a)},setWindowSize(s,a){r(a),fi.set(s,a),co.delete(s)}}}function zg(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((d,l)=>{if(!t.isValid(d))throw new Error(`wrong scalar at index ${l}`)}),n.forEach((d,l)=>{if(!(d instanceof e))throw new Error(`wrong point at index ${l}`)});const o=nu(BigInt(n.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,i=new Array(a+1).fill(e.ZERO),c=Math.floor((t.BITS-1)/s)*s;let u=e.ZERO;for(let d=c;d>=0;d-=s){i.fill(e.ZERO);for(let p=0;p<r.length;p++){const g=r[p],w=Number(g>>BigInt(d)&BigInt(a));i[w]=i[w].add(n[p])}let l=e.ZERO;for(let p=i.length-1,g=e.ZERO;p>0;p--)g=g.add(i[p]),l=l.add(g);if(u=u.add(l),d!==0)for(let p=0;p<s;p++)u=u.double()}return u}function cu(e){return Og(e.Fp),Mn(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ou(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pi(e){e.lowS!==void 0&&Vt("lowS",e.lowS),e.prehash!==void 0&&Vt("prehash",e.prehash)}function Wg(e){const t=cu(e);Mn(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Hg,hexToBytes:Ug}=Ag,Ve={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:n}=Ve;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,o=Ft(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Ft(o.length/2|128):"";return`${Ft(e)}${s}${o}${t}`},decode(e,t){const{Err:n}=Ve;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const o=t[r++],s=!!(o&128);let a=0;if(!s)a=o;else{const c=o&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)a=a<<8|d;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const i=t.subarray(r,r+a);if(i.length!==a)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=Ve;if(e<Ke)throw new t("integer: negative integers are not allowed");let n=Ft(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected assertion");return n},decode(e){const{Err:t}=Ve;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return Hg(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ve,o=typeof e=="string"?Ug(e):e;Rn(o);const{v:s,l:a}=r.decode(48,o);if(a.length)throw new t("Invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,s),{v:u,l:d}=r.decode(2,c);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ve,r=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,r)}},Ke=BigInt(0),fe=BigInt(1);BigInt(2);const hi=BigInt(3);BigInt(4);function qg(e){const t=Wg(e),{Fp:n}=t,r=su(t.n,t.nBitLength),o=t.toBytes||((m,y,b)=>{const v=y.toAffine();return bn(Uint8Array.from([4]),n.toBytes(v.x),n.toBytes(v.y))}),s=t.fromBytes||(m=>{const y=m.subarray(1),b=n.fromBytes(y.subarray(0,n.BYTES)),v=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:b,y:v}});function a(m){const{a:y,b}=t,v=n.sqr(m),x=n.mul(v,m);return n.add(n.add(x,n.mul(m,y)),b)}if(!n.eql(n.sqr(t.Gy),a(t.Gx)))throw new Error("bad generator point: equation left != right");function i(m){return _r(m,fe,t.n)}function c(m){const{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:v,n:x}=t;if(y&&typeof m!="bigint"){if(Nt(m)&&(m=Gt(m)),typeof m!="string"||!y.includes(m.length))throw new Error("Invalid key");m=m.padStart(b*2,"0")}let C;try{C=typeof m=="bigint"?m:St(Oe("private key",m,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof m}`)}return v&&(C=Ce(C,x)),Et("private key",C,fe,x),C}function u(m){if(!(m instanceof p))throw new Error("ProjectivePoint expected")}const d=Yo((m,y)=>{const{px:b,py:v,pz:x}=m;if(n.eql(x,n.ONE))return{x:b,y:v};const C=m.is0();y==null&&(y=C?n.ONE:n.inv(x));const I=n.mul(b,y),N=n.mul(v,y),E=n.mul(x,y);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(E,n.ONE))throw new Error("invZ was invalid");return{x:I,y:N}}),l=Yo(m=>{if(m.is0()){if(t.allowInfinityPoint&&!n.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:y,y:b}=m.toAffine();if(!n.isValid(y)||!n.isValid(b))throw new Error("bad point: x or y not FE");const v=n.sqr(b),x=a(y);if(!n.eql(v,x))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(y,b,v){if(this.px=y,this.py=b,this.pz=v,y==null||!n.isValid(y))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(v==null||!n.isValid(v))throw new Error("z required");Object.freeze(this)}static fromAffine(y){const{x:b,y:v}=y||{};if(!y||!n.isValid(b)||!n.isValid(v))throw new Error("invalid affine point");if(y instanceof p)throw new Error("projective point not allowed");const x=C=>n.eql(C,n.ZERO);return x(b)&&x(v)?p.ZERO:new p(b,v,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const b=n.invertBatch(y.map(v=>v.pz));return y.map((v,x)=>v.toAffine(b[x])).map(p.fromAffine)}static fromHex(y){const b=p.fromAffine(s(Oe("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return p.BASE.multiply(c(y))}static msm(y,b){return zg(p,r,y,b)}_setWindowSize(y){w.setWindowSize(this,y)}assertValidity(){l(this)}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);const{px:b,py:v,pz:x}=this,{px:C,py:I,pz:N}=y,E=n.eql(n.mul(b,N),n.mul(C,x)),P=n.eql(n.mul(v,N),n.mul(I,x));return E&&P}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b}=t,v=n.mul(b,hi),{px:x,py:C,pz:I}=this;let N=n.ZERO,E=n.ZERO,P=n.ZERO,T=n.mul(x,x),k=n.mul(C,C),_=n.mul(I,I),O=n.mul(x,C);return O=n.add(O,O),P=n.mul(x,I),P=n.add(P,P),N=n.mul(y,P),E=n.mul(v,_),E=n.add(N,E),N=n.sub(k,E),E=n.add(k,E),E=n.mul(N,E),N=n.mul(O,N),P=n.mul(v,P),_=n.mul(y,_),O=n.sub(T,_),O=n.mul(y,O),O=n.add(O,P),P=n.add(T,T),T=n.add(P,T),T=n.add(T,_),T=n.mul(T,O),E=n.add(E,T),_=n.mul(C,I),_=n.add(_,_),T=n.mul(_,O),N=n.sub(N,T),P=n.mul(_,k),P=n.add(P,P),P=n.add(P,P),new p(N,E,P)}add(y){u(y);const{px:b,py:v,pz:x}=this,{px:C,py:I,pz:N}=y;let E=n.ZERO,P=n.ZERO,T=n.ZERO;const k=t.a,_=n.mul(t.b,hi);let O=n.mul(b,C),$=n.mul(v,I),S=n.mul(x,N),R=n.add(b,v),A=n.add(C,I);R=n.mul(R,A),A=n.add(O,$),R=n.sub(R,A),A=n.add(b,x);let D=n.add(C,N);return A=n.mul(A,D),D=n.add(O,S),A=n.sub(A,D),D=n.add(v,x),E=n.add(I,N),D=n.mul(D,E),E=n.add($,S),D=n.sub(D,E),T=n.mul(k,A),E=n.mul(_,S),T=n.add(E,T),E=n.sub($,T),T=n.add($,T),P=n.mul(E,T),$=n.add(O,O),$=n.add($,O),S=n.mul(k,S),A=n.mul(_,A),$=n.add($,S),S=n.sub(O,S),S=n.mul(k,S),A=n.add(A,S),O=n.mul($,A),P=n.add(P,O),O=n.mul(D,A),E=n.mul(R,E),E=n.sub(E,O),O=n.mul(R,$),T=n.mul(D,T),T=n.add(T,O),new p(E,P,T)}subtract(y){return this.add(y.negate())}is0(){return this.equals(p.ZERO)}wNAF(y){return w.wNAFCached(this,y,p.normalizeZ)}multiplyUnsafe(y){Et("scalar",y,Ke,t.n);const b=p.ZERO;if(y===Ke)return b;if(y===fe)return this;const{endo:v}=t;if(!v)return w.unsafeLadder(this,y);let{k1neg:x,k1:C,k2neg:I,k2:N}=v.splitScalar(y),E=b,P=b,T=this;for(;C>Ke||N>Ke;)C&fe&&(E=E.add(T)),N&fe&&(P=P.add(T)),T=T.double(),C>>=fe,N>>=fe;return x&&(E=E.negate()),I&&(P=P.negate()),P=new p(n.mul(P.px,v.beta),P.py,P.pz),E.add(P)}multiply(y){const{endo:b,n:v}=t;Et("scalar",y,fe,v);let x,C;if(b){const{k1neg:I,k1:N,k2neg:E,k2:P}=b.splitScalar(y);let{p:T,f:k}=this.wNAF(N),{p:_,f:O}=this.wNAF(P);T=w.constTimeNegate(I,T),_=w.constTimeNegate(E,_),_=new p(n.mul(_.px,b.beta),_.py,_.pz),x=T.add(_),C=k.add(O)}else{const{p:I,f:N}=this.wNAF(y);x=I,C=N}return p.normalizeZ([x,C])[0]}multiplyAndAddUnsafe(y,b,v){const x=p.BASE,C=(N,E)=>E===Ke||E===fe||!N.equals(x)?N.multiplyUnsafe(E):N.multiply(E),I=C(this,b).add(C(y,v));return I.is0()?void 0:I}toAffine(y){return d(this,y)}isTorsionFree(){const{h:y,isTorsionFree:b}=t;if(y===fe)return!0;if(b)return b(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:b}=t;return y===fe?this:b?b(p,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return Vt("isCompressed",y),this.assertValidity(),o(p,this,y)}toHex(y=!0){return Vt("isCompressed",y),Gt(this.toRawBytes(y))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const g=t.nBitLength,w=Lg(p,t.endo?Math.ceil(g/2):g);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:a,isWithinCurveOrder:i}}function Vg(e){const t=cu(e);return Mn(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Gg(e){const t=Vg(e),{Fp:n,n:r}=t,o=n.BYTES+1,s=2*n.BYTES+1;function a(S){return Ce(S,r)}function i(S){return Qo(S,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:l}=qg({...t,toBytes(S,R,A){const D=R.toAffine(),B=n.toBytes(D.x),j=bn;return Vt("isCompressed",A),A?j(Uint8Array.from([R.hasEvenY()?2:3]),B):j(Uint8Array.from([4]),B,n.toBytes(D.y))},fromBytes(S){const R=S.length,A=S[0],D=S.subarray(1);if(R===o&&(A===2||A===3)){const B=St(D);if(!_r(B,fe,n.ORDER))throw new Error("Point is not on curve");const j=d(B);let H;try{H=n.sqrt(j)}catch(ae){const ie=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+ie)}const K=(H&fe)===fe;return(A&1)===1!==K&&(H=n.neg(H)),{x:B,y:H}}else if(R===s&&A===4){const B=n.fromBytes(D.subarray(0,n.BYTES)),j=n.fromBytes(D.subarray(n.BYTES,2*n.BYTES));return{x:B,y:j}}else throw new Error(`Point of length ${R} was invalid. Expected ${o} compressed bytes or ${s} uncompressed bytes`)}}),p=S=>Gt(Zt(S,t.nByteLength));function g(S){const R=r>>fe;return S>R}function w(S){return g(S)?a(-S):S}const m=(S,R,A)=>St(S.slice(R,A));class y{constructor(R,A,D){this.r=R,this.s=A,this.recovery=D,this.assertValidity()}static fromCompact(R){const A=t.nByteLength;return R=Oe("compactSignature",R,A*2),new y(m(R,0,A),m(R,A,2*A))}static fromDER(R){const{r:A,s:D}=Ve.toSig(Oe("DER",R));return new y(A,D)}assertValidity(){Et("r",this.r,fe,r),Et("s",this.s,fe,r)}addRecoveryBit(R){return new y(this.r,this.s,R)}recoverPublicKey(R){const{r:A,s:D,recovery:B}=this,j=N(Oe("msgHash",R));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const H=B===2||B===3?A+t.n:A;if(H>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=B&1?"03":"02",re=c.fromHex(K+p(H)),ae=i(H),ie=a(-j*ae),Ee=a(D*ae),de=c.BASE.multiplyAndAddUnsafe(re,ie,Ee);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Kt(this.toDERHex())}toDERHex(){return Ve.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Kt(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const b={isValidPrivateKey(S){try{return u(S),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const S=iu(t.n);return Bg(t.randomBytes(S),t.n)},precompute(S=8,R=c.BASE){return R._setWindowSize(S),R.multiply(BigInt(3)),R}};function v(S,R=!0){return c.fromPrivateKey(S).toRawBytes(R)}function x(S){const R=Nt(S),A=typeof S=="string",D=(R||A)&&S.length;return R?D===o||D===s:A?D===2*o||D===2*s:S instanceof c}function C(S,R,A=!0){if(x(S))throw new Error("first arg must be private key");if(!x(R))throw new Error("second arg must be public key");return c.fromHex(R).multiply(u(S)).toRawBytes(A)}const I=t.bits2int||function(S){const R=St(S),A=S.length*8-t.nBitLength;return A>0?R>>BigInt(A):R},N=t.bits2int_modN||function(S){return a(I(S))},E=Ks(t.nBitLength);function P(S){return Et(`num < 2^${t.nBitLength}`,S,Ke,E),Zt(S,t.nByteLength)}function T(S,R,A=k){if(["recovered","canonical"].some(Y=>Y in A))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:B}=t;let{lowS:j,prehash:H,extraEntropy:K}=A;j==null&&(j=!0),S=Oe("msgHash",S),pi(A),H&&(S=Oe("prehashed msgHash",D(S)));const re=N(S),ae=u(R),ie=[P(ae),P(re)];if(K!=null&&K!==!1){const Y=K===!0?B(n.BYTES):K;ie.push(Oe("extraEntropy",Y))}const Ee=bn(...ie),de=re;function z(Y){const J=I(Y);if(!l(J))return;const oe=i(J),X=c.BASE.multiply(J).toAffine(),V=a(X.x);if(V===Ke)return;const we=a(oe*a(de+V*ae));if(we===Ke)return;let Be=(X.x===V?0:2)|Number(X.y&fe),jt=we;return j&&g(we)&&(jt=w(we),Be^=1),new y(V,jt,Be)}return{seed:Ee,k2sig:z}}const k={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};function O(S,R,A=k){const{seed:D,k2sig:B}=T(S,R,A),j=t;return ru(j.hash.outputLen,j.nByteLength,j.hmac)(D,B)}c.BASE._setWindowSize(8);function $(S,R,A,D=_){var X;const B=S;if(R=Oe("msgHash",R),A=Oe("publicKey",A),"strict"in D)throw new Error("options.strict was renamed to lowS");pi(D);const{lowS:j,prehash:H}=D;let K,re;try{if(typeof B=="string"||Nt(B))try{K=y.fromDER(B)}catch(V){if(!(V instanceof Ve.Err))throw V;K=y.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:V,s:we}=B;K=new y(V,we)}else throw new Error("PARSE");re=c.fromHex(A)}catch(V){if(V.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(j&&K.hasHighS())return!1;H&&(R=t.hash(R));const{r:ae,s:ie}=K,Ee=N(R),de=i(ie),z=a(Ee*de),Y=a(ae*de),J=(X=c.BASE.multiplyAndAddUnsafe(re,z,Y))==null?void 0:X.toAffine();return J?a(J.x)===ae:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:C,sign:O,verify:$,ProjectivePoint:c,Signature:y,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kg(e){return{hash:e,hmac:(t,...n)=>tu(e,t,hp(...n)),randomBytes:mp}}function Zg(e,t){const n=r=>Gg({...e,...Kg(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),mi=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Yg=BigInt(1),Jo=BigInt(2),yi=(e,t)=>(e+t/Jo)/t;function Xg(e){const t=uu,n=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),a=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,l=Pe(d,n,t)*d%t,p=Pe(l,n,t)*d%t,g=Pe(p,Jo,t)*u%t,w=Pe(g,o,t)*g%t,m=Pe(w,s,t)*w%t,y=Pe(m,i,t)*m%t,b=Pe(y,c,t)*y%t,v=Pe(b,i,t)*m%t,x=Pe(v,n,t)*d%t,C=Pe(x,a,t)*w%t,I=Pe(C,r,t)*u%t,N=Pe(I,Jo,t);if(!es.eql(es.sqr(N),e))throw new Error("Cannot find square root");return N}const es=su(uu,void 0,void 0,{sqrt:Xg}),Zs=Zg({a:BigInt(0),b:BigInt(7),Fp:es,n:mi,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=mi,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Yg*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,a=BigInt("0x100000000000000000000000000000000"),i=yi(s*e,t),c=yi(-r*e,t);let u=Ce(e-i*n-c*o,t),d=Ce(-i*r-c*s,t);const l=u>a,p=d>a;if(l&&(u=t-u),p&&(d=t-d),u>a||d>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:u,k2neg:p,k2:d}}}},yp);BigInt(0);Zs.ProjectivePoint;const Qg=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Zs},Symbol.toStringTag,{value:"Module"}));function Jg({r:e,s:t,to:n="hex",v:r,yParity:o}){const s=(()=>{if(o===0||o===1)return o;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new Zs.Signature(Pt(e),Pt(t)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?a:dr(a)}async function Ys(e,t){var l,p,g;const{address:n,factory:r,factoryData:o,hash:s,signature:a,universalSignatureVerifierAddress:i=(g=(p=(l=e.chain)==null?void 0:l.contracts)==null?void 0:p.universalSignatureVerifier)==null?void 0:g.address,...c}=t,u=hn(a)?a:typeof a=="object"&&"r"in a&&"s"in a?Jg(a):Ne(a),d=await(async()=>!r&&!o||ig(u)?u:cg({address:r,data:o,signature:u}))();try{const w=i?{to:i,data:ot({abi:Qa,functionName:"isValidSig",args:[n,s,d]}),...c}:{data:xr({abi:Qa,args:[n,s,d],bytecode:ey}),...c},{data:m}=await W(e,Ir,"call")(w);return gp(m??"0x0")}catch(w){try{if($s(bs(n),await uc({hash:s,signature:a})))return!0}catch{}if(w instanceof Dc)return!1;throw w}}async function e0(e,{address:t,message:n,factory:r,factoryData:o,signature:s,...a}){const i=Qc(n);return Ys(e,{address:t,factory:r,factoryData:o,hash:i,signature:s,...a})}async function t0(e,t){const{address:n,factory:r,factoryData:o,signature:s,message:a,primaryType:i,types:c,domain:u,...d}=t,l=Jy({message:a,primaryType:i,types:c,domain:u});return Ys(e,{address:n,factory:r,factoryData:o,hash:l,signature:s,...d})}async function n0(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}function r0(e,t){const{abi:n,address:r,args:o,batch:s=!0,eventName:a,fromBlock:i,onError:c,onLogs:u,poll:d,pollingInterval:l=e.pollingInterval,strict:p}=t;return(typeof d<"u"?d:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const y=p??!1,b=We(["watchContractEvent",r,o,s,e.uid,a,l,y,i]);return ft(b,{onLogs:u,onError:c},v=>{let x;i!==void 0&&(x=i-1n);let C,I=!1;const N=An(async()=>{var E;if(!I){try{C=await W(e,zc,"createContractEventFilter")({abi:n,address:r,args:o,eventName:a,strict:y,fromBlock:i})}catch{}I=!0;return}try{let P;if(C)P=await W(e,Ar,"getFilterChanges")({filter:C});else{const T=await W(e,Nn,"getBlockNumber")({});x&&x<T?P=await W(e,Uc,"getContractEvents")({abi:n,address:r,args:o,eventName:a,fromBlock:x+1n,toBlock:T,strict:y}):P=[],x=T}if(P.length===0)return;if(s)v.onLogs(P);else for(const T of P)v.onLogs([T])}catch(P){C&&P instanceof qi&&(I=!1),(E=v.onError)==null||E.call(v,P)}},{emitOnBegin:!0,interval:l});return async()=>{C&&await W(e,Rr,"uninstallFilter")({filter:C}),N()}})})():(()=>{const y=p??!1,b=We(["watchContractEvent",r,o,s,e.uid,a,l,y]);let v=!0,x=()=>v=!1;return ft(b,{onLogs:u,onError:c},C=>((async()=>{try{const I=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(T=>T.config.type==="webSocket");return P?P.value:e.transport}return e.transport})(),N=a?In({abi:n,eventName:a,args:o}):[],{unsubscribe:E}=await I.subscribe({params:["logs",{address:r,topics:N}],onData(P){var k;if(!v)return;const T=P.result;try{const{eventName:_,args:O}=Ls({abi:n,data:T.data,topics:T.topics,strict:p}),$=It(T,{args:O,eventName:_});C.onLogs([$])}catch(_){let O,$;if(_ instanceof yn||_ instanceof vr){if(p)return;O=_.abiItem.name,$=(k=_.abiItem.inputs)==null?void 0:k.some(R=>!("name"in R&&R.name))}const S=It(T,{args:$?[]:{},eventName:O});C.onLogs([S])}},onError(P){var T;(T=C.onError)==null||T.call(C,P)}});x=E,v||x()}catch(I){c==null||c(I)}})(),()=>x()))})()}async function o0(e,t){const{abi:n,account:r=e.account,address:o,args:s,dataSuffix:a,functionName:i,...c}=t;if(typeof r>"u")throw new Sn({docsPath:"/docs/contract/writeContract"});const u=r?Te(r):null,d=ot({abi:n,args:s,functionName:i});try{return await W(e,js,"sendTransaction")({data:`${d}${a?a.replace("0x",""):""}`,to:o,account:u,...c})}catch(l){throw qt(l,{abi:n,address:o,args:s,docsPath:"/docs/contract/writeContract",functionName:i,sender:u==null?void 0:u.address})}}async function s0(e,t){var r;let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new bp;try{e.setState(a=>({...a,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const o=await n.connect({chainId:t.chainId}),s=o.accounts;return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await((r=e.storage)==null?void 0:r.setItem("recentConnectorId",n.id)),e.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:s,chainId:o.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:s,chainId:o.chainId}}catch(o){throw e.setState(s=>({...s,status:s.current?"connected":"disconnected"})),o}}function a0(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:o}=t;return({retryCount:s})=>wp({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??s,retryDelay:o,type:"custom"})}function i0(e){var l,p,g;const{scheme:t,statement:n,...r}=((l=e.match(c0))==null?void 0:l.groups)??{},{chainId:o,expirationTime:s,issuedAt:a,notBefore:i,requestId:c,...u}=((p=e.match(u0))==null?void 0:p.groups)??{},d=(g=e.split("Resources:")[1])==null?void 0:g.split(`
- `).slice(1);return{...r,...u,...o?{chainId:Number(o)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const c0=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,u0=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function l0(e){const{address:t,domain:n,message:r,nonce:o,scheme:s,time:a=new Date}=e;if(n&&r.domain!==n||o&&r.nonce!==o||s&&r.scheme!==s||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||t&&!$s(r.address,t))return!1}catch{return!1}return!0}async function d0(e,t){const{address:n,domain:r,message:o,nonce:s,scheme:a,signature:i,time:c=new Date,...u}=t,d=i0(o);if(!d.address||!l0({address:n,domain:r,message:d,nonce:s,scheme:a,time:c}))return!1;const p=Qc(o);return Ys(e,{address:d.address,hash:p,signature:i,...u})}function f0(e){return{call:t=>Ir(e,t),createBlockFilter:()=>Sy(e),createContractEventFilter:t=>zc(e,t),createEventFilter:t=>Wc(e,t),createPendingTransactionFilter:()=>Hc(e),estimateContractGas:t=>Ty(e,t),estimateGas:t=>Ms(e,t),getBalance:t=>mc(e,t),getBlobBaseFee:()=>Py(e),getBlock:t=>Xe(e,t),getBlockNumber:t=>Nn(e,t),getBlockTransactionCount:t=>_y(e,t),getBytecode:t=>si(e,t),getChainId:()=>Tn(e),getCode:t=>si(e,t),getContractEvents:t=>Uc(e,t),getEip712Domain:t=>Dy(e,t),getEnsAddress:t=>iy(e,t),getEnsAvatar:t=>vy(e,t),getEnsName:t=>xy(e,t),getEnsResolver:t=>Cy(e,t),getEnsText:t=>Lc(e,t),getFeeHistory:t=>$y(e,t),estimateFeesPerGas:t=>kh(e,t),getFilterChanges:t=>Ar(e,t),getFilterLogs:t=>Ly(e,t),getGasPrice:()=>Rs(e),getLogs:t=>Ws(e,t),getProof:t=>dg(e,t),estimateMaxPriorityFeePerGas:t=>jh(e,t),getStorageAt:t=>zy(e,t),getTransaction:t=>Hs(e,t),getTransactionConfirmations:t=>Wy(e,t),getTransactionCount:t=>yc(e,t),getTransactionReceipt:t=>Zo(e,t),multicall:t=>Hy(e,t),prepareTransactionRequest:t=>Sr(e,t),readContract:t=>rt(e,t),sendRawTransaction:t=>_s(e,t),simulateContract:t=>bg(e,t),verifyMessage:t=>e0(e,t),verifySiweMessage:t=>d0(e,t),verifyTypedData:t=>t0(e,t),uninstallFilter:t=>Rr(e,t),waitForTransactionReceipt:t=>fg(e,t),watchBlocks:t=>qy(e,t),watchBlockNumber:t=>qc(e,t),watchContractEvent:t=>r0(e,t),watchEvent:t=>Vy(e,t),watchPendingTransactions:t=>Gy(e,t)}}function p0(e){return{addChain:t=>rh(e,t),deployContract:t=>zh(e,t),getAddresses:()=>Ky(e),getChainId:()=>Tn(e),getPermissions:()=>Zy(e),prepareTransactionRequest:t=>Sr(e,t),requestAddresses:()=>pg(e),requestPermissions:t=>hg(e,t),sendRawTransaction:t=>_s(e,t),sendTransaction:t=>js(e,t),signMessage:t=>yg(e,t),signTransaction:t=>mg(e,t),signTypedData:t=>gg(e,t),switchChain:t=>wg(e,t),watchAsset:t=>n0(e,t),writeContract:t=>o0(e,t)}}const h0="0x0000000000000000000000000000000000000000";async function m0(e,t={}){let n;if(t.connector){const{connector:u}=t;if(e.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new vp({connector:u});const[d,l]=await Promise.all([u.getAccounts(),u.getChainId()]);n={accounts:d,chainId:l,connector:u}}else n=e.state.connections.get(e.state.current);if(!n)throw new xp;const r=t.chainId??n.chainId,o=await n.connector.getChainId();if(o!==n.chainId)throw new Cp({connectionChainId:n.chainId,connectorChainId:o});const s=n.connector;if(s.getClient)return s.getClient({chainId:r});const a=Te(t.account??n.accounts[0]);if(a.address=bs(a.address),t.account&&!n.accounts.some(u=>u.toLowerCase()===a.address.toLowerCase()))throw new Sp({address:a.address,connector:s});const i=e.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});return Ep({account:a,chain:i,name:"Connector Client",transport:u=>a0(c)({...u,retryCount:0})})}async function nr(e,t={}){var o,s;let n;if(t.connector)n=t.connector;else{const{connections:a,current:i}=e.state,c=a.get(i);n=c==null?void 0:c.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(a=>{if(r.size===0)return{...a,connections:new Map,current:null,status:"disconnected"};const i=r.values().next().value;return{...a,connections:new Map(r),current:i.connector.uid}});{const a=e.state.current;if(!a)return;const i=(o=e.state.connections.get(a))==null?void 0:o.connector;if(!i)return;await((s=e.storage)==null?void 0:s.setItem("recentConnectorId",i.id))}}function lu(e){const t=e.state.current,n=e.state.connections.get(t),r=n==null?void 0:n.accounts,o=r==null?void 0:r[0],s=e.chains.find(i=>i.id===(n==null?void 0:n.chainId)),a=e.state.status;switch(a){case"connected":return{address:o,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:a};case"reconnecting":return{address:o,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!!o,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:a};case"connecting":return{address:o,addresses:r,chain:s,chainId:n==null?void 0:n.chainId,connector:n==null?void 0:n.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:a};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:a}}}function gi(e){return e.state.chainId}function Yt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Yt(e[r],t[r]))return!1;return!0}if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const o=Object.keys(e);if(n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(s&&!Yt(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}let uo=[];function bi(e){const t=e.chains;return Yt(uo,t)?uo:(uo=t,t)}function y0(e,t={}){let n;try{n=e.getClient(t)}catch{}return n}let lo=[];function wi(e){const t=e.connectors;return Yt(lo,t)?lo:(lo=t,t)}function ts(e,t={}){const n=y0(e,t);return n==null?void 0:n.extend(f0)}async function g0(e,t={}){return(await m0(e,t)).extend(p0)}async function b0(e,t){var a;const{addEthereumChainParameter:n,chainId:r}=t,o=e.state.connections.get(((a=t.connector)==null?void 0:a.uid)??e.state.current);if(o){const i=o.connector;if(!i.switchChain)throw new Tp({connector:i});return await i.switchChain({addEthereumChainParameter:n,chainId:r})}const s=e.chains.find(i=>i.id===r);if(!s)throw new Pp;return e.setState(i=>({...i,chainId:r})),s}function du(e,t){const{onChange:n}=t;return e.subscribe(()=>lu(e),n,{equalityFn(r,o){const{connector:s,...a}=r,{connector:i,...c}=o;return Yt(a,c)&&(s==null?void 0:s.id)===(i==null?void 0:i.id)&&(s==null?void 0:s.uid)===(i==null?void 0:i.uid)}})}function w0(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function v0(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,o)=>{n(Object.values(r),o)})}function x0(e,t){const{onChange:n}=t;return e.subscribe(()=>ts(e),n,{equalityFn(r,o){return(r==null?void 0:r.uid)===(o==null?void 0:o.uid)}})}const C0="2.12.25",S0=()=>`wagmi@${C0}`;class E0 extends Ip{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return S0()}}class T0 extends E0{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Me(e={}){const t=e.config??h.useContext(Np);if(!t)throw new T0;return t}function P0(e,t){const{onChange:n}=t;return e._internal.chains.subscribe((r,o)=>{n(r,o)})}var fu={exports:{}},pu={},hu={exports:{}},mu={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=h;function I0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var N0=typeof Object.is=="function"?Object.is:I0,A0=Xt.useState,R0=Xt.useEffect,M0=Xt.useLayoutEffect,_0=Xt.useDebugValue;function j0(e,t){var n=t(),r=A0({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return M0(function(){o.value=n,o.getSnapshot=t,fo(o)&&s({inst:o})},[e,n,t]),R0(function(){return fo(o)&&s({inst:o}),e(function(){fo(o)&&s({inst:o})})},[e]),_0(n),n}function fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!N0(e,n)}catch{return!0}}function k0(e,t){return t()}var O0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k0:j0;mu.useSyncExternalStore=Xt.useSyncExternalStore!==void 0?Xt.useSyncExternalStore:O0;hu.exports=mu;var D0=hu.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jr=h,F0=D0;function B0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $0=typeof Object.is=="function"?Object.is:B0,L0=F0.useSyncExternalStore,z0=jr.useRef,W0=jr.useEffect,H0=jr.useMemo,U0=jr.useDebugValue;pu.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=z0(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=H0(function(){function c(g){if(!u){if(u=!0,d=g,g=r(g),o!==void 0&&a.hasValue){var w=a.value;if(o(w,g))return l=w}return l=g}if(w=l,$0(d,g))return w;var m=r(g);return o!==void 0&&o(w,m)?w:(d=g,l=m)}var u=!1,d,l,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var i=L0(e,s[0],s[1]);return W0(function(){a.hasValue=!0,a.value=i},[i]),U0(i),i};fu.exports=pu;var yu=fu.exports;const po=e=>typeof e=="object"&&!Array.isArray(e);function q0(e,t,n=t,r=Yt){const o=h.useRef([]),s=yu.useSyncExternalStoreWithSelector(e,t,n,a=>a,(a,i)=>{if(po(a)&&po(i)&&o.current.length){for(const c of o.current)if(!r(a[c],i[c]))return!1;return!0}return r(a,i)});return h.useMemo(()=>{if(po(s)){const a={...s};let i={};for(const[c,u]of Object.entries(a))i={...i,[c]:{configurable:!1,enumerable:!0,get:()=>(o.current.includes(c)||o.current.push(c),u)}};return Object.defineProperties(a,i),a}return s},[s])}function kr(e={}){const t=Me(e);return q0(n=>du(t,{onChange:n}),()=>lu(t))}function V0(e={}){const{onConnect:t,onDisconnect:n}=e,r=Me(e);h.useEffect(()=>du(r,{onChange(o,s){if((s.status==="reconnecting"||s.status==="connecting"&&s.address===void 0)&&o.status==="connected"){const{address:a,addresses:i,chain:c,chainId:u,connector:d}=o,l=s.status==="reconnecting"||s.status===void 0;t==null||t({address:a,addresses:i,chain:c,chainId:u,connector:d,isReconnected:l})}else s.status==="connected"&&o.status==="disconnected"&&(n==null||n())}}),[r,t,n])}function G0(e){return JSON.stringify(e,(t,n)=>K0(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):typeof n=="bigint"?n.toString():n)}function K0(e){if(!vi(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!vi(n)||!n.hasOwnProperty("isPrototypeOf"))}function vi(e){return Object.prototype.toString.call(e)==="[object Object]"}function Z0(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:o,initialDataUpdatedAt:s,maxPages:a,meta:i,networkMode:c,queryFn:u,queryHash:d,queryKey:l,queryKeyHashFn:p,retry:g,retryDelay:w,structuralSharing:m,getPreviousPageParam:y,getNextPageParam:b,initialPageParam:v,_optimisticResults:x,enabled:C,notifyOnChangeProps:I,placeholderData:N,refetchInterval:E,refetchIntervalInBackground:P,refetchOnMount:T,refetchOnReconnect:k,refetchOnWindowFocus:_,retryOnMount:O,select:$,staleTime:S,suspense:R,throwOnError:A,config:D,connector:B,query:j,...H}=e;return H}function Y0(e){return{mutationFn(t){return s0(e,t)},mutationKey:["connect"]}}function X0(e,t={}){return{gcTime:0,async queryFn({queryKey:n}){const{connector:r}=t,{connectorUid:o,scopeKey:s,...a}=n[1];return g0(e,{...a,connector:r})},queryKey:Q0(t)}}function Q0(e={}){const{connector:t,...n}=e;return["walletClient",{...Z0(n),connectorUid:t==null?void 0:t.uid}]}function J0(e){return{mutationFn(t){return b0(e,t)},mutationKey:["switchChain"]}}function eb(e){const t=sc({...e,queryKeyHashFn:G0});return t.queryKey=e.queryKey,t}function tb(e={}){const t=Me(e);return h.useSyncExternalStore(n=>w0(t,{onChange:n}),()=>gi(t),()=>gi(t))}function nb(e={}){const t=Me(e);return h.useSyncExternalStore(n=>P0(t,{onChange:n}),()=>bi(t),()=>bi(t))}function rb(e={}){const t=Me(e);return h.useSyncExternalStore(n=>v0(t,{onChange:n}),()=>wi(t),()=>wi(t))}function ob(e={}){const{mutation:t}=e,n=Me(e),r=Y0(n),{mutate:o,mutateAsync:s,...a}=Ss({...t,...r});return h.useEffect(()=>n.subscribe(({status:i})=>i,(i,c)=>{c==="connected"&&i==="disconnected"&&a.reset()}),[n,a.reset]),{...a,connect:o,connectAsync:s,connectors:rb({config:n})}}function sb(e={}){const t=Me(e);return yu.useSyncExternalStoreWithSelector(n=>x0(t,{onChange:n}),()=>ts(t,e),()=>ts(t,e),n=>n,(n,r)=>(n==null?void 0:n.uid)===(r==null?void 0:r.uid))}function ab(e={}){const{mutation:t}=e,n=Me(e),r=J0(n),{mutate:o,mutateAsync:s,...a}=Ss({...t,...r});return{...a,chains:nb({config:n}),switchChain:o,switchChainAsync:s}}function ib(e={}){const{query:t={},...n}=e,r=Me(n),o=ms(),{address:s,connector:a,status:i}=kr({config:r}),c=tb({config:r}),u=e.connector??a,{queryKey:d,...l}=X0(r,{...e,chainId:e.chainId??c,connector:e.connector??a}),p=!!((i==="connected"||i==="reconnecting"&&(u!=null&&u.getProvider))&&(t.enabled??!0)),g=h.useRef(s);return h.useEffect(()=>{const w=g.current;!s&&w?(o.removeQueries({queryKey:d}),g.current=void 0):s!==w&&(o.invalidateQueries({queryKey:d}),g.current=s)},[s,o]),eb({...t,...l,queryKey:d,enabled:p,staleTime:Number.POSITIVE_INFINITY})}function cb(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const{useRef:ub}=st;function le(e){const t=ub();return n=>{const r=e(n);return cb(t.current,r)?t.current:t.current=r}}const lb=1,db=1e6;let ho=0;function fb(){return ho=(ho+1)%Number.MAX_SAFE_INTEGER,ho.toString()}const mo=new Map,xi=e=>{if(mo.has(e))return;const t=setTimeout(()=>{mo.delete(e),pn({type:"REMOVE_TOAST",toastId:e})},db);mo.set(e,t)},pb=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lb)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?xi(n):e.toasts.forEach(r=>{xi(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},qn=[];let Vn={toasts:[]};function pn(e){Vn=pb(Vn,e),qn.forEach(t=>{t(Vn)})}function hb({...e}){const t=fb(),n=o=>pn({type:"UPDATE_TOAST",toast:{...o,id:t}}),r=()=>pn({type:"DISMISS_TOAST",toastId:t});return pn({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||r()}}}),{id:t,dismiss:r,update:n}}function gu(){const[e,t]=h.useState(Vn);return h.useEffect(()=>(qn.push(t),()=>{const n=qn.indexOf(t);n>-1&&qn.splice(n,1)}),[e]),{...e,toast:hb,dismiss:n=>pn({type:"DISMISS_TOAST",toastId:n})}}function mb(e,t=[]){let n=[];function r(s,a){const i=h.createContext(a),c=n.length;n=[...n,a];function u(l){const{scope:p,children:g,...w}=l,m=(p==null?void 0:p[e][c])||i,y=h.useMemo(()=>w,Object.values(w));return f.jsx(m.Provider,{value:y,children:g})}function d(l,p){const g=(p==null?void 0:p[e][c])||i,w=h.useContext(g);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${l}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const o=()=>{const s=n.map(a=>h.createContext(a));return function(i){const c=(i==null?void 0:i[e])||s;return h.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return o.scopeName=e,[r,yb(o,...t)]}function yb(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=r.reduce((i,{useScope:c,scopeName:u})=>{const l=c(s)[`__scope${u}`];return{...i,...l}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Or(e){const t=e+"CollectionProvider",[n,r]=mb(t),[o,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:w,children:m}=g,y=st.useRef(null),b=st.useRef(new Map).current;return f.jsx(o,{scope:w,itemMap:b,collectionRef:y,children:m})};a.displayName=t;const i=e+"CollectionSlot",c=st.forwardRef((g,w)=>{const{scope:m,children:y}=g,b=s(i,m),v=ne(w,b.collectionRef);return f.jsx(mn,{ref:v,children:y})});c.displayName=i;const u=e+"CollectionItemSlot",d="data-radix-collection-item",l=st.forwardRef((g,w)=>{const{scope:m,children:y,...b}=g,v=st.useRef(null),x=ne(w,v),C=s(u,m);return st.useEffect(()=>(C.itemMap.set(v,{ref:v,...b}),()=>void C.itemMap.delete(v))),f.jsx(mn,{[d]:"",ref:x,children:y})});l.displayName=u;function p(g){const w=s(e+"CollectionConsumer",g);return st.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((C,I)=>b.indexOf(C.ref.current)-b.indexOf(I.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:c,ItemSlot:l},p,r]}var Xs="ToastProvider",[Qs,gb,bb]=Or("Toast"),[bu,dC]=en("Toast",[bb]),[wb,Dr]=bu(Xs),wu=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:o="right",swipeThreshold:s=50,children:a}=e,[i,c]=h.useState(null),[u,d]=h.useState(0),l=h.useRef(!1),p=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Xs}\`. Expected non-empty \`string\`.`),f.jsx(Qs.Provider,{scope:t,children:f.jsx(wb,{scope:t,label:n,duration:r,swipeDirection:o,swipeThreshold:s,toastCount:u,viewport:i,onViewportChange:c,onToastAdd:h.useCallback(()=>d(g=>g+1),[]),onToastRemove:h.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:l,isClosePausedRef:p,children:a})})};wu.displayName=Xs;var vu="ToastViewport",vb=["F8"],ns="toast.viewportPause",rs="toast.viewportResume",xu=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=vb,label:o="Notifications ({hotkey})",...s}=e,a=Dr(vu,n),i=gb(n),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),l=h.useRef(null),p=ne(t,l,a.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=a.toastCount>0;h.useEffect(()=>{const y=b=>{var x;r.length!==0&&r.every(C=>b[C]||b.code===C)&&((x=l.current)==null||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),h.useEffect(()=>{const y=c.current,b=l.current;if(w&&y&&b){const v=()=>{if(!a.isClosePausedRef.current){const N=new CustomEvent(ns);b.dispatchEvent(N),a.isClosePausedRef.current=!0}},x=()=>{if(a.isClosePausedRef.current){const N=new CustomEvent(rs);b.dispatchEvent(N),a.isClosePausedRef.current=!1}},C=N=>{!y.contains(N.relatedTarget)&&x()},I=()=>{y.contains(document.activeElement)||x()};return y.addEventListener("focusin",v),y.addEventListener("focusout",C),y.addEventListener("pointermove",v),y.addEventListener("pointerleave",I),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{y.removeEventListener("focusin",v),y.removeEventListener("focusout",C),y.removeEventListener("pointermove",v),y.removeEventListener("pointerleave",I),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[w,a.isClosePausedRef]);const m=h.useCallback(({tabbingDirection:y})=>{const v=i().map(x=>{const C=x.ref.current,I=[C,...jb(C)];return y==="forwards"?I:I.reverse()});return(y==="forwards"?v.reverse():v).flat()},[i]);return h.useEffect(()=>{const y=l.current;if(y){const b=v=>{var I,N,E;const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const P=document.activeElement,T=v.shiftKey;if(v.target===y&&T){(I=u.current)==null||I.focus();return}const O=m({tabbingDirection:T?"backwards":"forwards"}),$=O.findIndex(S=>S===P);yo(O.slice($+1))?v.preventDefault():T?(N=u.current)==null||N.focus():(E=d.current)==null||E.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[i,m]),f.jsxs(Ap,{ref:c,role:"region","aria-label":o.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&f.jsx(os,{ref:u,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"forwards"});yo(y)}}),f.jsx(Qs.Slot,{scope:n,children:f.jsx(G.ol,{tabIndex:-1,...s,ref:p})}),w&&f.jsx(os,{ref:d,onFocusFromOutsideViewport:()=>{const y=m({tabbingDirection:"backwards"});yo(y)}})]})});xu.displayName=vu;var Cu="ToastFocusProxy",os=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,s=Dr(Cu,n);return f.jsx(ws,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:a=>{var u;const i=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(i))&&r()}})});os.displayName=Cu;var Fr="Toast",xb="toast.swipeStart",Cb="toast.swipeMove",Sb="toast.swipeCancel",Eb="toast.swipeEnd",Su=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:s,...a}=e,[i=!0,c]=Ut({prop:r,defaultProp:o,onChange:s});return f.jsx(Ae,{present:n||i,children:f.jsx(Ib,{open:i,...a,ref:t,onClose:()=>c(!1),onPause:he(e.onPause),onResume:he(e.onResume),onSwipeStart:F(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:F(e.onSwipeMove,u=>{const{x:d,y:l}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${l}px`)}),onSwipeCancel:F(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:F(e.onSwipeEnd,u=>{const{x:d,y:l}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${l}px`),c(!1)})})})});Su.displayName=Fr;var[Tb,Pb]=bu(Fr,{onClose(){}}),Ib=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:o,open:s,onClose:a,onEscapeKeyDown:i,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:l,onSwipeCancel:p,onSwipeEnd:g,...w}=e,m=Dr(Fr,n),[y,b]=h.useState(null),v=ne(t,S=>b(S)),x=h.useRef(null),C=h.useRef(null),I=o||m.duration,N=h.useRef(0),E=h.useRef(I),P=h.useRef(0),{onToastAdd:T,onToastRemove:k}=m,_=he(()=>{var R;(y==null?void 0:y.contains(document.activeElement))&&((R=m.viewport)==null||R.focus()),a()}),O=h.useCallback(S=>{!S||S===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(_,S))},[_]);h.useEffect(()=>{const S=m.viewport;if(S){const R=()=>{O(E.current),u==null||u()},A=()=>{const D=new Date().getTime()-N.current;E.current=E.current-D,window.clearTimeout(P.current),c==null||c()};return S.addEventListener(ns,A),S.addEventListener(rs,R),()=>{S.removeEventListener(ns,A),S.removeEventListener(rs,R)}}},[m.viewport,I,c,u,O]),h.useEffect(()=>{s&&!m.isClosePausedRef.current&&O(I)},[s,I,m.isClosePausedRef,O]),h.useEffect(()=>(T(),()=>k()),[T,k]);const $=h.useMemo(()=>y?Ru(y):null,[y]);return m.viewport?f.jsxs(f.Fragment,{children:[$&&f.jsx(Nb,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),f.jsx(Tb,{scope:n,onClose:_,children:vs.createPortal(f.jsx(Qs.ItemSlot,{scope:n,children:f.jsx(Rp,{asChild:!0,onEscapeKeyDown:F(i,()=>{m.isFocusedToastEscapeKeyDownRef.current||_(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(G.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:F(e.onKeyDown,S=>{S.key==="Escape"&&(i==null||i(S.nativeEvent),S.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:F(e.onPointerDown,S=>{S.button===0&&(x.current={x:S.clientX,y:S.clientY})}),onPointerMove:F(e.onPointerMove,S=>{if(!x.current)return;const R=S.clientX-x.current.x,A=S.clientY-x.current.y,D=!!C.current,B=["left","right"].includes(m.swipeDirection),j=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,H=B?j(0,R):0,K=B?0:j(0,A),re=S.pointerType==="touch"?10:2,ae={x:H,y:K},ie={originalEvent:S,delta:ae};D?(C.current=ae,Dn(Cb,l,ie,{discrete:!1})):Ci(ae,m.swipeDirection,re)?(C.current=ae,Dn(xb,d,ie,{discrete:!1}),S.target.setPointerCapture(S.pointerId)):(Math.abs(R)>re||Math.abs(A)>re)&&(x.current=null)}),onPointerUp:F(e.onPointerUp,S=>{const R=C.current,A=S.target;if(A.hasPointerCapture(S.pointerId)&&A.releasePointerCapture(S.pointerId),C.current=null,x.current=null,R){const D=S.currentTarget,B={originalEvent:S,delta:R};Ci(R,m.swipeDirection,m.swipeThreshold)?Dn(Eb,g,B,{discrete:!0}):Dn(Sb,p,B,{discrete:!0}),D.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Nb=e=>{const{__scopeToast:t,children:n,...r}=e,o=Dr(Fr,t),[s,a]=h.useState(!1),[i,c]=h.useState(!1);return Mb(()=>a(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),i?null:f.jsx(yr,{asChild:!0,children:f.jsx(ws,{...r,children:s&&f.jsxs(f.Fragment,{children:[o.label," ",n]})})})},Ab="ToastTitle",Eu=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.jsx(G.div,{...r,ref:t})});Eu.displayName=Ab;var Rb="ToastDescription",Tu=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return f.jsx(G.div,{...r,ref:t})});Tu.displayName=Rb;var Pu="ToastAction",Iu=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?f.jsx(Au,{altText:n,asChild:!0,children:f.jsx(Js,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Pu}\`. Expected non-empty \`string\`.`),null)});Iu.displayName=Pu;var Nu="ToastClose",Js=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,o=Pb(Nu,n);return f.jsx(Au,{asChild:!0,children:f.jsx(G.button,{type:"button",...r,ref:t,onClick:F(e.onClick,o.onClose)})})});Js.displayName=Nu;var Au=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return f.jsx(G.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})});function Ru(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),_b(r)){const o=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!o)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...Ru(r))}}),t}function Dn(e,t,n,{discrete:r}){const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Vi(o,s):o.dispatchEvent(s)}var Ci=(e,t,n=0)=>{const r=Math.abs(e.x),o=Math.abs(e.y),s=r>o;return t==="left"||t==="right"?s&&r>n:!s&&o>n};function Mb(e=()=>{}){const t=he(e);He(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function _b(e){return e.nodeType===e.ELEMENT_NODE}function jb(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yo(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var kb=wu,Mu=xu,_u=Su,ju=Eu,ku=Tu,Ou=Iu,Du=Js;/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fu=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Db={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:a,...i},c)=>h.createElement("svg",{ref:c,...Db,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Fu("lucide",o),...i},[...a.map(([u,d])=>h.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const n=h.forwardRef(({className:r,...o},s)=>h.createElement(Fb,{ref:s,iconNode:t,className:Fu(`lucide-${Ob(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=_e("CircleArrowLeft",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=_e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Hb=kb,Uu=h.forwardRef(({className:e,...t},n)=>f.jsx(Mu,{ref:n,className:q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Uu.displayName=Mu.displayName;const Ub=Mp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qu=h.forwardRef(({className:e,variant:t,...n},r)=>f.jsx(_u,{ref:r,className:q(Ub({variant:t}),e),...n}));qu.displayName=_u.displayName;const qb=h.forwardRef(({className:e,...t},n)=>f.jsx(Ou,{ref:n,className:q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));qb.displayName=Ou.displayName;const Vu=h.forwardRef(({className:e,...t},n)=>f.jsx(Du,{ref:n,className:q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(Hu,{className:"h-4 w-4"})}));Vu.displayName=Du.displayName;const Gu=h.forwardRef(({className:e,...t},n)=>f.jsx(ju,{ref:n,className:q("text-sm font-semibold",e),...t}));Gu.displayName=ju.displayName;const Ku=h.forwardRef(({className:e,...t},n)=>f.jsx(ku,{ref:n,className:q("text-sm opacity-90",e),...t}));Ku.displayName=ku.displayName;function Vb(){const{toasts:e}=gu();return f.jsxs(Hb,{children:[e.map(function({id:t,title:n,description:r,action:o,...s}){return f.jsxs(qu,{...s,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(Gu,{children:n}),r&&f.jsx(Ku,{children:r})]}),o,f.jsx(Vu,{})]},t)}),f.jsx(Uu,{})]})}const Gb=({handleBack:e})=>f.jsx("div",{className:"flex justify-between p-2",children:f.jsxs("div",{className:"flex gap-2 items-center",children:[f.jsx(ge,{size:"icon",className:"px-2 h-7",variant:"outline","aria-label":"back to search results",onClick:e,children:f.jsx(Lb,{})}),f.jsx("h2",{className:q("text-lg font-bold text-left"),children:"Cart"})]})}),Kb=e=>typeof e=="string"||Array.isArray(e)?e.toString():"",Zu=e=>{if(!e)throw new Error("Name Token is not provided");return`${e.sld}${e!=null&&e.eoi?"*":"."}${e.tld}`};function Zb(e="",t=4,n=4){return typeof e=="string"&&(e==null?void 0:e.length)>10?`${e.slice(0,t)}...${e.slice(-n)}`:e}function Yb(e,t){return e.filter(r=>!t.find(o=>o.sld===r.sld&&r.tld===o.tld)).filter(r=>(r==null?void 0:r.status)==="available")}const go=({amount:e,config:t,localeCode:n,shouldOverrideMinimumFraction:r=!0,showCompactPrice:o=!1})=>{const s="N/A";try{const a=Number(e);if(!a||Number.isNaN(a))return s;const i=n??(navigator==null?void 0:navigator.language),c=Number.isInteger(a)?0:2,l={...t??{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2},...r&&{minimumFractionDigits:c},...o&&{notation:"compact"}},g=new Intl.NumberFormat(i,l).formatToParts(a);if(o){const m=new Intl.NumberFormat("en-US",l).formatToParts(a).find(y=>y.type==="compact");if(m){const y=g.findIndex(b=>b.type==="compact");y!==-1&&(g[y]=m)}}return g.map(w=>w.value).join("")}catch(a){return console.log(a),s}},Si=({amount:e,localeCode:t,showCurrencySymbol:n=!1})=>{try{const r=Number(e),o=t??(navigator==null?void 0:navigator.language),a={...n?Mo:Gi,minimumFractionDigits:2,maximumFractionDigits:2};return new Intl.NumberFormat(o,a).format(r)}catch(r){return console.log(r),"N/A"}},bo=({usdPrice:e})=>e?f.jsxs("span",{children:["< ",Si({amount:.01,localeCode:navigator==null?void 0:navigator.language,showCurrencySymbol:!0})]}):f.jsxs(f.Fragment,{children:["<",f.jsx("span",{className:"notranslate",children:Si({amount:.01,localeCode:navigator==null?void 0:navigator.language,showCurrencySymbol:e})})]}),Yu=({domain:e,isDomainLocked:t})=>{const{usdPrice:n,nativeAmount:r}=e||{},o=Number(n),s=Number(r);return t?f.jsx("div",{className:"flex items-end",children:f.jsx("p",{className:"mb-0",children:"Unavailable"})}):f.jsx("div",{className:Ze("flex items-end flex-col"),children:s?f.jsxs(f.Fragment,{children:[f.jsx("strong",{children:s<Jr?f.jsx(bo,{usdPrice:!1}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"notranslate",children:go({amount:s??0,config:Gi,localeCode:navigator==null?void 0:navigator.language,showCompactPrice:!0})}),f.jsxs("span",{children:["",e==null?void 0:e.nativeCurrency]})]})}),f.jsxs("span",{"data-testid":"card-buy-now-price",className:Ze("mb-0"),children:[o<Jr?f.jsx(bo,{usdPrice:!0}):go({amount:o??0,config:Mo,localeCode:navigator==null?void 0:navigator.language,showCompactPrice:!0}),f.jsx("span",{children:"/yr"})]})]}):f.jsx("strong",{"data-testid":"card-buy-now-price",className:Ze("mb-0"),children:f.jsxs("span",{children:[o<Jr?f.jsx(bo,{usdPrice:!0}):go({amount:o??0,config:Mo,localeCode:navigator==null?void 0:navigator.language,showCompactPrice:!0}),f.jsx("span",{children:"/yr"})]})})})},ta=h.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:q("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ta.displayName="Card";const Xb=h.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:q("flex flex-col space-y-1.5 p-6",e),...t}));Xb.displayName="CardHeader";const Qb=h.forwardRef(({className:e,...t},n)=>f.jsx("p",{ref:n,className:q("text-sm text-muted-foreground",e),...t}));Qb.displayName="CardDescription";const na=h.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:q("p-6 pt-0",e),...t}));na.displayName="CardContent";const Jb=h.forwardRef(({className:e,...t},n)=>f.jsx("div",{ref:n,className:q("flex items-center p-6 pt-0",e),...t}));Jb.displayName="CardFooter";const ew=({cartItem:e,handleCartAction:t,disabled:n})=>{var o;const r=((o=e==null?void 0:e.status)==null?void 0:o.toLowerCase())==="available";return f.jsx(ta,{className:"drop-shadow-lg border-none rounded-xl w-full relative",children:f.jsx(na,{className:"grid px-3 py-2",children:f.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[f.jsx("div",{className:"flex-1 space-y-1",children:f.jsx("p",{className:"text-lg font-semibold text-left break-all",children:Zu({sld:e.sld,tld:e.tld,eoi:!0})})}),f.jsx(Yu,{domain:e,isDomainLocked:!r}),f.jsx(ge,{size:"icon","aria-label":"remove item from cart",title:"Remove cart item",variant:"link",className:"absolute -right-4 -top-2 p-0 h-5 border-none outline-none bg-transparent",onClick:()=>t(e),disabled:n,children:f.jsx(Lu,{size:20})})]})})})};var tw=h.createContext(void 0);function Br(e){const t=h.useContext(tw);return e||t||"ltr"}function ss(e,[t,n]){return Math.min(n,Math.max(t,e))}function nw(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var ra="ScrollArea",[Xu,fC]=en(ra),[rw,je]=Xu(ra),Qu=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:s=600,...a}=e,[i,c]=h.useState(null),[u,d]=h.useState(null),[l,p]=h.useState(null),[g,w]=h.useState(null),[m,y]=h.useState(null),[b,v]=h.useState(0),[x,C]=h.useState(0),[I,N]=h.useState(!1),[E,P]=h.useState(!1),T=ne(t,_=>c(_)),k=Br(o);return f.jsx(rw,{scope:n,type:r,dir:k,scrollHideDelay:s,scrollArea:i,viewport:u,onViewportChange:d,content:l,onContentChange:p,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:I,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:y,scrollbarYEnabled:E,onScrollbarYEnabledChange:P,onCornerWidthChange:v,onCornerHeightChange:C,children:f.jsx(G.div,{dir:k,...a,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":x+"px",...e.style}})})});Qu.displayName=ra;var Ju="ScrollAreaViewport",el=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,asChild:o,nonce:s,...a}=e,i=je(Ju,n),c=h.useRef(null),u=ne(t,c,i.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),f.jsx(G.div,{"data-radix-scroll-area-viewport":"",...a,asChild:o,ref:u,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:pw({asChild:o,children:r},d=>f.jsx("div",{"data-radix-scroll-area-content":"",ref:i.onContentChange,style:{minWidth:i.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});el.displayName=Ju;var Ue="ScrollAreaScrollbar",oa=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=je(Ue,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=o,i=e.orientation==="horizontal";return h.useEffect(()=>(i?s(!0):a(!0),()=>{i?s(!1):a(!1)}),[i,s,a]),o.type==="hover"?f.jsx(ow,{...r,ref:t,forceMount:n}):o.type==="scroll"?f.jsx(sw,{...r,ref:t,forceMount:n}):o.type==="auto"?f.jsx(tl,{...r,ref:t,forceMount:n}):o.type==="always"?f.jsx(sa,{...r,ref:t}):null});oa.displayName=Ue;var ow=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=je(Ue,e.__scopeScrollArea),[s,a]=h.useState(!1);return h.useEffect(()=>{const i=o.scrollArea;let c=0;if(i){const u=()=>{window.clearTimeout(c),a(!0)},d=()=>{c=window.setTimeout(()=>a(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",u),i.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",u),i.removeEventListener("pointerleave",d)}}},[o.scrollArea,o.scrollHideDelay]),f.jsx(Ae,{present:n||s,children:f.jsx(tl,{"data-state":s?"visible":"hidden",...r,ref:t})})}),sw=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=je(Ue,e.__scopeScrollArea),s=e.orientation==="horizontal",a=Lr(()=>c("SCROLL_END"),100),[i,c]=nw("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(i==="idle"){const u=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[i,o.scrollHideDelay,c]),h.useEffect(()=>{const u=o.viewport,d=s?"scrollLeft":"scrollTop";if(u){let l=u[d];const p=()=>{const g=u[d];l!==g&&(c("SCROLL"),a()),l=g};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[o.viewport,s,c,a]),f.jsx(Ae,{present:n||i!=="hidden",children:f.jsx(sa,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:F(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:F(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),tl=h.forwardRef((e,t)=>{const n=je(Ue,e.__scopeScrollArea),{forceMount:r,...o}=e,[s,a]=h.useState(!1),i=e.orientation==="horizontal",c=Lr(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(i?u:d)}},10);return Qt(n.viewport,c),Qt(n.content,c),f.jsx(Ae,{present:r||s,children:f.jsx(sa,{"data-state":s?"visible":"hidden",...o,ref:t})})}),sa=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,o=je(Ue,e.__scopeScrollArea),s=h.useRef(null),a=h.useRef(0),[i,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=al(i.viewport,i.content),d={...r,sizes:i,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>s.current=p,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:p=>a.current=p};function l(p,g){return dw(p,a.current,i,g)}return n==="horizontal"?f.jsx(aw,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const p=o.viewport.scrollLeft,g=Ei(p,i,o.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollLeft=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollLeft=l(p,o.dir))}}):n==="vertical"?f.jsx(iw,{...d,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const p=o.viewport.scrollTop,g=Ei(p,i);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:p=>{o.viewport&&(o.viewport.scrollTop=p)},onDragScroll:p=>{o.viewport&&(o.viewport.scrollTop=l(p))}}):null}),aw=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=je(Ue,e.__scopeScrollArea),[a,i]=h.useState(),c=h.useRef(null),u=ne(t,c,s.onScrollbarXChange);return h.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),f.jsx(rl,{"data-orientation":"horizontal",...o,ref:u,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$r(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,l)=>{if(s.viewport){const p=s.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),cl(p,l)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:or(a.paddingLeft),paddingEnd:or(a.paddingRight)}})}})}),iw=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...o}=e,s=je(Ue,e.__scopeScrollArea),[a,i]=h.useState(),c=h.useRef(null),u=ne(t,c,s.onScrollbarYChange);return h.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),f.jsx(rl,{"data-orientation":"vertical",...o,ref:u,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$r(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,l)=>{if(s.viewport){const p=s.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),cl(p,l)&&d.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:or(a.paddingTop),paddingEnd:or(a.paddingBottom)}})}})}),[cw,nl]=Xu(Ue),rl=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:l,...p}=e,g=je(Ue,n),[w,m]=h.useState(null),y=ne(t,T=>m(T)),b=h.useRef(null),v=h.useRef(""),x=g.viewport,C=r.content-r.viewport,I=he(d),N=he(c),E=Lr(l,10);function P(T){if(b.current){const k=T.clientX-b.current.left,_=T.clientY-b.current.top;u({x:k,y:_})}}return h.useEffect(()=>{const T=k=>{const _=k.target;(w==null?void 0:w.contains(_))&&I(k,C)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[x,w,C,I]),h.useEffect(N,[r,N]),Qt(w,E),Qt(g.content,E),f.jsx(cw,{scope:n,scrollbar:w,hasThumb:o,onThumbChange:he(s),onThumbPointerUp:he(a),onThumbPositionChange:N,onThumbPointerDown:he(i),children:f.jsx(G.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:F(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),b.current=w.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),P(T))}),onPointerMove:F(e.onPointerMove,P),onPointerUp:F(e.onPointerUp,T=>{const k=T.target;k.hasPointerCapture(T.pointerId)&&k.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),b.current=null})})})}),rr="ScrollAreaThumb",ol=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,o=nl(rr,e.__scopeScrollArea);return f.jsx(Ae,{present:n||o.hasThumb,children:f.jsx(uw,{ref:t,...r})})}),uw=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...o}=e,s=je(rr,n),a=nl(rr,n),{onThumbPositionChange:i}=a,c=ne(t,l=>a.onThumbChange(l)),u=h.useRef(),d=Lr(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const l=s.viewport;if(l){const p=()=>{if(d(),!u.current){const g=fw(l,i);u.current=g,i()}};return i(),l.addEventListener("scroll",p),()=>l.removeEventListener("scroll",p)}},[s.viewport,d,i]),f.jsx(G.div,{"data-state":a.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:F(e.onPointerDownCapture,l=>{const g=l.target.getBoundingClientRect(),w=l.clientX-g.left,m=l.clientY-g.top;a.onThumbPointerDown({x:w,y:m})}),onPointerUp:F(e.onPointerUp,a.onThumbPointerUp)})});ol.displayName=rr;var aa="ScrollAreaCorner",sl=h.forwardRef((e,t)=>{const n=je(aa,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(lw,{...e,ref:t}):null});sl.displayName=aa;var lw=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,o=je(aa,n),[s,a]=h.useState(0),[i,c]=h.useState(0),u=!!(s&&i);return Qt(o.scrollbarX,()=>{var l;const d=((l=o.scrollbarX)==null?void 0:l.offsetHeight)||0;o.onCornerHeightChange(d),c(d)}),Qt(o.scrollbarY,()=>{var l;const d=((l=o.scrollbarY)==null?void 0:l.offsetWidth)||0;o.onCornerWidthChange(d),a(d)}),u?f.jsx(G.div,{...r,ref:t,style:{width:s,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function or(e){return e?parseInt(e,10):0}function al(e,t){const n=e/t;return isNaN(n)?0:n}function $r(e){const t=al(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function dw(e,t,n,r="ltr"){const o=$r(n),s=o/2,a=t||s,i=o-a,c=n.scrollbar.paddingStart+a,u=n.scrollbar.size-n.scrollbar.paddingEnd-i,d=n.content-n.viewport,l=r==="ltr"?[0,d]:[d*-1,0];return il([c,u],l)(e)}function Ei(e,t,n="ltr"){const r=$r(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,a=t.content-t.viewport,i=s-r,c=n==="ltr"?[0,a]:[a*-1,0],u=ss(e,c);return il([0,a],[0,i])(u)}function il(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function cl(e,t){return e>0&&e<t}var fw=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},a=n.left!==s.left,i=n.top!==s.top;(a||i)&&t(),n=s,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Lr(e,t){const n=he(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Qt(e,t){const n=he(t);He(()=>{let r=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(r),o.unobserve(e)}}},[e,n])}function pw(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const o=h.Children.only(r);return h.cloneElement(o,{children:typeof t=="function"?t(o.props.children):t})}var ul=Qu,hw=el,mw=sl;const ia=h.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(ul,{ref:r,className:q("relative overflow-hidden",e),...n,children:[f.jsx(hw,{className:"h-full w-full rounded-[inherit]",children:t}),f.jsx(ll,{}),f.jsx(mw,{})]}));ia.displayName=ul.displayName;const ll=h.forwardRef(({className:e,orientation:t="vertical",...n},r)=>f.jsx(oa,{ref:r,orientation:t,className:q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:f.jsx(ol,{className:"relative flex-1 rounded-full bg-border"})}));ll.displayName=oa.displayName;const ca=()=>{const e=Q(le(a=>a.cart)),t=Q(h.useCallback(a=>a.setCart,[])),n=h.useMemo(()=>{var a,i;return(a=e==null?void 0:e.items)!=null&&a.length?((i=e==null?void 0:e.items)==null?void 0:i.length)>=_p:!1},[e==null?void 0:e.items]),r=h.useCallback(a=>{var c;return(c=e.items)==null?void 0:c.find(u=>u.sld===a.sld&&u.tld===a.tld)},[e==null?void 0:e.items]),o=h.useCallback(async a=>{r(a)||t({items:[...(e==null?void 0:e.items)??[],a]})},[t,r,e==null?void 0:e.items]),s=h.useCallback(async a=>{var c;const i=(c=e==null?void 0:e.items)==null?void 0:c.filter(u=>(u==null?void 0:u.sld)+u.tld!==(a==null?void 0:a.sld)+(a==null?void 0:a.tld));t({items:i})},[t,e==null?void 0:e.items]);return{getIsItemInCart:r,handleAddToCart:o,handleRemoveFromCart:s,isCartLimitReached:n}},yw=({checkoutState:e,paymentOptionsError:t,startCheckoutOrder:n})=>{var r;return n.isError?f.jsx("p",{className:"text-xs text-red-600",children:(r=n.error)==null?void 0:r.message}):t?f.jsx("p",{className:"text-xs text-red-600",children:t.message}):f.jsx("p",{className:"text-xs text-red-600",children:e.feedback})};function gw({selectedPaymentMethod:e,checkoutState:t,handleStartCheckout:n,startCheckoutOrder:r,paymentOptions:o,isPaymentOptionsError:s,isPaymentOptionsLoading:a,paymentOptionsError:i,isSwitchNetworkInProgress:c}){var w,m,y,b;const u=Q(h.useCallback(v=>v.setWidgetSettings,[])),d=Q(le(v=>v.cart)),l=Q(le(v=>v.widgetConfig)),p=l!=null&&l.integrationMode?(l==null?void 0:l.integrationMode)===Ki.WALLET:!1,{handleRemoveFromCart:g}=ca();return(w=d==null?void 0:d.items)!=null&&w.length?(m=o==null?void 0:o.options)!=null&&m.length?f.jsxs("div",{id:"cart-items-container",className:q("flex flex-col flex-grow gap-3 overflow-auto pb-2"),children:[f.jsx(ia,{className:Ze("h-9/12 w-full px-2",p?"max-h-[335px]":"max-h-[385px]"),children:f.jsx("div",{id:"cart-items-container",className:q("flex flex-col flex-grow gap-y-4 py-3 pe-2"),children:(y=d.items)==null?void 0:y.map(v=>f.jsx(ew,{cartItem:v,handleCartAction:()=>g(v),disabled:s||a||r.isPending||t.isTransactionInProgress||c},v.tld+v.sld))})}),f.jsxs("div",{className:"flex flex-col gap-2 mt-auto px-1",children:[r.isError||t.isError||s?f.jsx(yw,{checkoutState:t,startCheckoutOrder:r,paymentOptionsError:i}):null,f.jsxs(ge,{disabled:!((b=d.items)!=null&&b.length)||!e||r.isPending||t.isTransactionInProgress||s||a||c,className:"rounded-xl bg-[linear-gradient(95deg,_#5744e6_4.29%,_#8936ea_99.74%)] mt-auto",onClick:n,children:[c||r.isPending||t!=null&&t.isTransactionInProgress||a?f.jsx(zu,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Buy Now"]})]})]}):f.jsxs("div",{className:"flex flex-col gap-3 items-center justify-center flex-grow px-2",children:[f.jsx("p",{className:"text-md",children:"No payment methods found for this checkout. Please try again"}),f.jsx(ge,{variant:"secondary",onClick:()=>u({isCartViewOpen:!1}),children:"Back to Search"})]}):f.jsxs("div",{className:"flex flex-col gap-3 items-center justify-center flex-grow px-2",children:[f.jsx("p",{className:"text-md",children:"Looks like you haven't added anything to your cart yet."}),f.jsx(ge,{variant:"secondary",onClick:()=>u({isCartViewOpen:!1}),children:"Back to Search"})]})}var wo=0;function ua(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ti()),document.body.insertAdjacentElement("beforeend",e[1]??Ti()),wo++,()=>{wo===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wo--}},[])}function Ti(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vo="focusScope.autoFocusOnMount",xo="focusScope.autoFocusOnUnmount",Pi={bubbles:!1,cancelable:!0},bw="FocusScope",zr=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...a}=e,[i,c]=h.useState(null),u=he(o),d=he(s),l=h.useRef(null),p=ne(t,m=>c(m)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let m=function(x){if(g.paused||!i)return;const C=x.target;i.contains(C)?l.current=C:at(l.current,{select:!0})},y=function(x){if(g.paused||!i)return;const C=x.relatedTarget;C!==null&&(i.contains(C)||at(l.current,{select:!0}))},b=function(x){if(document.activeElement===document.body)for(const I of x)I.removedNodes.length>0&&at(i)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const v=new MutationObserver(b);return i&&v.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),v.disconnect()}}},[r,i,g.paused]),h.useEffect(()=>{if(i){Ni.add(g);const m=document.activeElement;if(!i.contains(m)){const b=new CustomEvent(vo,Pi);i.addEventListener(vo,u),i.dispatchEvent(b),b.defaultPrevented||(ww(Ew(dl(i)),{select:!0}),document.activeElement===m&&at(i))}return()=>{i.removeEventListener(vo,u),setTimeout(()=>{const b=new CustomEvent(xo,Pi);i.addEventListener(xo,d),i.dispatchEvent(b),b.defaultPrevented||at(m??document.body,{select:!0}),i.removeEventListener(xo,d),Ni.remove(g)},0)}}},[i,u,d,g]);const w=h.useCallback(m=>{if(!n&&!r||g.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(y&&b){const v=m.currentTarget,[x,C]=vw(v);x&&C?!m.shiftKey&&b===C?(m.preventDefault(),n&&at(x,{select:!0})):m.shiftKey&&b===x&&(m.preventDefault(),n&&at(C,{select:!0})):b===v&&m.preventDefault()}},[n,r,g.paused]);return f.jsx(G.div,{tabIndex:-1,...a,ref:p,onKeyDown:w})});zr.displayName=bw;function ww(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(at(r,{select:t}),document.activeElement!==n)return}function vw(e){const t=dl(e),n=Ii(t,e),r=Ii(t.reverse(),e);return[n,r]}function dl(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ii(e,t){for(const n of e)if(!xw(n,{upTo:t}))return n}function xw(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Cw(e){return e instanceof HTMLInputElement&&"select"in e}function at(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Cw(e)&&t&&e.select()}}var Ni=Sw();function Sw(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Ai(e,t),e.unshift(t)},remove(t){var n;e=Ai(e,t),(n=e[0])==null||n.resume()}}}function Ai(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Ew(e){return e.filter(t=>t.tagName!=="A")}function Tw(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Pw=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},kt=new WeakMap,Fn=new WeakMap,Bn={},Co=0,fl=function(e){return e&&(e.host||fl(e.parentNode))},Iw=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=fl(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Nw=function(e,t,n,r){var o=Iw(t,Array.isArray(e)?e:[e]);Bn[n]||(Bn[n]=new WeakMap);var s=Bn[n],a=[],i=new Set,c=new Set(o),u=function(l){!l||i.has(l)||(i.add(l),u(l.parentNode))};o.forEach(u);var d=function(l){!l||c.has(l)||Array.prototype.forEach.call(l.children,function(p){if(i.has(p))d(p);else try{var g=p.getAttribute(r),w=g!==null&&g!=="false",m=(kt.get(p)||0)+1,y=(s.get(p)||0)+1;kt.set(p,m),s.set(p,y),a.push(p),m===1&&w&&Fn.set(p,!0),y===1&&p.setAttribute(n,"true"),w||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return d(t),i.clear(),Co++,function(){a.forEach(function(l){var p=kt.get(l)-1,g=s.get(l)-1;kt.set(l,p),s.set(l,g),p||(Fn.has(l)||l.removeAttribute(r),Fn.delete(l)),g||l.removeAttribute(n)}),Co--,Co||(kt=new WeakMap,kt=new WeakMap,Fn=new WeakMap,Bn={})}},la=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=Pw(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),Nw(r,o,n,"aria-hidden")):function(){return null}},Gn="right-scroll-bar-position",Kn="width-before-scroll-bar",Aw="with-scroll-bars-hidden",Rw="--removed-body-scroll-bar-size";function So(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mw(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var _w=typeof window<"u"?h.useLayoutEffect:h.useEffect,Ri=new WeakMap;function jw(e,t){var n=Mw(null,function(r){return e.forEach(function(o){return So(o,r)})});return _w(function(){var r=Ri.get(n);if(r){var o=new Set(r),s=new Set(e),a=n.current;o.forEach(function(i){s.has(i)||So(i,null)}),s.forEach(function(i){o.has(i)||So(i,a)})}Ri.set(n,e)},[e]),n}function kw(e){return e}function Ow(e,t){t===void 0&&(t=kw);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(i){return i!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(i){return s(i)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var i=n;n=[],i.forEach(s),a=n}var c=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return o}function Dw(e){e===void 0&&(e={});var t=Ow(null);return t.options=it({async:!0,ssr:!1},e),t}var pl=function(e){var t=e.sideCar,n=ec(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,it({},n))};pl.isSideCarExport=!0;function Fw(e,t){return e.useMedium(t),pl}var hl=Dw(),Eo=function(){},Wr=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:Eo,onWheelCapture:Eo,onTouchMoveCapture:Eo}),o=r[0],s=r[1],a=e.forwardProps,i=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,l=e.shards,p=e.sideCar,g=e.noIsolation,w=e.inert,m=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,v=e.gapMode,x=ec(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,I=jw([n,t]),N=it(it({},x),o);return h.createElement(h.Fragment,null,d&&h.createElement(C,{sideCar:hl,removeScrollBar:u,shards:l,noIsolation:g,inert:w,setCallbacks:s,allowPinchZoom:!!m,lockRef:n,gapMode:v}),a?h.cloneElement(h.Children.only(i),it(it({},N),{ref:I})):h.createElement(b,it({},N,{className:c,ref:I}),i))});Wr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wr.classNames={fullWidth:Kn,zeroRight:Gn};var Bw=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $w(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Bw();return t&&e.setAttribute("nonce",t),e}function Lw(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function zw(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ww=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$w())&&(Lw(t,n),zw(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hw=function(){var e=Ww();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},ml=function(){var e=Hw(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Uw={left:0,top:0,right:0,gap:0},To=function(e){return parseInt(e||"",10)||0},qw=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[To(n),To(r),To(o)]},Vw=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Uw;var t=qw(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Gw=ml(),$t="data-scroll-locked",Kw=function(e,t,n,r){var o=e.left,s=e.top,a=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Aw,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat($t,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gn,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Kn,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Gn," .").concat(Gn,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Kn," .").concat(Kn,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($t,`] {
    `).concat(Rw,": ").concat(i,`px;
  }
`)},Mi=function(){var e=parseInt(document.body.getAttribute($t)||"0",10);return isFinite(e)?e:0},Zw=function(){h.useEffect(function(){return document.body.setAttribute($t,(Mi()+1).toString()),function(){var e=Mi()-1;e<=0?document.body.removeAttribute($t):document.body.setAttribute($t,e.toString())}},[])},Yw=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Zw();var s=h.useMemo(function(){return Vw(o)},[o]);return h.createElement(Gw,{styles:Kw(s,!t,o,n?"":"!important")})},as=!1;if(typeof window<"u")try{var $n=Object.defineProperty({},"passive",{get:function(){return as=!0,!0}});window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{as=!1}var Ot=as?{passive:!1}:!1,Xw=function(e){return e.tagName==="TEXTAREA"},yl=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xw(e)&&n[t]==="visible")},Qw=function(e){return yl(e,"overflowY")},Jw=function(e){return yl(e,"overflowX")},_i=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=gl(e,r);if(o){var s=bl(e,r),a=s[1],i=s[2];if(a>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ev=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},tv=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},gl=function(e,t){return e==="v"?Qw(t):Jw(t)},bl=function(e,t){return e==="v"?ev(t):tv(t)},nv=function(e,t){return e==="h"&&t==="rtl"?-1:1},rv=function(e,t,n,r,o){var s=nv(e,window.getComputedStyle(t).direction),a=s*r,i=n.target,c=t.contains(i),u=!1,d=a>0,l=0,p=0;do{var g=bl(e,i),w=g[0],m=g[1],y=g[2],b=m-y-s*w;(w||b)&&gl(e,i)&&(l+=b,p+=w),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(d&&(Math.abs(l)<1||!o)||!d&&(Math.abs(p)<1||!o))&&(u=!0),u},Ln=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ji=function(e){return[e.deltaX,e.deltaY]},ki=function(e){return e&&"current"in e?e.current:e},ov=function(e,t){return e[0]===t[0]&&e[1]===t[1]},sv=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},av=0,Dt=[];function iv(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),o=h.useState(av++)[0],s=h.useState(ml)[0],a=h.useRef(e);h.useEffect(function(){a.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var m=Lp([e.lockRef.current],(e.shards||[]).map(ki),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=h.useCallback(function(m,y){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var b=Ln(m),v=n.current,x="deltaX"in m?m.deltaX:v[0]-b[0],C="deltaY"in m?m.deltaY:v[1]-b[1],I,N=m.target,E=Math.abs(x)>Math.abs(C)?"h":"v";if("touches"in m&&E==="h"&&N.type==="range")return!1;var P=_i(E,N);if(!P)return!0;if(P?I=E:(I=E==="v"?"h":"v",P=_i(E,N)),!P)return!1;if(!r.current&&"changedTouches"in m&&(x||C)&&(r.current=I),!I)return!0;var T=r.current||I;return rv(T,y,m,T==="h"?x:C,!0)},[]),c=h.useCallback(function(m){var y=m;if(!(!Dt.length||Dt[Dt.length-1]!==s)){var b="deltaY"in y?ji(y):Ln(y),v=t.current.filter(function(I){return I.name===y.type&&(I.target===y.target||y.target===I.shadowParent)&&ov(I.delta,b)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var x=(a.current.shards||[]).map(ki).filter(Boolean).filter(function(I){return I.contains(y.target)}),C=x.length>0?i(y,x[0]):!a.current.noIsolation;C&&y.cancelable&&y.preventDefault()}}},[]),u=h.useCallback(function(m,y,b,v){var x={name:m,delta:y,target:b,should:v,shadowParent:cv(b)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(C){return C!==x})},1)},[]),d=h.useCallback(function(m){n.current=Ln(m),r.current=void 0},[]),l=h.useCallback(function(m){u(m.type,ji(m),m.target,i(m,e.lockRef.current))},[]),p=h.useCallback(function(m){u(m.type,Ln(m),m.target,i(m,e.lockRef.current))},[]);h.useEffect(function(){return Dt.push(s),e.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ot),document.addEventListener("touchmove",c,Ot),document.addEventListener("touchstart",d,Ot),function(){Dt=Dt.filter(function(m){return m!==s}),document.removeEventListener("wheel",c,Ot),document.removeEventListener("touchmove",c,Ot),document.removeEventListener("touchstart",d,Ot)}},[]);var g=e.removeScrollBar,w=e.inert;return h.createElement(h.Fragment,null,w?h.createElement(s,{styles:sv(o)}):null,g?h.createElement(Yw,{gapMode:e.gapMode}):null)}function cv(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uv=Fw(hl,iv);var Hr=h.forwardRef(function(e,t){return h.createElement(Wr,it({},e,{ref:t,sideCar:uv}))});Hr.classNames=Wr.classNames;var lv=[" ","Enter","ArrowUp","ArrowDown"],dv=[" ","Enter"],_n="Select",[Ur,qr,fv]=Or(_n),[on,pC]=en(_n,[fv,gr]),Vr=gr(),[pv,ht]=on(_n),[hv,mv]=on(_n),wl=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:o,onOpenChange:s,value:a,defaultValue:i,onValueChange:c,dir:u,name:d,autoComplete:l,disabled:p,required:g,form:w}=e,m=Vr(t),[y,b]=h.useState(null),[v,x]=h.useState(null),[C,I]=h.useState(!1),N=Br(u),[E=!1,P]=Ut({prop:r,defaultProp:o,onChange:s}),[T,k]=Ut({prop:a,defaultProp:i,onChange:c}),_=h.useRef(null),O=y?w||!!y.closest("form"):!0,[$,S]=h.useState(new Set),R=Array.from($).map(A=>A.props.value).join(";");return f.jsx(Qi,{...m,children:f.jsxs(pv,{required:g,scope:t,trigger:y,onTriggerChange:b,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:C,onValueNodeHasChildrenChange:I,contentId:Ye(),value:T,onValueChange:k,open:E,onOpenChange:P,dir:N,triggerPointerDownPosRef:_,disabled:p,children:[f.jsx(Ur.Provider,{scope:t,children:f.jsx(hv,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(A=>{S(D=>new Set(D).add(A))},[]),onNativeOptionRemove:h.useCallback(A=>{S(D=>{const B=new Set(D);return B.delete(A),B})},[]),children:n})}),O?f.jsxs(Ul,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:l,value:T,onChange:A=>k(A.target.value),disabled:p,form:w,children:[T===void 0?f.jsx("option",{value:""}):null,Array.from($)]},R):null]})})};wl.displayName=_n;var vl="SelectTrigger",xl=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...o}=e,s=Vr(n),a=ht(vl,n),i=a.disabled||r,c=ne(t,a.onTriggerChange),u=qr(n),d=h.useRef("touch"),[l,p,g]=ql(m=>{const y=u().filter(x=>!x.disabled),b=y.find(x=>x.value===a.value),v=Vl(y,m,b);v!==void 0&&a.onValueChange(v.value)}),w=m=>{i||(a.onOpenChange(!0),g()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return f.jsx(Zi,{asChild:!0,...s,children:f.jsx(G.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":Hl(a.value)?"":void 0,...o,ref:c,onClick:F(o.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&w(m)}),onPointerDown:F(o.onPointerDown,m=>{d.current=m.pointerType;const y=m.target;y.hasPointerCapture(m.pointerId)&&y.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(w(m),m.preventDefault())}),onKeyDown:F(o.onKeyDown,m=>{const y=l.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(y&&m.key===" ")&&lv.includes(m.key)&&(w(),m.preventDefault())})})})});xl.displayName=vl;var Cl="SelectValue",Sl=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:s,placeholder:a="",...i}=e,c=ht(Cl,n),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,l=ne(t,c.onValueNodeChange);return He(()=>{u(d)},[u,d]),f.jsx(G.span,{...i,ref:l,style:{pointerEvents:"none"},children:Hl(c.value)?f.jsx(f.Fragment,{children:a}):s})});Sl.displayName=Cl;var yv="SelectIcon",El=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return f.jsx(G.span,{"aria-hidden":!0,...o,ref:t,children:r||""})});El.displayName=yv;var gv="SelectPortal",Tl=e=>f.jsx(yr,{asChild:!0,...e});Tl.displayName=gv;var At="SelectContent",Pl=h.forwardRef((e,t)=>{const n=ht(At,e.__scopeSelect),[r,o]=h.useState();if(He(()=>{o(new DocumentFragment)},[]),!n.open){const s=r;return s?vs.createPortal(f.jsx(Il,{scope:e.__scopeSelect,children:f.jsx(Ur.Slot,{scope:e.__scopeSelect,children:f.jsx("div",{children:e.children})})}),s):null}return f.jsx(Nl,{...e,ref:t})});Pl.displayName=At;var ke=10,[Il,mt]=on(At),bv="SelectContentImpl",Nl=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:s,onPointerDownOutside:a,side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:l,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:m,avoidCollisions:y,...b}=e,v=ht(At,n),[x,C]=h.useState(null),[I,N]=h.useState(null),E=ne(t,z=>C(z)),[P,T]=h.useState(null),[k,_]=h.useState(null),O=qr(n),[$,S]=h.useState(!1),R=h.useRef(!1);h.useEffect(()=>{if(x)return la(x)},[x]),ua();const A=h.useCallback(z=>{const[Y,...J]=O().map(V=>V.ref.current),[oe]=J.slice(-1),X=document.activeElement;for(const V of z)if(V===X||(V==null||V.scrollIntoView({block:"nearest"}),V===Y&&I&&(I.scrollTop=0),V===oe&&I&&(I.scrollTop=I.scrollHeight),V==null||V.focus(),document.activeElement!==X))return},[O,I]),D=h.useCallback(()=>A([P,x]),[A,P,x]);h.useEffect(()=>{$&&D()},[$,D]);const{onOpenChange:B,triggerPointerDownPosRef:j}=v;h.useEffect(()=>{if(x){let z={x:0,y:0};const Y=oe=>{var X,V;z={x:Math.abs(Math.round(oe.pageX)-(((X=j.current)==null?void 0:X.x)??0)),y:Math.abs(Math.round(oe.pageY)-(((V=j.current)==null?void 0:V.y)??0))}},J=oe=>{z.x<=10&&z.y<=10?oe.preventDefault():x.contains(oe.target)||B(!1),document.removeEventListener("pointermove",Y),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",J,{capture:!0})}}},[x,B,j]),h.useEffect(()=>{const z=()=>B(!1);return window.addEventListener("blur",z),window.addEventListener("resize",z),()=>{window.removeEventListener("blur",z),window.removeEventListener("resize",z)}},[B]);const[H,K]=ql(z=>{const Y=O().filter(X=>!X.disabled),J=Y.find(X=>X.ref.current===document.activeElement),oe=Vl(Y,z,J);oe&&setTimeout(()=>oe.ref.current.focus())}),re=h.useCallback((z,Y,J)=>{const oe=!R.current&&!J;(v.value!==void 0&&v.value===Y||oe)&&(T(z),oe&&(R.current=!0))},[v.value]),ae=h.useCallback(()=>x==null?void 0:x.focus(),[x]),ie=h.useCallback((z,Y,J)=>{const oe=!R.current&&!J;(v.value!==void 0&&v.value===Y||oe)&&_(z)},[v.value]),Ee=r==="popper"?is:Al,de=Ee===is?{side:i,sideOffset:c,align:u,alignOffset:d,arrowPadding:l,collisionBoundary:p,collisionPadding:g,sticky:w,hideWhenDetached:m,avoidCollisions:y}:{};return f.jsx(Il,{scope:n,content:x,viewport:I,onViewportChange:N,itemRefCallback:re,selectedItem:P,onItemLeave:ae,itemTextRefCallback:ie,focusSelectedItem:D,selectedItemText:k,position:r,isPositioned:$,searchRef:H,children:f.jsx(Hr,{as:mn,allowPinchZoom:!0,children:f.jsx(zr,{asChild:!0,trapped:v.open,onMountAutoFocus:z=>{z.preventDefault()},onUnmountAutoFocus:F(o,z=>{var Y;(Y=v.trigger)==null||Y.focus({preventScroll:!0}),z.preventDefault()}),children:f.jsx(xs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:z=>z.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:f.jsx(Ee,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:z=>z.preventDefault(),...b,...de,onPlaced:()=>S(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:F(b.onKeyDown,z=>{const Y=z.ctrlKey||z.altKey||z.metaKey;if(z.key==="Tab"&&z.preventDefault(),!Y&&z.key.length===1&&K(z.key),["ArrowUp","ArrowDown","Home","End"].includes(z.key)){let oe=O().filter(X=>!X.disabled).map(X=>X.ref.current);if(["ArrowUp","End"].includes(z.key)&&(oe=oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(z.key)){const X=z.target,V=oe.indexOf(X);oe=oe.slice(V+1)}setTimeout(()=>A(oe)),z.preventDefault()}})})})})})})});Nl.displayName=bv;var wv="SelectItemAlignedPosition",Al=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...o}=e,s=ht(At,n),a=mt(At,n),[i,c]=h.useState(null),[u,d]=h.useState(null),l=ne(t,E=>d(E)),p=qr(n),g=h.useRef(!1),w=h.useRef(!0),{viewport:m,selectedItem:y,selectedItemText:b,focusSelectedItem:v}=a,x=h.useCallback(()=>{if(s.trigger&&s.valueNode&&i&&u&&m&&y&&b){const E=s.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),T=s.valueNode.getBoundingClientRect(),k=b.getBoundingClientRect();if(s.dir!=="rtl"){const X=k.left-P.left,V=T.left-X,we=E.left-V,Be=E.width+we,jt=Math.max(Be,P.width),Yr=window.innerWidth-ke,Xr=ss(V,[ke,Math.max(ke,Yr-jt)]);i.style.minWidth=Be+"px",i.style.left=Xr+"px"}else{const X=P.right-k.right,V=window.innerWidth-T.right-X,we=window.innerWidth-E.right-V,Be=E.width+we,jt=Math.max(Be,P.width),Yr=window.innerWidth-ke,Xr=ss(V,[ke,Math.max(ke,Yr-jt)]);i.style.minWidth=Be+"px",i.style.right=Xr+"px"}const _=p(),O=window.innerHeight-ke*2,$=m.scrollHeight,S=window.getComputedStyle(u),R=parseInt(S.borderTopWidth,10),A=parseInt(S.paddingTop,10),D=parseInt(S.borderBottomWidth,10),B=parseInt(S.paddingBottom,10),j=R+A+$+B+D,H=Math.min(y.offsetHeight*5,j),K=window.getComputedStyle(m),re=parseInt(K.paddingTop,10),ae=parseInt(K.paddingBottom,10),ie=E.top+E.height/2-ke,Ee=O-ie,de=y.offsetHeight/2,z=y.offsetTop+de,Y=R+A+z,J=j-Y;if(Y<=ie){const X=_.length>0&&y===_[_.length-1].ref.current;i.style.bottom="0px";const V=u.clientHeight-m.offsetTop-m.offsetHeight,we=Math.max(Ee,de+(X?ae:0)+V+D),Be=Y+we;i.style.height=Be+"px"}else{const X=_.length>0&&y===_[0].ref.current;i.style.top="0px";const we=Math.max(ie,R+m.offsetTop+(X?re:0)+de)+J;i.style.height=we+"px",m.scrollTop=Y-ie+m.offsetTop}i.style.margin=`${ke}px 0`,i.style.minHeight=H+"px",i.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[p,s.trigger,s.valueNode,i,u,m,y,b,s.dir,r]);He(()=>x(),[x]);const[C,I]=h.useState();He(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const N=h.useCallback(E=>{E&&w.current===!0&&(x(),v==null||v(),w.current=!1)},[x,v]);return f.jsx(xv,{scope:n,contentWrapper:i,shouldExpandOnScrollRef:g,onScrollButtonChange:N,children:f.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:f.jsx(G.div,{...o,ref:l,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Al.displayName=wv;var vv="SelectPopperPosition",is=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=ke,...s}=e,a=Vr(n);return f.jsx(Yi,{...a,...s,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});is.displayName=vv;var[xv,da]=on(At,{}),cs="SelectViewport",Rl=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...o}=e,s=mt(cs,n),a=da(cs,n),i=ne(t,s.onViewportChange),c=h.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Ur.Slot,{scope:n,children:f.jsx(G.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:F(o.onScroll,u=>{const d=u.currentTarget,{contentWrapper:l,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&l){const g=Math.abs(c.current-d.scrollTop);if(g>0){const w=window.innerHeight-ke*2,m=parseFloat(l.style.minHeight),y=parseFloat(l.style.height),b=Math.max(m,y);if(b<w){const v=b+g,x=Math.min(w,v),C=v-x;l.style.height=x+"px",l.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,l.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Rl.displayName=cs;var Ml="SelectGroup",[Cv,Sv]=on(Ml),Ev=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Ye();return f.jsx(Cv,{scope:n,id:o,children:f.jsx(G.div,{role:"group","aria-labelledby":o,...r,ref:t})})});Ev.displayName=Ml;var _l="SelectLabel",jl=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Sv(_l,n);return f.jsx(G.div,{id:o.id,...r,ref:t})});jl.displayName=_l;var sr="SelectItem",[Tv,kl]=on(sr),Ol=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:o=!1,textValue:s,...a}=e,i=ht(sr,n),c=mt(sr,n),u=i.value===r,[d,l]=h.useState(s??""),[p,g]=h.useState(!1),w=ne(t,v=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,v,r,o)}),m=Ye(),y=h.useRef("touch"),b=()=>{o||(i.onValueChange(r),i.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Tv,{scope:n,value:r,disabled:o,textId:m,isSelected:u,onItemTextChange:h.useCallback(v=>{l(x=>x||((v==null?void 0:v.textContent)??"").trim())},[]),children:f.jsx(Ur.ItemSlot,{scope:n,value:r,disabled:o,textValue:d,children:f.jsx(G.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...a,ref:w,onFocus:F(a.onFocus,()=>g(!0)),onBlur:F(a.onBlur,()=>g(!1)),onClick:F(a.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:F(a.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:F(a.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:F(a.onPointerMove,v=>{var x;y.current=v.pointerType,o?(x=c.onItemLeave)==null||x.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:F(a.onPointerLeave,v=>{var x;v.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:F(a.onKeyDown,v=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&v.key===" "||(dv.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});Ol.displayName=sr;var ln="SelectItemText",Dl=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:o,...s}=e,a=ht(ln,n),i=mt(ln,n),c=kl(ln,n),u=mv(ln,n),[d,l]=h.useState(null),p=ne(t,b=>l(b),c.onItemTextChange,b=>{var v;return(v=i.itemTextRefCallback)==null?void 0:v.call(i,b,c.value,c.disabled)}),g=d==null?void 0:d.textContent,w=h.useMemo(()=>f.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:m,onNativeOptionRemove:y}=u;return He(()=>(m(w),()=>y(w)),[m,y,w]),f.jsxs(f.Fragment,{children:[f.jsx(G.span,{id:c.textId,...s,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?vs.createPortal(s.children,a.valueNode):null]})});Dl.displayName=ln;var Fl="SelectItemIndicator",Bl=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return kl(Fl,n).isSelected?f.jsx(G.span,{"aria-hidden":!0,...r,ref:t}):null});Bl.displayName=Fl;var us="SelectScrollUpButton",$l=h.forwardRef((e,t)=>{const n=mt(us,e.__scopeSelect),r=da(us,e.__scopeSelect),[o,s]=h.useState(!1),a=ne(t,r.onScrollButtonChange);return He(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),o?f.jsx(zl,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});$l.displayName=us;var ls="SelectScrollDownButton",Ll=h.forwardRef((e,t)=>{const n=mt(ls,e.__scopeSelect),r=da(ls,e.__scopeSelect),[o,s]=h.useState(!1),a=ne(t,r.onScrollButtonChange);return He(()=>{if(n.viewport&&n.isPositioned){let i=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=n.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[n.viewport,n.isPositioned]),o?f.jsx(zl,{...e,ref:a,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=n;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});Ll.displayName=ls;var zl=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...o}=e,s=mt("SelectScrollButton",n),a=h.useRef(null),i=qr(n),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),He(()=>{var d;const u=i().find(l=>l.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[i]),f.jsx(G.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:F(o.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:F(o.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:F(o.onPointerLeave,()=>{c()})})}),Pv="SelectSeparator",Wl=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return f.jsx(G.div,{"aria-hidden":!0,...r,ref:t})});Wl.displayName=Pv;var ds="SelectArrow",Iv=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,o=Vr(n),s=ht(ds,n),a=mt(ds,n);return s.open&&a.position==="popper"?f.jsx(Xi,{...o,...r,ref:t}):null});Iv.displayName=ds;function Hl(e){return e===""||e===void 0}var Ul=h.forwardRef((e,t)=>{const{value:n,...r}=e,o=h.useRef(null),s=ne(t,o),a=Tw(n);return h.useEffect(()=>{const i=o.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&d){const l=new Event("change",{bubbles:!0});d.call(i,n),i.dispatchEvent(l)}},[a,n]),f.jsx(ws,{asChild:!0,children:f.jsx("select",{...r,ref:s,defaultValue:n})})});Ul.displayName="BubbleSelect";function ql(e){const t=he(e),n=h.useRef(""),r=h.useRef(0),o=h.useCallback(a=>{const i=n.current+a;t(i),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(i)},[t]),s=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,o,s]}function Vl(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=Nv(e,Math.max(s,0));o.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function Nv(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Av=wl,Gl=xl,Rv=Sl,Mv=El,_v=Tl,Kl=Pl,jv=Rl,Zl=jl,Yl=Ol,kv=Dl,Ov=Bl,Xl=$l,Ql=Ll,Jl=Wl;const Dv=Av,Fv=Rv,ed=h.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(Gl,{ref:r,className:q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,f.jsx(Mv,{asChild:!0,children:f.jsx(ea,{className:"h-4 w-4 opacity-50"})})]}));ed.displayName=Gl.displayName;const td=h.forwardRef(({className:e,...t},n)=>f.jsx(Xl,{ref:n,className:q("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx($b,{className:"h-4 w-4"})}));td.displayName=Xl.displayName;const nd=h.forwardRef(({className:e,...t},n)=>f.jsx(Ql,{ref:n,className:q("flex cursor-default items-center justify-center py-1",e),...t,children:f.jsx(ea,{className:"h-4 w-4"})}));nd.displayName=Ql.displayName;const rd=h.forwardRef(({className:e,children:t,position:n="popper",...r},o)=>f.jsx(_v,{children:f.jsxs(Kl,{ref:o,className:q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[f.jsx(td,{}),f.jsx(jv,{className:q("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),f.jsx(nd,{})]})}));rd.displayName=Kl.displayName;const Bv=h.forwardRef(({className:e,...t},n)=>f.jsx(Zl,{ref:n,className:q("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Bv.displayName=Zl.displayName;const od=h.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(Yl,{ref:r,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Ov,{children:f.jsx(Bu,{className:"h-4 w-4"})})}),f.jsx(kv,{children:t})]}));od.displayName=Yl.displayName;const $v=h.forwardRef(({className:e,...t},n)=>f.jsx(Jl,{ref:n,className:q("-mx-1 my-1 h-px bg-muted",e),...t}));$v.displayName=Jl.displayName;const Lv=({selectedPaymentMethod:e,setSelectedPaymentMethod:t,isPaymentOptionsLoading:n,paymentOptions:r})=>{const o=Q(le(a=>a.cart)),s=r==null?void 0:r.options;return f.jsxs("div",{className:"flex justify-between items-center gap-2 px-2 mb-1",children:[f.jsx("h3",{className:q("text-md font-semibold text-left"),children:"Payment Method"}),f.jsx("div",{children:f.jsxs(Dv,{value:e==null?void 0:e.symbol,onValueChange:a=>{const i=s==null?void 0:s.find(c=>c.symbol.toLowerCase()===a.toLowerCase());i&&t(i)},children:[f.jsx(ed,{className:"w-[200px] rounded-xl",children:f.jsx(Fv,{placeholder:"Select Payment","aria-label":"select payment method"})}),f.jsx(rd,{children:s==null?void 0:s.map(a=>{var i;return f.jsx(od,{disabled:n||!((i=o==null?void 0:o.items)!=null&&i.length),value:a.symbol,children:f.jsxs("span",{className:"flex gap-2",children:[f.jsx("img",{className:"object-cover object-center w-full h-5",src:a.icon,alt:a.symbol}),a.symbol]})},a.symbol+a.tokenAddress)})})]})})]})},zv=({setIsNetworkUpdated:e})=>{const{address:t,chain:n}=kr(),{switchChainAsync:r,chains:o,isPending:s,error:a}=ab(),{data:i}=ib(),c=sb(),u=h.useCallback(async w=>{if(!t)return!1;if(w===(n==null?void 0:n.id))return!0;const m=o.find(b=>b.id===w);if(!m||!r)return!1;const y=await r({chainId:m.id});return e(y.id===w),!1},[n==null?void 0:n.id,o,t,r,e]),d=h.useCallback(async(w,m)=>{var b;const y=await(m==null?void 0:m.getChainId());if((y==null?void 0:y.toString())!==((b=w==null?void 0:w.chainId)==null?void 0:b.toString()))throw new Error("Chain switched during payment process, aborting transaction")},[]),l=h.useCallback(async(w,m)=>{const y=await(c==null?void 0:c.waitForTransactionReceipt({hash:w}));if((y==null?void 0:y.status)!=="success")throw new Error("Transaction confirmation failed. Please try again");m(y)},[c]),p=h.useCallback(async(w,m,y,b,v)=>{var T;const x=o.find(k=>k.id===y),C=w.token!==void 0&&w.token!==h0;if(!i)return;if(C){const k=await(i==null?void 0:i.writeContract({address:w.token,abi:Hh,functionName:"approve",account:t,chain:x,args:[b==null?void 0:b.contractAddress,BigInt(w.amount)]}));await(c==null?void 0:c.waitForTransactionReceipt({hash:k}))}const I=(T=w.names)==null?void 0:T.map(k=>[k.registry,k.label,k.tld,k.expirationTime,k.owner,k.renewal]),N=[w.buyer,w.token,w.amount,w.voucherExpiration,w.paymentId,w.orderId,I],E=await(c==null?void 0:c.simulateContract({chain:x,address:b==null?void 0:b.contractAddress,abi:zp,functionName:"pay",account:t,args:[N,m],value:C?void 0:BigInt(w.amount??0)}));await d(b,i);const P=await(i==null?void 0:i.writeContract(E.request));P&&await l(P,v)},[o,d,l,t,c,i]);return{handleCryptoCheckout:h.useCallback(async({transactionVoucher:w,handleOnError:m,handleOnSuccess:y})=>{try{const{voucher:b,signature:v,selectedPaymentToken:x}=w||{};await p(b,v,Number(x.chainId),x,y)}catch(b){console.error(b);const v=(b==null?void 0:b.shortMessage)??"Something went wrong";m(v)}},[p]),ensureCorrectEVMChain:u,evmWalletAddress:t,isSwitchNetworkInProgress:s,switchNetworkError:a,walletClient:i}},Wv="https://api-public.d3.app",sd=async({endpoint:e,body:t,method:n="GET",headers:r={Accept:"application/json","Content-Type":"application/json"}})=>{var l,p;const o=((l=Q.getState().widgetConfig)==null?void 0:l.apiKey)??"",i=(((p=Q.getState().widgetConfig)==null?void 0:p.apiEndpoint)||Wv)+e,c={...r,"Api-Key":o},u={method:n,headers:c,...n==="POST"&&t&&{body:t}},d=await fetch(i,u);if(!d.ok){const g=await d.json();throw new Error((g==null?void 0:g.message)||(g==null?void 0:g.error))}return await d.json()},fs=({queryKey:e,endpoint:t,queryParameters:n={staleTime:1/0,retry:!1,refetchOnWindowFocus:!1},method:r="GET",requestBody:o=null})=>{const s=o?JSON.stringify(o):null,{data:a,error:i,...c}=sc({queryKey:[...e],queryFn:async()=>sd({endpoint:t,body:s,method:r}),...n});return{data:a,error:i,...c}},Hv=({mutationKey:e,endpoint:t,queryParameters:n={retry:0}})=>({mutationRes:Ss({mutationFn:async o=>sd({endpoint:t,body:JSON.stringify(o),method:"POST"}),mutationKey:e,...n})}),Uv=()=>{var $;const[e,t]=h.useState(null),[n,r]=h.useState(!1),[o,s]=h.useState({feedback:"",isError:!1,isTransactionInProgress:!1,isOrderSuccess:!1}),{handleCryptoCheckout:a,ensureCorrectEVMChain:i,evmWalletAddress:c,isSwitchNetworkInProgress:u,switchNetworkError:d,walletClient:l}=zv({setIsNetworkUpdated:r}),p=Q(le(S=>S.cart)),g=Q(le(S=>S.widgetConfig)),w=Q(le(S=>S.connectWallet)),m=Q(h.useCallback(S=>S.resetCart,[])),y=h.useMemo(()=>{var R;const S=(R=p.items)==null?void 0:R.map(A=>A.tld.toLowerCase());return[...new Set(S)]},[p==null?void 0:p.items]),b=!g.onPurchaseInit&&!(($=g==null?void 0:g.walletAddress)!=null&&$.length),{mutationRes:v}=Hv({mutationKey:[Jn.startCheckoutOrder],endpoint:Qn.startCheckoutOrder}),x=h.useMemo(()=>`${Qn.paymentOptions}?tld=${y.toString()}`,[y]),{data:C,isLoading:I,isError:N,error:E}=fs({queryKey:[Jn.fetchPaymentMethods,{tlds:y}],endpoint:x,queryParameters:{enabled:!!(y!=null&&y.length),retry:0,refetchOnWindowFocus:!1,staleTime:1e3*60*5}});h.useEffect(()=>{var S;(S=C==null?void 0:C.options)!=null&&S.length&&!e&&t(C==null?void 0:C.options[0])},[e,C]);const P=h.useCallback(async S=>{s({isError:!1,feedback:"You've purchased the name tokens successfully",isTransactionInProgress:!1,isOrderSuccess:!0}),m()},[m]),T=h.useCallback(async S=>{const R=typeof S=="string"?S:S==null?void 0:S.message;s({isError:!0,feedback:R,isTransactionInProgress:!1,isOrderSuccess:!1})},[]),k=h.useCallback(async S=>{g.onPurchaseInit&&e&&(s(R=>({...R,isTransactionInProgress:!0,isOrderSuccess:!1})),g.onPurchaseInit({transactionVoucher:{voucher:S.voucher,signature:S.signature,selectedPaymentToken:{...e}},handleOnSuccess:P,handleOnError:T}))},[g,e,T,P]),_=h.useCallback(async S=>{w.evmWallet&&e&&(s(R=>({...R,isTransactionInProgress:!0,isOrderSuccess:!1})),await a({transactionVoucher:{voucher:S.voucher,signature:S.signature,selectedPaymentToken:e},handleOnSuccess:P,handleOnError:T}))},[e,w.evmWallet,a,P,T]),O=h.useCallback(async()=>{var A;if(!((A=p==null?void 0:p.items)!=null&&A.length)||!e){s({isError:!0,feedback:e?"Your cart is empty. Please add some items before starting checkout.":"Please select a payment method before starting checkout.",isTransactionInProgress:!1,isOrderSuccess:!1});return}const S=b?!!w.evmWallet:!!g.walletAddress&&g.onPurchaseInit,R=b?w.evmWallet:g.walletAddress;if(!S){s({isError:!0,feedback:"Please connect wallet to continue with purchase",isTransactionInProgress:!1,isOrderSuccess:!1});return}if(!(b&&!await i(Number(e.chainId)))&&!v.isPending&&R){s({isError:!1,feedback:"",isTransactionInProgress:!1,isOrderSuccess:!1});const D=p.items.map(j=>({sld:j.sld,tld:j.tld,autoRenew:!1,domainLength:1})),B={paymentOptions:{contractAddress:e.contractAddress,tokenAddress:e.tokenAddress,buyerAddress:R},names:D};v.mutate(B,{onSuccess:async j=>{if(b){_(j);return}await k(j)},onError:j=>{console.log({error:j}),s(H=>({...H,isTransactionInProgress:!1,isOrderSuccess:!1,feedback:j.message,isError:!0}))}})}},[v,k,p==null?void 0:p.items,e,g,_,w.evmWallet,i,b]);return h.useEffect(()=>{n&&c&&l&&b&&(O(),r(!1))},[n,O,c,l,b]),{selectedPaymentMethod:e,setSelectedPaymentMethod:t,checkoutState:o,handleStartCheckout:O,setCheckoutState:s,startCheckoutOrder:v,paymentOptions:C,isPaymentOptionsError:N,isPaymentOptionsLoading:I,paymentOptionsError:E,isSwitchNetworkInProgress:u,switchNetworkError:d}},qv=({handleSearch:e})=>f.jsxs("div",{className:"flex justify-between my-auto flex-col",children:[f.jsxs("div",{className:"flex flex-col gap-2 items-center my-4",children:[f.jsxs("h2",{className:q("text-lg font-bold flex gap-2"),children:[f.jsx($u,{size:30,className:"text-green-500"}),"Order Successful"]}),f.jsx("p",{children:"Thank you for your order. We are currently processing it."})]}),f.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[f.jsxs(ge,{variant:"secondary",onClick:e,"aria-label":"back to search",children:[f.jsx(Wu,{className:"mr-2 h-4 w-4"}),"Browse Names"]}),f.jsxs(ge,{onClick:()=>window.open("https://dev.d3.app/login"),"aria-label":"view assets",children:[f.jsx(Wb,{className:"mr-2 h-4 w-4"}),"View Assets"]})]})]}),Vv=()=>{var w,m;const e=Q(h.useCallback(y=>y.setWidgetSettings,[])),t=Q(le(y=>y.cart)),n=()=>{e({isCartViewOpen:!1})},{selectedPaymentMethod:r,setSelectedPaymentMethod:o,handleStartCheckout:s,checkoutState:a,setCheckoutState:i,startCheckoutOrder:c,paymentOptions:u,isPaymentOptionsError:d,isPaymentOptionsLoading:l,paymentOptionsError:p,isSwitchNetworkInProgress:g}=Uv();return a.isOrderSuccess?f.jsx("div",{className:"px-2 flex flex-col gap-y-2 flex-grow",children:f.jsx(qv,{handleSearch:n})}):l?f.jsx("div",{className:"px-2 flex items-center justify-center my-5",children:f.jsx(zu,{className:"h-6 w-6 animate-spin"})}):f.jsxs("div",{className:"flex flex-col gap-y-2 flex-grow",children:[f.jsx(Gb,{handleBack:n}),(w=t.items)!=null&&w.length&&((m=u==null?void 0:u.options)!=null&&m.length)?f.jsx(Lv,{selectedPaymentMethod:r,setSelectedPaymentMethod:o,paymentOptions:u,isPaymentOptionsLoading:l}):null,f.jsx(gw,{selectedPaymentMethod:r,handleStartCheckout:s,checkoutState:a,setCheckoutState:i,startCheckoutOrder:c,paymentOptions:u,isPaymentOptionsLoading:l,isPaymentOptionsError:d,paymentOptionsError:p,isSwitchNetworkInProgress:g})]})};function Gv(){const e=Q(h.useCallback(c=>c.setConnectWallet,[])),t=Q(h.useCallback(c=>c.setWidgetSettings,[])),n=Q(le(c=>c.connectWallet)),r=Q(le(c=>c.widgetSettings)),{address:o}=kr(),s=Me();V0({onConnect({address:c,isReconnected:u}){a({address:c,isReconnected:u})}}),h.useEffect(()=>{e({isEvmLoaded:!0})},[e]);async function a({address:c,isReconnected:u}){if(!n.isConnectInitiated){e({isConnectInProgress:!1,isConnectInitiated:!1}),nr(s);return}if(u||!(n!=null&&n.isConnectInitiated)){r!=null&&r.isWalletModalOpen&&t({isWalletModalOpen:!1});return}await i({address:c})}const i=async({address:c})=>{e({isConnectInitiated:!1,isConnectInProgress:!1,evmWallet:c}),t({isWalletModalOpen:!1})};return{address:o}}var fa="Dialog",[ad,hC]=en(fa),[Kv,Fe]=ad(fa),id=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,i=h.useRef(null),c=h.useRef(null),[u=!1,d]=Ut({prop:r,defaultProp:o,onChange:s});return f.jsx(Kv,{scope:t,triggerRef:i,contentRef:c,contentId:Ye(),titleId:Ye(),descriptionId:Ye(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(l=>!l),[d]),modal:a,children:n})};id.displayName=fa;var cd="DialogTrigger",ud=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fe(cd,n),s=ne(t,o.triggerRef);return f.jsx(G.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":ma(o.open),...r,ref:s,onClick:F(e.onClick,o.onOpenToggle)})});ud.displayName=cd;var pa="DialogPortal",[Zv,ld]=ad(pa,{forceMount:void 0}),dd=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=Fe(pa,t);return f.jsx(Zv,{scope:t,forceMount:n,children:h.Children.map(r,a=>f.jsx(Ae,{present:n||s.open,children:f.jsx(yr,{asChild:!0,container:o,children:a})}))})};dd.displayName=pa;var ar="DialogOverlay",fd=h.forwardRef((e,t)=>{const n=ld(ar,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Fe(ar,e.__scopeDialog);return s.modal?f.jsx(Ae,{present:r||s.open,children:f.jsx(Yv,{...o,ref:t})}):null});fd.displayName=ar;var Yv=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fe(ar,n);return f.jsx(Hr,{as:mn,allowPinchZoom:!0,shards:[o.contentRef],children:f.jsx(G.div,{"data-state":ma(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Rt="DialogContent",pd=h.forwardRef((e,t)=>{const n=ld(Rt,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=Fe(Rt,e.__scopeDialog);return f.jsx(Ae,{present:r||s.open,children:s.modal?f.jsx(Xv,{...o,ref:t}):f.jsx(Qv,{...o,ref:t})})});pd.displayName=Rt;var Xv=h.forwardRef((e,t)=>{const n=Fe(Rt,e.__scopeDialog),r=h.useRef(null),o=ne(t,n.contentRef,r);return h.useEffect(()=>{const s=r.current;if(s)return la(s)},[]),f.jsx(hd,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:F(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:F(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,i=a.button===0&&a.ctrlKey===!0;(a.button===2||i)&&s.preventDefault()}),onFocusOutside:F(e.onFocusOutside,s=>s.preventDefault())})}),Qv=h.forwardRef((e,t)=>{const n=Fe(Rt,e.__scopeDialog),r=h.useRef(!1),o=h.useRef(!1);return f.jsx(hd,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),hd=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...a}=e,i=Fe(Rt,n),c=h.useRef(null),u=ne(t,c);return ua(),f.jsxs(f.Fragment,{children:[f.jsx(zr,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:f.jsx(xs,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":ma(i.open),...a,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Jv,{titleId:i.titleId}),f.jsx(tx,{contentRef:c,descriptionId:i.descriptionId})]})]})}),ha="DialogTitle",md=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fe(ha,n);return f.jsx(G.h2,{id:o.titleId,...r,ref:t})});md.displayName=ha;var yd="DialogDescription",gd=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fe(yd,n);return f.jsx(G.p,{id:o.descriptionId,...r,ref:t})});gd.displayName=yd;var bd="DialogClose",wd=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=Fe(bd,n);return f.jsx(G.button,{type:"button",...r,ref:t,onClick:F(e.onClick,()=>o.onOpenChange(!1))})});wd.displayName=bd;function ma(e){return e?"open":"closed"}var vd="DialogTitleWarning",[mC,xd]=jp(vd,{contentName:Rt,titleName:ha,docsSlug:"dialog"}),Jv=({titleId:e})=>{const t=xd(vd),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ex="DialogDescriptionWarning",tx=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xd(ex).contentName}}.`;return h.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},nx=id,rx=ud,ox=dd,Cd=fd,Sd=pd,Ed=md,Td=gd,sx=wd;const ax=nx,ix=rx,cx=ox,Pd=h.forwardRef(({className:e,...t},n)=>f.jsx(Cd,{ref:n,className:q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Pd.displayName=Cd.displayName;const Id=h.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(cx,{children:[f.jsx(Pd,{}),f.jsxs(Sd,{ref:r,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,f.jsxs(sx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(Hu,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Id.displayName=Sd.displayName;const Nd=({className:e,...t})=>f.jsx("div",{className:q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Nd.displayName="DialogHeader";const Ad=h.forwardRef(({className:e,...t},n)=>f.jsx(Ed,{ref:n,className:q("text-lg font-semibold leading-none tracking-tight",e),...t}));Ad.displayName=Ed.displayName;const ux=h.forwardRef(({className:e,...t},n)=>f.jsx(Td,{ref:n,className:q("text-sm text-muted-foreground",e),...t}));ux.displayName=Td.displayName;const lx="https://cdn.d3.app/assets/widgets/walletconnect.png",dx="https://cdn.d3.app/assets/widgets/coinbase.png",fx=({width:e=32,height:t=32})=>f.jsx("img",{src:lx,width:e,height:t,alt:"WalletConnect"}),px=({width:e=32,height:t=32})=>f.jsx("img",{src:dx,width:e,height:t,alt:"Coinbase-Wallet"}),hx=()=>{const t=`https://metamask.app.link/dapp/${window.location.origin}`;return window.open(t)},mx=()=>{const{toast:e}=gu(),t=Q(h.useCallback(l=>l.setConnectWallet,[])),n=Q(le(l=>l.connectWallet)),r=Q(le(l=>l.widgetConfig)),o=Me(),{connect:s,connectors:a}=ob(),{address:i}=kr(),c=r!=null&&r.isWalletConnectEnabled?(a==null?void 0:a.length)>3:(a==null?void 0:a.length)>2,u=async l=>{const p=!d();if(!c&&(l==null?void 0:l.type)==="injected"&&p){hx();return}i&&nr(o),s({connector:l},{onError:async g=>{(g==null?void 0:g.name)==="ConnectorAlreadyConnectedError"&&nr(o),t({isConnectInitiated:!1});const m=(g==null?void 0:g.message)??"Something went wrong. Please try again";e({title:m})}}),t({isConnectInitiated:!0})},d=()=>{const l=navigator.userAgent||navigator.vendor;return/coin98/i.test(l)};return{isCoin98Wallet:d,handleWalletConnection:u,connectors:a,connectWallet:n,areAdditionalInjectorsInserted:c}},zn=({icon:e,label:t})=>f.jsxs("span",{className:Ze("flex align-center gap-2 justify-center"),children:[e?f.jsx("span",{children:e}):null,f.jsx("span",{className:"font-semibold text-base",children:t})]});function yx(){const{isCoin98Wallet:e,handleWalletConnection:t,connectors:n,connectWallet:r,areAdditionalInjectorsInserted:o}=mx();return f.jsx("div",{className:Ze("flex items-center justify-center flex-col gap-3 mt-3"),children:Array.from(n).reverse().map(s=>o&&(s==null?void 0:s.id)==="injected"?null:f.jsx(ge,{variant:"secondary",disabled:r==null?void 0:r.isConnectInitiated,onClick:()=>t(s),className:"w-full",children:s!=null&&s.id.toLowerCase().includes("walletconnect")?f.jsx(zn,{icon:f.jsx(fx,{width:24,height:24}),label:s==null?void 0:s.name}):s!=null&&s.id.toLowerCase().includes("coinbase")?f.jsx(zn,{icon:f.jsx(px,{width:24,height:24}),label:s==null?void 0:s.name}):(s==null?void 0:s.id)!=="injected"?f.jsxs("span",{className:Ze("flex items-center gap-2 justify-center"),children:[f.jsx("span",{children:s!=null&&s.icon?f.jsx("img",{src:s.icon,alt:s.name,width:24,height:24}):null}),f.jsx("span",{className:"font-semibold text-base",children:s.name})]}):(s==null?void 0:s.id)==="injected"&&e()?f.jsx(zn,{label:"Coin98",icon:s.icon}):f.jsx(zn,{label:"MetaMask",icon:s.icon})},s.id))})}function gx({isButtonDisabled:e}){const t=Q(le(r=>r.widgetSettings)),n=Q(le(r=>r.connectWallet));return f.jsx(f.Fragment,{children:f.jsxs(ax,{children:[f.jsx(ix,{asChild:!0,className:"w-[150px] ms-auto",children:f.jsx("div",{className:"flex items-end justify-end my-2 pe-2",children:f.jsx(ge,{"aria-label":"connect wallet",className:"rounded-xl px-10 bg-[linear-gradient(95deg,_#5744e6_4.29%,_#8936ea_99.74%)]",disabled:e||t.isWalletModalOpen||n.isConnectInProgress,children:"Connect Wallet"})})}),f.jsxs(Id,{"aria-describedby":"connect wallet modal",className:"sm:max-w-[425px]",children:[f.jsx(Nd,{children:f.jsx(Ad,{children:"Connect Wallet"})}),f.jsx(yx,{})]})]})})}function bx(e,t=[]){let n=[];function r(s,a){const i=h.createContext(a),c=n.length;n=[...n,a];function u(l){const{scope:p,children:g,...w}=l,m=(p==null?void 0:p[e][c])||i,y=h.useMemo(()=>w,Object.values(w));return f.jsx(m.Provider,{value:y,children:g})}function d(l,p){const g=(p==null?void 0:p[e][c])||i,w=h.useContext(g);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${l}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const o=()=>{const s=n.map(a=>h.createContext(a));return function(i){const c=(i==null?void 0:i[e])||s;return h.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return o.scopeName=e,[r,wx(o,...t)]}function wx(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const a=r.reduce((i,{useScope:c,scopeName:u})=>{const l=c(s)[`__scope${u}`];return{...i,...l}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}var Po="rovingFocusGroup.onEntryFocus",vx={bubbles:!1,cancelable:!0},Gr="RovingFocusGroup",[ps,Rd,xx]=Or(Gr),[Cx,Md]=bx(Gr,[xx]),[Sx,Ex]=Cx(Gr),_d=h.forwardRef((e,t)=>f.jsx(ps.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(ps.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(Tx,{...e,ref:t})})}));_d.displayName=Gr;var Tx=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...l}=e,p=h.useRef(null),g=ne(t,p),w=Br(s),[m=null,y]=Ut({prop:a,defaultProp:i,onChange:c}),[b,v]=h.useState(!1),x=he(u),C=Rd(n),I=h.useRef(!1),[N,E]=h.useState(0);return h.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(Po,x),()=>P.removeEventListener(Po,x)},[x]),f.jsx(Sx,{scope:n,orientation:r,dir:w,loop:o,currentTabStopId:m,onItemFocus:h.useCallback(P=>y(P),[y]),onItemShiftTab:h.useCallback(()=>v(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(P=>P+1),[]),onFocusableItemRemove:h.useCallback(()=>E(P=>P-1),[]),children:f.jsx(G.div,{tabIndex:b||N===0?-1:0,"data-orientation":r,...l,ref:g,style:{outline:"none",...e.style},onMouseDown:F(e.onMouseDown,()=>{I.current=!0}),onFocus:F(e.onFocus,P=>{const T=!I.current;if(P.target===P.currentTarget&&T&&!b){const k=new CustomEvent(Po,vx);if(P.currentTarget.dispatchEvent(k),!k.defaultPrevented){const _=C().filter(A=>A.focusable),O=_.find(A=>A.active),$=_.find(A=>A.id===m),R=[O,$,..._].filter(Boolean).map(A=>A.ref.current);Od(R,d)}}I.current=!1}),onBlur:F(e.onBlur,()=>v(!1))})})}),jd="RovingFocusGroupItem",kd=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:s,...a}=e,i=Ye(),c=s||i,u=Ex(jd,n),d=u.currentTabStopId===c,l=Rd(n),{onFocusableItemAdd:p,onFocusableItemRemove:g}=u;return h.useEffect(()=>{if(r)return p(),()=>g()},[r,p,g]),f.jsx(ps.ItemSlot,{scope:n,id:c,focusable:r,active:o,children:f.jsx(G.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:F(e.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:F(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:F(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const m=Nx(w,u.orientation,u.dir);if(m!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let b=l().filter(v=>v.focusable).map(v=>v.ref.current);if(m==="last")b.reverse();else if(m==="prev"||m==="next"){m==="prev"&&b.reverse();const v=b.indexOf(w.currentTarget);b=u.loop?Ax(b,v+1):b.slice(v+1)}setTimeout(()=>Od(b))}})})})});kd.displayName=jd;var Px={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ix(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Nx(e,t,n){const r=Ix(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Px[r]}function Od(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ax(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Rx=_d,Mx=kd,hs=["Enter"," "],_x=["ArrowDown","PageUp","Home"],Dd=["ArrowUp","PageDown","End"],jx=[..._x,...Dd],kx={ltr:[...hs,"ArrowRight"],rtl:[...hs,"ArrowLeft"]},Ox={ltr:["ArrowLeft"],rtl:["ArrowRight"]},jn="Menu",[wn,Dx,Fx]=Or(jn),[Mt,Fd]=en(jn,[Fx,gr,Md]),Kr=gr(),Bd=Md(),[Bx,_t]=Mt(jn),[$x,kn]=Mt(jn),$d=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:o,onOpenChange:s,modal:a=!0}=e,i=Kr(t),[c,u]=h.useState(null),d=h.useRef(!1),l=he(s),p=Br(o);return h.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),f.jsx(Qi,{...i,children:f.jsx(Bx,{scope:t,open:n,onOpenChange:l,content:c,onContentChange:u,children:f.jsx($x,{scope:t,onClose:h.useCallback(()=>l(!1),[l]),isUsingKeyboardRef:d,dir:p,modal:a,children:r})})})};$d.displayName=jn;var Lx="MenuAnchor",ya=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Kr(n);return f.jsx(Zi,{...o,...r,ref:t})});ya.displayName=Lx;var ga="MenuPortal",[zx,Ld]=Mt(ga,{forceMount:void 0}),zd=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,s=_t(ga,t);return f.jsx(zx,{scope:t,forceMount:n,children:f.jsx(Ae,{present:n||s.open,children:f.jsx(yr,{asChild:!0,container:o,children:r})})})};zd.displayName=ga;var Ie="MenuContent",[Wx,ba]=Mt(Ie),Wd=h.forwardRef((e,t)=>{const n=Ld(Ie,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=_t(Ie,e.__scopeMenu),a=kn(Ie,e.__scopeMenu);return f.jsx(wn.Provider,{scope:e.__scopeMenu,children:f.jsx(Ae,{present:r||s.open,children:f.jsx(wn.Slot,{scope:e.__scopeMenu,children:a.modal?f.jsx(Hx,{...o,ref:t}):f.jsx(Ux,{...o,ref:t})})})})}),Hx=h.forwardRef((e,t)=>{const n=_t(Ie,e.__scopeMenu),r=h.useRef(null),o=ne(t,r);return h.useEffect(()=>{const s=r.current;if(s)return la(s)},[]),f.jsx(wa,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:F(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Ux=h.forwardRef((e,t)=>{const n=_t(Ie,e.__scopeMenu);return f.jsx(wa,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wa=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:l,onInteractOutside:p,onDismiss:g,disableOutsideScroll:w,...m}=e,y=_t(Ie,n),b=kn(Ie,n),v=Kr(n),x=Bd(n),C=Dx(n),[I,N]=h.useState(null),E=h.useRef(null),P=ne(t,E,y.onContentChange),T=h.useRef(0),k=h.useRef(""),_=h.useRef(0),O=h.useRef(null),$=h.useRef("right"),S=h.useRef(0),R=w?Hr:h.Fragment,A=w?{as:mn,allowPinchZoom:!0}:void 0,D=j=>{var z,Y;const H=k.current+j,K=C().filter(J=>!J.disabled),re=document.activeElement,ae=(z=K.find(J=>J.ref.current===re))==null?void 0:z.textValue,ie=K.map(J=>J.textValue),Ee=n1(ie,H,ae),de=(Y=K.find(J=>J.textValue===Ee))==null?void 0:Y.ref.current;(function J(oe){k.current=oe,window.clearTimeout(T.current),oe!==""&&(T.current=window.setTimeout(()=>J(""),1e3))})(H),de&&setTimeout(()=>de.focus())};h.useEffect(()=>()=>window.clearTimeout(T.current),[]),ua();const B=h.useCallback(j=>{var K,re;return $.current===((K=O.current)==null?void 0:K.side)&&o1(j,(re=O.current)==null?void 0:re.area)},[]);return f.jsx(Wx,{scope:n,searchRef:k,onItemEnter:h.useCallback(j=>{B(j)&&j.preventDefault()},[B]),onItemLeave:h.useCallback(j=>{var H;B(j)||((H=E.current)==null||H.focus(),N(null))},[B]),onTriggerLeave:h.useCallback(j=>{B(j)&&j.preventDefault()},[B]),pointerGraceTimerRef:_,onPointerGraceIntentChange:h.useCallback(j=>{O.current=j},[]),children:f.jsx(R,{...A,children:f.jsx(zr,{asChild:!0,trapped:o,onMountAutoFocus:F(s,j=>{var H;j.preventDefault(),(H=E.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:f.jsx(xs,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:l,onInteractOutside:p,onDismiss:g,children:f.jsx(Rx,{asChild:!0,...x,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:N,onEntryFocus:F(c,j=>{b.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(Yi,{role:"menu","aria-orientation":"vertical","data-state":of(y.open),"data-radix-menu-content":"",dir:b.dir,...v,...m,ref:P,style:{outline:"none",...m.style},onKeyDown:F(m.onKeyDown,j=>{const K=j.target.closest("[data-radix-menu-content]")===j.currentTarget,re=j.ctrlKey||j.altKey||j.metaKey,ae=j.key.length===1;K&&(j.key==="Tab"&&j.preventDefault(),!re&&ae&&D(j.key));const ie=E.current;if(j.target!==ie||!jx.includes(j.key))return;j.preventDefault();const de=C().filter(z=>!z.disabled).map(z=>z.ref.current);Dd.includes(j.key)&&de.reverse(),e1(de)}),onBlur:F(e.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(T.current),k.current="")}),onPointerMove:F(e.onPointerMove,vn(j=>{const H=j.target,K=S.current!==j.clientX;if(j.currentTarget.contains(H)&&K){const re=j.clientX>S.current?"right":"left";$.current=re,S.current=j.clientX}}))})})})})})})});Wd.displayName=Ie;var qx="MenuGroup",va=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.jsx(G.div,{role:"group",...r,ref:t})});va.displayName=qx;var Vx="MenuLabel",Hd=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.jsx(G.div,{...r,ref:t})});Hd.displayName=Vx;var ir="MenuItem",Oi="menu.itemSelect",Zr=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...o}=e,s=h.useRef(null),a=kn(ir,e.__scopeMenu),i=ba(ir,e.__scopeMenu),c=ne(t,s),u=h.useRef(!1),d=()=>{const l=s.current;if(!n&&l){const p=new CustomEvent(Oi,{bubbles:!0,cancelable:!0});l.addEventListener(Oi,g=>r==null?void 0:r(g),{once:!0}),Vi(l,p),p.defaultPrevented?u.current=!1:a.onClose()}};return f.jsx(Ud,{...o,ref:c,disabled:n,onClick:F(e.onClick,d),onPointerDown:l=>{var p;(p=e.onPointerDown)==null||p.call(e,l),u.current=!0},onPointerUp:F(e.onPointerUp,l=>{var p;u.current||(p=l.currentTarget)==null||p.click()}),onKeyDown:F(e.onKeyDown,l=>{const p=i.searchRef.current!=="";n||p&&l.key===" "||hs.includes(l.key)&&(l.currentTarget.click(),l.preventDefault())})})});Zr.displayName=ir;var Ud=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:o,...s}=e,a=ba(ir,n),i=Bd(n),c=h.useRef(null),u=ne(t,c),[d,l]=h.useState(!1),[p,g]=h.useState("");return h.useEffect(()=>{const w=c.current;w&&g((w.textContent??"").trim())},[s.children]),f.jsx(wn.ItemSlot,{scope:n,disabled:r,textValue:o??p,children:f.jsx(Mx,{asChild:!0,...i,focusable:!r,children:f.jsx(G.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:F(e.onPointerMove,vn(w=>{r?a.onItemLeave(w):(a.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:F(e.onPointerLeave,vn(w=>a.onItemLeave(w))),onFocus:F(e.onFocus,()=>l(!0)),onBlur:F(e.onBlur,()=>l(!1))})})})}),Gx="MenuCheckboxItem",qd=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return f.jsx(Yd,{scope:e.__scopeMenu,checked:n,children:f.jsx(Zr,{role:"menuitemcheckbox","aria-checked":cr(n)?"mixed":n,...o,ref:t,"data-state":Ca(n),onSelect:F(o.onSelect,()=>r==null?void 0:r(cr(n)?!0:!n),{checkForDefaultPrevented:!1})})})});qd.displayName=Gx;var Vd="MenuRadioGroup",[Kx,Zx]=Mt(Vd,{value:void 0,onValueChange:()=>{}}),Gd=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...o}=e,s=he(r);return f.jsx(Kx,{scope:e.__scopeMenu,value:n,onValueChange:s,children:f.jsx(va,{...o,ref:t})})});Gd.displayName=Vd;var Kd="MenuRadioItem",Zd=h.forwardRef((e,t)=>{const{value:n,...r}=e,o=Zx(Kd,e.__scopeMenu),s=n===o.value;return f.jsx(Yd,{scope:e.__scopeMenu,checked:s,children:f.jsx(Zr,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":Ca(s),onSelect:F(r.onSelect,()=>{var a;return(a=o.onValueChange)==null?void 0:a.call(o,n)},{checkForDefaultPrevented:!1})})})});Zd.displayName=Kd;var xa="MenuItemIndicator",[Yd,Yx]=Mt(xa,{checked:!1}),Xd=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,s=Yx(xa,n);return f.jsx(Ae,{present:r||cr(s.checked)||s.checked===!0,children:f.jsx(G.span,{...o,ref:t,"data-state":Ca(s.checked)})})});Xd.displayName=xa;var Xx="MenuSeparator",Qd=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return f.jsx(G.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Qd.displayName=Xx;var Qx="MenuArrow",Jd=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,o=Kr(n);return f.jsx(Xi,{...o,...r,ref:t})});Jd.displayName=Qx;var Jx="MenuSub",[yC,ef]=Mt(Jx),dn="MenuSubTrigger",tf=h.forwardRef((e,t)=>{const n=_t(dn,e.__scopeMenu),r=kn(dn,e.__scopeMenu),o=ef(dn,e.__scopeMenu),s=ba(dn,e.__scopeMenu),a=h.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const l=i.current;return()=>{window.clearTimeout(l),c(null)}},[i,c]),f.jsx(ya,{asChild:!0,...u,children:f.jsx(Ud,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":o.contentId,"data-state":of(n.open),...e,ref:Ji(t,o.onTriggerChange),onClick:l=>{var p;(p=e.onClick)==null||p.call(e,l),!(e.disabled||l.defaultPrevented)&&(l.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:F(e.onPointerMove,vn(l=>{s.onItemEnter(l),!l.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:F(e.onPointerLeave,vn(l=>{var g,w;d();const p=(g=n.content)==null?void 0:g.getBoundingClientRect();if(p){const m=(w=n.content)==null?void 0:w.dataset.side,y=m==="right",b=y?-5:5,v=p[y?"left":"right"],x=p[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:l.clientX+b,y:l.clientY},{x:v,y:p.top},{x,y:p.top},{x,y:p.bottom},{x:v,y:p.bottom}],side:m}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(l),l.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:F(e.onKeyDown,l=>{var g;const p=s.searchRef.current!=="";e.disabled||p&&l.key===" "||kx[r.dir].includes(l.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),l.preventDefault())})})})});tf.displayName=dn;var nf="MenuSubContent",rf=h.forwardRef((e,t)=>{const n=Ld(Ie,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,s=_t(Ie,e.__scopeMenu),a=kn(Ie,e.__scopeMenu),i=ef(nf,e.__scopeMenu),c=h.useRef(null),u=ne(t,c);return f.jsx(wn.Provider,{scope:e.__scopeMenu,children:f.jsx(Ae,{present:r||s.open,children:f.jsx(wn.Slot,{scope:e.__scopeMenu,children:f.jsx(wa,{id:i.contentId,"aria-labelledby":i.triggerId,...o,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var l;a.isUsingKeyboardRef.current&&((l=c.current)==null||l.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:F(e.onFocusOutside,d=>{d.target!==i.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:F(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:F(e.onKeyDown,d=>{var g;const l=d.currentTarget.contains(d.target),p=Ox[a.dir].includes(d.key);l&&p&&(s.onOpenChange(!1),(g=i.trigger)==null||g.focus(),d.preventDefault())})})})})})});rf.displayName=nf;function of(e){return e?"open":"closed"}function cr(e){return e==="indeterminate"}function Ca(e){return cr(e)?"indeterminate":e?"checked":"unchecked"}function e1(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function t1(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function n1(e,t,n){const o=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=t1(e,Math.max(s,0));o.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return c!==n?c:void 0}function r1(e,t){const{x:n,y:r}=e;let o=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const i=t[s].x,c=t[s].y,u=t[a].x,d=t[a].y;c>r!=d>r&&n<(u-i)*(r-c)/(d-c)+i&&(o=!o)}return o}function o1(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return r1(n,t)}function vn(e){return t=>t.pointerType==="mouse"?e(t):void 0}var s1=$d,a1=ya,i1=zd,c1=Wd,u1=va,l1=Hd,d1=Zr,f1=qd,p1=Gd,h1=Zd,m1=Xd,y1=Qd,g1=Jd,b1=tf,w1=rf,Sa="DropdownMenu",[v1,gC]=en(Sa,[Fd]),be=Fd(),[x1,sf]=v1(Sa),af=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:o,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,c=be(t),u=h.useRef(null),[d=!1,l]=Ut({prop:o,defaultProp:s,onChange:a});return f.jsx(x1,{scope:t,triggerId:Ye(),triggerRef:u,contentId:Ye(),open:d,onOpenChange:l,onOpenToggle:h.useCallback(()=>l(p=>!p),[l]),modal:i,children:f.jsx(s1,{...c,open:d,onOpenChange:l,dir:r,modal:i,children:n})})};af.displayName=Sa;var cf="DropdownMenuTrigger",uf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,s=sf(cf,n),a=be(n);return f.jsx(a1,{asChild:!0,...a,children:f.jsx(G.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Ji(t,s.triggerRef),onPointerDown:F(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(s.onOpenToggle(),s.open||i.preventDefault())}),onKeyDown:F(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&s.onOpenToggle(),i.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});uf.displayName=cf;var C1="DropdownMenuPortal",lf=e=>{const{__scopeDropdownMenu:t,...n}=e,r=be(t);return f.jsx(i1,{...r,...n})};lf.displayName=C1;var df="DropdownMenuContent",ff=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=sf(df,n),s=be(n),a=h.useRef(!1);return f.jsx(c1,{id:o.contentId,"aria-labelledby":o.triggerId,...s,...r,ref:t,onCloseAutoFocus:F(e.onCloseAutoFocus,i=>{var c;a.current||(c=o.triggerRef.current)==null||c.focus(),a.current=!1,i.preventDefault()}),onInteractOutside:F(e.onInteractOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!o.modal||d)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ff.displayName=df;var S1="DropdownMenuGroup",E1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(u1,{...o,...r,ref:t})});E1.displayName=S1;var T1="DropdownMenuLabel",pf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(l1,{...o,...r,ref:t})});pf.displayName=T1;var P1="DropdownMenuItem",hf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(d1,{...o,...r,ref:t})});hf.displayName=P1;var I1="DropdownMenuCheckboxItem",mf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(f1,{...o,...r,ref:t})});mf.displayName=I1;var N1="DropdownMenuRadioGroup",A1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(p1,{...o,...r,ref:t})});A1.displayName=N1;var R1="DropdownMenuRadioItem",yf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(h1,{...o,...r,ref:t})});yf.displayName=R1;var M1="DropdownMenuItemIndicator",gf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(m1,{...o,...r,ref:t})});gf.displayName=M1;var _1="DropdownMenuSeparator",bf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(y1,{...o,...r,ref:t})});bf.displayName=_1;var j1="DropdownMenuArrow",k1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(g1,{...o,...r,ref:t})});k1.displayName=j1;var O1="DropdownMenuSubTrigger",wf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(b1,{...o,...r,ref:t})});wf.displayName=O1;var D1="DropdownMenuSubContent",vf=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=be(n);return f.jsx(w1,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vf.displayName=D1;var F1=af,B1=uf,$1=lf,xf=ff,Cf=pf,Sf=hf,Ef=mf,Tf=yf,Pf=gf,If=bf,Nf=wf,Af=vf;const L1=F1,z1=B1,W1=h.forwardRef(({className:e,inset:t,children:n,...r},o)=>f.jsxs(Nf,{ref:o,className:q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,f.jsx(Bb,{className:"ml-auto h-4 w-4"})]}));W1.displayName=Nf.displayName;const H1=h.forwardRef(({className:e,...t},n)=>f.jsx(Af,{ref:n,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));H1.displayName=Af.displayName;const Rf=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>f.jsx($1,{children:f.jsx(xf,{ref:r,sideOffset:t,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Rf.displayName=xf.displayName;const U1=h.forwardRef(({className:e,inset:t,...n},r)=>f.jsx(Sf,{ref:r,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));U1.displayName=Sf.displayName;const q1=h.forwardRef(({className:e,children:t,checked:n,...r},o)=>f.jsxs(Ef,{ref:o,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Pf,{children:f.jsx(Bu,{className:"h-4 w-4"})})}),t]}));q1.displayName=Ef.displayName;const V1=h.forwardRef(({className:e,children:t,...n},r)=>f.jsxs(Tf,{ref:r,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(Pf,{children:f.jsx(zb,{className:"h-2 w-2 fill-current"})})}),t]}));V1.displayName=Tf.displayName;const Mf=h.forwardRef(({className:e,inset:t,...n},r)=>f.jsx(Cf,{ref:r,className:q("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Mf.displayName=Cf.displayName;const G1=h.forwardRef(({className:e,...t},n)=>f.jsx(If,{ref:n,className:q("-mx-1 my-1 h-px bg-muted",e),...t}));G1.displayName=If.displayName;const K1=()=>{const e=Q(h.useCallback(r=>r.resetState,[])),t=Me();return{handleDisconnectWallet:h.useCallback(async()=>{e(),nr(t)},[e,t])}};function Z1({evmAddress:e}){const{handleDisconnectWallet:t}=K1();if(e)return f.jsx("div",{className:"flex items-end justify-end my-2 pe-2",children:f.jsxs(L1,{children:[f.jsx(z1,{asChild:!0,children:f.jsxs(ge,{variant:"outline",className:"flex gap-2",children:[Zb(e==null?void 0:e.toString()),f.jsx(ea,{className:"h-4 w-4"})]})}),f.jsx(Rf,{children:f.jsx(Mf,{className:"cursor-pointer",onClick:t,children:"Disconnect Wallet"})})]})})}function Y1({isButtonDisabled:e}){const t=Q(le(r=>r.connectWallet)),{address:n}=Gv();return f.jsx(f.Fragment,{children:t.evmWallet?f.jsx(Z1,{evmAddress:n}):f.jsx(gx,{isButtonDisabled:e})})}function X1({searchResults:e,handleStartCart:t}){var r,o,s;const n=Q(le(a=>a.cart));return!((r=e==null?void 0:e.pageItems)!=null&&r.length)&&!((o=n==null?void 0:n.items)!=null&&o.length)?null:f.jsx("div",{className:"flex flex-col gap-2 mt-auto px-1 pb-2",children:f.jsx(ge,{className:"rounded-xl bg-[linear-gradient(95deg,_#5744e6_4.29%,_#8936ea_99.74%)]",disabled:!((s=n.items)!=null&&s.length),onClick:t,children:"Checkout"})})}const Q1=()=>{const e=Q(le(b=>b.cart)),t=Q(le(b=>b.widgetConfig)),n=Q(h.useCallback(b=>b.setWidgetSettings,[])),[r,o]=h.useState({sld:"",tld:"",skip:0,limit:kp}),s=h.useMemo(()=>{const b=new URLSearchParams(Object.keys(r).map(v=>[v,r[v]])).toString();return`${Qn.search}?${b}`},[r]),a=h.useMemo(()=>{const b=new URLSearchParams(Object.keys(r).map(v=>[v,r[v]])).toString();return`${Qn.recommendations}?${b}`},[r]),{data:i,isLoading:c,isError:u,error:d}=fs({queryKey:[Jn.fetchSearchResults,{sld:r.sld,tld:r.tld}],endpoint:s,queryParameters:{enabled:!!(r!=null&&r.sld),retry:0,refetchOnWindowFocus:!1,staleTime:1e3*60*5}}),{data:l,isLoading:p,isError:g,error:w}=fs({queryKey:[Jn.fetchRecommendations,{sld:r.sld,tld:r.tld}],endpoint:a,queryParameters:{enabled:!!(r!=null&&r.sld)&&t.showRecommendations,retry:0,refetchOnWindowFocus:!1,staleTime:1e3*60*5}}),m=b=>{const v=Kb(t.tlds);o(x=>({...x,sld:b,tld:v}))},y=h.useCallback(async()=>{var b;(b=e==null?void 0:e.items)!=null&&b.length&&n({isCartViewOpen:!0})},[n,e==null?void 0:e.items]);return{searchQueryParams:r,searchResults:i,isLoading:c,isError:u,error:d,handleSearchSubmit:m,handlePaymentMethods:y,recommendationsResults:l,isRecommendationError:g,isRecommendationLoading:p,recommendationRequestError:w}},J1=({isItemInCart:e,handleCartAction:t,isCartLimitReached:n,searchResult:r})=>e?f.jsx(ge,{variant:"outline",className:"opacity-0 group-hover:opacity-100 absolute right-2 transition-opacity ease-in-out delay-0 duration-150",onClick:()=>t(r),children:"Remove"}):n?f.jsxs(Op,{children:[f.jsx(Dp,{asChild:!0,children:f.jsx("span",{className:"opacity-0 group-hover:opacity-100 absolute right-2 transition-opacity ease-in-out delay-0 duration-150",children:f.jsx(ge,{disabled:!0,children:"Add to Cart"})})}),f.jsx(Fp,{children:f.jsx(Bp,{className:"tooltip-content",children:"Cart Limit Reached"})})]}):f.jsx(ge,{variant:"outline",className:"opacity-0 group-hover:opacity-100 absolute right-2 transition-opacity ease-in-out delay-0 duration-150",onClick:()=>t(r),children:"Add to Cart"}),_f=({searchResult:e,handleCartAction:t,isItemInCart:n,isCartLimitReached:r})=>{var s;const o=((s=e==null?void 0:e.status)==null?void 0:s.toLowerCase())==="available";return f.jsx(ta,{className:Ze("drop-shadow-lg border-none rounded-xl group w-full relative",o&&"hover:shadow-md"),children:f.jsx(na,{className:"grid px-3 py-2",children:f.jsxs("div",{className:"flex items-center gap-2 justify-between",children:[f.jsxs("div",{className:"flex-1 space-y-1",children:[f.jsx("p",{className:"text-lg font-semibold text-left break-all",children:Zu({sld:e.sld,tld:e.tld,eoi:!0})}),o?f.jsxs("p",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-700",children:f.jsx($u,{size:18})}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"Available"})]}):f.jsxs("p",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-red-500",children:f.jsx(Lu,{size:18})}),f.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:e==null?void 0:e.status})]})]}),f.jsx(Yu,{domain:e,isDomainLocked:!o}),o?f.jsx(J1,{isCartLimitReached:r,isItemInCart:n,searchResult:e,handleCartAction:t}):null]})})})};function eC({isError:e,isLoading:t,error:n,recommendationsResults:r,searchTerm:o,searchResults:s}){const{getIsItemInCart:a,handleAddToCart:i,handleRemoveFromCart:c,isCartLimitReached:u}=ca(),d=h.useMemo(()=>r&&s?Yb(r,s):null,[r,s]);return!o&&!d?null:t?f.jsxs("div",{className:"flex flex-col space-y-4 mt-3",children:[f.jsx(er,{className:"h-[65px] w-full rounded-xl"}),f.jsx(er,{className:"h-[65px] w-full rounded-xl"})]}):e&&n?f.jsx("div",{className:"flex mt-3",children:f.jsx("p",{className:"text-xs text-red-600 mt-1 text-left",children:n==null?void 0:n.message})}):d!=null&&d.length?f.jsxs(f.Fragment,{children:[f.jsxs("h2",{className:q("text-lg font-bold text-left my-3"),children:["AI Recommended Results (",d.length,")"]}),f.jsx("div",{id:"recommendations-results-container",className:q("flex flex-col flex-grow gap-y-4 pb-2"),children:d.slice(0,20).map(l=>{const p=a(l);return f.jsx(_f,{searchResult:l,isItemInCart:!!p,isCartLimitReached:u,handleCartAction:()=>{if(p){c(l);return}i(l)}},l.tld+l.sld)})})]}):f.jsx("div",{className:"flex mt-3",children:f.jsx("p",{className:"text-sm mt-1 text-gray-800 text-left",children:"No Recommendations found. Please try again with a different search"})})}const jf=h.forwardRef(({className:e,type:t,...n},r)=>f.jsx("input",{type:t,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));jf.displayName="Input";function tC({initialSearch:e,isSearchDisabled:t=!1,handleSubmit:n}){const r=h.useRef(null),[o,s]=h.useState(e),[a,i]=h.useState(null),c=l=>{l.key==="Enter"&&(o!=null&&o.length)&&!t&&(l.preventDefault(),l.stopPropagation(),d())},u=l=>{const p=l.target.value;s(p)},d=()=>{if(o!=null&&o.startsWith("-")||o!=null&&o.endsWith("-")){i('Name cannot start or end with "-"');return}if(o!=null&&o.length){const l=o.replace(/\s+/g,"");i(null),n(l),s(l)}};return{searchValue:o,searchInputRef:r,errorMessage:a,setErrorMessage:i,handleKeyDown:c,handleSearchInputChange:u,handleSearchAction:d}}function nC({handleSearchSubmit:e,isSearchDisabled:t,initialSearch:n=""}){const{searchValue:r,searchInputRef:o,errorMessage:s,handleKeyDown:a,handleSearchInputChange:i,handleSearchAction:c}=tC({initialSearch:n,handleSubmit:e});return f.jsx("form",{onSubmit:u=>{u.preventDefault(),c()},children:f.jsx("div",{className:"flex gap-2 my-2 px-2",children:f.jsxs("div",{className:"flex-grow relative",children:[f.jsx("span",{className:"absolute left-3 top-3",children:f.jsx(Wu,{size:"16"})}),f.jsx(jf,{value:r,onChange:i,onKeyDown:a,ref:o,"aria-label":"Search name",title:"Search name",placeholder:"Search name",translate:"no",spellCheck:"false",autoCorrect:"false",autoComplete:"false",autoCapitalize:"false","data-testid":"search-field",maxLength:63,minLength:1,"aria-invalid":!!s,readOnly:t,className:"rounded-xl pr-20 ps-8"}),s?f.jsx("p",{className:"text-xs text-red-600 mt-1 text-left",children:s}):null,f.jsx(ge,{"aria-label":"search name",className:"rounded-xl absolute right-0 top-0 px-7 bg-[linear-gradient(95deg,_#5744e6_4.29%,_#8936ea_99.74%)]",disabled:t,type:"submit",children:"Search"})]})})})}function rC({isError:e,isLoading:t,error:n,searchResults:r,searchTerm:o}){var u,d;const{getIsItemInCart:s,handleAddToCart:a,handleRemoveFromCart:i,isCartLimitReached:c}=ca();return!o&&!r?null:t?f.jsxs("div",{className:"flex flex-col space-y-4",children:[f.jsx(er,{className:"h-[65px] w-full rounded-xl"}),f.jsx(er,{className:"h-[65px] w-full rounded-xl"})]}):e&&n?f.jsx("div",{className:"flex",children:f.jsx("p",{className:"text-xs text-red-600 mt-1 text-left",children:n==null?void 0:n.message})}):(u=r==null?void 0:r.pageItems)!=null&&u.length?f.jsxs(f.Fragment,{children:[f.jsxs("h2",{className:q("text-lg font-bold text-left mb-3"),children:["Search Results(",(d=r==null?void 0:r.pageItems)==null?void 0:d.length,")"]}),f.jsx("div",{id:"search-results-container",className:q("flex flex-col flex-grow gap-y-4 pb-2"),children:r.pageItems.map(l=>{const p=s(l);return f.jsx(_f,{searchResult:l,isItemInCart:!!p,isCartLimitReached:c,handleCartAction:()=>{if(p){i(l);return}a(l)}},l.tld+l.sld)})})]}):f.jsx("div",{className:"flex",children:f.jsx("p",{className:"text-sm mt-1 text-gray-800 text-left",children:"No Search results found. Please try again with a different search"})})}const oC=()=>{const{searchResults:e,searchQueryParams:t,isLoading:n,isError:r,error:o,handleSearchSubmit:s,handlePaymentMethods:a,recommendationsResults:i,isRecommendationError:c,isRecommendationLoading:u,recommendationRequestError:d}=Q1(),l=Q(le(g=>g.widgetConfig)),p=l!=null&&l.integrationMode?(l==null?void 0:l.integrationMode)===Ki.WALLET:!1;return f.jsxs("div",{className:"flex flex-col gap-y-2 flex-grow",children:[f.jsx(nC,{isSearchDisabled:n,handleSearchSubmit:s,initialSearch:t.sld}),f.jsx("div",{id:"search-results",className:q("flex flex-col flex-grow gap-3 overflow-auto pb-2"),children:f.jsxs(ia,{className:Ze("h-9/12 px-2",p?"max-h-[375px]":"max-h-[425px]"),children:[f.jsx(rC,{searchResults:e,isLoading:n,isError:r,error:o,searchTerm:t.sld}),l!=null&&l.showRecommendations?f.jsx(eC,{recommendationsResults:i,isLoading:u,isError:c,error:d,searchTerm:t.sld,searchResults:e==null?void 0:e.pageItems}):null]})}),f.jsx(X1,{searchResults:e,handleStartCart:a})]})},sC=()=>{var r;const e=Q(le(o=>o.widgetConfig)),t=Q(le(o=>o.widgetSettings));if(!e.tlds)return f.jsx("div",{className:"flex flex-col w-[93svw] h-[560px] max-h-[75svh] max-w-[400px] border bg-primary-foreground rounded-xl absolute bottom-16 right-0 overflow-auto shadow-xl dark:border dark:border-interactive-border",children:f.jsxs("p",{className:"text-xs text-red-600 mt-4 p-3 text-left",children:["Please configure a list of valid tlds for this search widget. You can get a list of valid tlds from"," ",f.jsx("a",{href:$p,target:"_blank",rel:"noreferrer",children:"D3 Dashboard"}),"."]})});const n=!e.onPurchaseInit&&!((r=e==null?void 0:e.walletAddress)!=null&&r.length);return f.jsxs("div",{className:"flex flex-col w-[93svw] h-[560px] max-h-[75svh] max-w-[400px] bg-primary-foreground rounded-xl absolute bottom-16 right-0 overflow-auto shadow-xl dark:border dark:border-interactive-border",children:[n?f.jsx(Y1,{}):null,t.isCartViewOpen?f.jsx(Vv,{}):f.jsx(oC,{}),f.jsx(Vb,{})]})},bC=Object.freeze(Object.defineProperty({__proto__:null,default:sC},Symbol.toStringTag,{value:"Module"}));export{bC as a,Ir as c,Um as d,tn as e,$s as i};
